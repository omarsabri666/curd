function mO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function LI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FI={exports:{}},Gd={},$I={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),gO=Symbol.for("react.portal"),yO=Symbol.for("react.fragment"),vO=Symbol.for("react.strict_mode"),_O=Symbol.for("react.profiler"),wO=Symbol.for("react.provider"),EO=Symbol.for("react.context"),TO=Symbol.for("react.forward_ref"),SO=Symbol.for("react.suspense"),IO=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),aw=Symbol.iterator;function PO(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var jI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UI=Object.assign,BI={};function Sa(t,e,n){this.props=t,this.context=e,this.refs=BI,this.updater=n||jI}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zI(){}zI.prototype=Sa.prototype;function ev(t,e,n){this.props=t,this.context=e,this.refs=BI,this.updater=n||jI}var tv=ev.prototype=new zI;tv.constructor=ev;UI(tv,Sa.prototype);tv.isPureReactComponent=!0;var lw=Array.isArray,HI=Object.prototype.hasOwnProperty,nv={current:null},qI={key:!0,ref:!0,__self:!0,__source:!0};function WI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HI.call(e,r)&&!qI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nu,type:t,key:s,ref:o,props:i,_owner:nv.current}}function AO(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function RO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uw=/\/+/g;function Cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RO(""+t.key):e.toString(36)}function rh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nu:case gO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cp(o,0):r,lw(i)?(n="",t!=null&&(n=t.replace(uw,"$&/")+"/"),rh(i,e,n,"",function(u){return u})):i!=null&&(rv(i)&&(i=AO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cp(s,a);o+=rh(s,e,n,l,i)}else if(l=PO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cp(s,a++),o+=rh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ec(t,e,n){if(t==null)return t;var r=[],i=0;return rh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},ih={transition:null},kO={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:ih,ReactCurrentOwner:nv};Oe.Children={map:Ec,forEach:function(t,e,n){Ec(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!rv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Sa;Oe.Fragment=yO;Oe.Profiler=_O;Oe.PureComponent=ev;Oe.StrictMode=vO;Oe.Suspense=SO;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HI.call(e,l)&&!qI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Nu,type:t.type,key:i,ref:s,props:r,_owner:o}};Oe.createContext=function(t){return t={$$typeof:EO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wO,_context:t},t.Consumer=t};Oe.createElement=WI;Oe.createFactory=function(t){var e=WI.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:TO,render:t}};Oe.isValidElement=rv;Oe.lazy=function(t){return{$$typeof:CO,_payload:{_status:-1,_result:t},_init:xO}};Oe.memo=function(t,e){return{$$typeof:IO,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=ih.transition;ih.transition={};try{t()}finally{ih.transition=e}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(t,e){return fn.current.useCallback(t,e)};Oe.useContext=function(t){return fn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return fn.current.useEffect(t,e)};Oe.useId=function(){return fn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return fn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};Oe.useRef=function(t){return fn.current.useRef(t)};Oe.useState=function(t){return fn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return fn.current.useTransition()};Oe.version="18.2.0";$I.exports=Oe;var E=$I.exports;const me=LI(E),bO=mO({__proto__:null,default:me},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO=E,OO=Symbol.for("react.element"),NO=Symbol.for("react.fragment"),MO=Object.prototype.hasOwnProperty,VO=DO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LO={key:!0,ref:!0,__self:!0,__source:!0};function KI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MO.call(e,r)&&!LO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OO,type:t,key:s,ref:o,props:i,_owner:VO.current}}Gd.Fragment=NO;Gd.jsx=KI;Gd.jsxs=KI;FI.exports=Gd;var C=FI.exports,Ym={},GI={exports:{}},On={},QI={exports:{}},YI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,X){var se=N.length;N.push(X);e:for(;0<se;){var le=se-1>>>1,H=N[le];if(0<i(H,X))N[le]=X,N[se]=H,se=le;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var X=N[0],se=N.pop();if(se!==X){N[0]=se;e:for(var le=0,H=N.length,G=H>>>1;le<G;){var B=2*(le+1)-1,ue=N[B],R=B+1,Ce=N[R];if(0>i(ue,se))R<H&&0>i(Ce,ue)?(N[le]=Ce,N[R]=se,le=R):(N[le]=ue,N[B]=se,le=B);else if(R<H&&0>i(Ce,se))N[le]=Ce,N[R]=se,le=R;else break e}}return X}function i(N,X){var se=N.sortIndex-X.sortIndex;return se!==0?se:N.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=N)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function y(N){if(v=!1,_(N),!m)if(n(l)!==null)m=!0,he(T);else{var X=n(u);X!==null&&fe(y,X.startTime-N)}}function T(N,X){m=!1,v&&(v=!1,g(I),I=-1),f=!0;var se=d;try{for(_(X),h=n(l);h!==null&&(!(h.expirationTime>X)||N&&!oe());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var H=le(h.expirationTime<=X);X=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),_(X)}else r(l);h=n(l)}if(h!==null)var G=!0;else{var B=n(u);B!==null&&fe(y,B.startTime-X),G=!1}return G}finally{h=null,d=se,f=!1}}var A=!1,P=null,I=-1,O=5,U=-1;function oe(){return!(t.unstable_now()-U<O)}function F(){if(P!==null){var N=t.unstable_now();U=N;var X=!0;try{X=P(!0,N)}finally{X?K():(A=!1,P=null)}}else A=!1}var K;if(typeof p=="function")K=function(){p(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=F,K=function(){ee.postMessage(null)}}else K=function(){w(F,0)};function he(N){P=N,A||(A=!0,K())}function fe(N,X){I=w(function(){N(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,he(T))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var se=d;d=X;try{return N()}finally{d=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var se=d;d=N;try{return X()}finally{d=se}},t.unstable_scheduleCallback=function(N,X,se){var le=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?le+se:le):se=le,N){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=se+H,N={id:c++,callback:X,priorityLevel:N,startTime:se,expirationTime:H,sortIndex:-1},se>le?(N.sortIndex=se,e(u,N),n(l)===null&&N===n(u)&&(v?(g(I),I=-1):v=!0,fe(y,se-le))):(N.sortIndex=H,e(l,N),m||f||(m=!0,he(T))),N},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(N){var X=d;return function(){var se=d;d=X;try{return N.apply(this,arguments)}finally{d=se}}}})(YI);QI.exports=YI;var FO=QI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI=E,kn=FO;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JI=new Set,Hl={};function Xs(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(Hl[t]=e,t=0;t<e.length;t++)JI.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=Object.prototype.hasOwnProperty,$O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cw={},hw={};function jO(t){return Xm.call(hw,t)?!0:Xm.call(cw,t)?!1:$O.test(t)?hw[t]=!0:(cw[t]=!0,!1)}function UO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BO(t,e,n,r){if(e===null||typeof e>"u"||UO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var iv=/[\-:]([a-z])/g;function sv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iv,sv);Ht[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iv,sv);Ht[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iv,sv);Ht[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ov(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BO(e,n,i,r)&&(n=null),r||i===null?jO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=XI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),ZI=Symbol.for("react.provider"),eC=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),eg=Symbol.for("react.suspense_list"),uv=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),tC=Symbol.for("react.offscreen"),dw=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=dw&&t[dw]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Pp;function sl(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Ap=!1;function Rp(t,e){if(!t||Ap)return"";Ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sl(t):""}function zO(t){switch(t.tag){case 5:return sl(t.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return t=Rp(t.type,!1),t;case 11:return t=Rp(t.type.render,!1),t;case 1:return t=Rp(t.type,!0),t;default:return""}}function tg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Eo:return"Portal";case Jm:return"Profiler";case av:return"StrictMode";case Zm:return"Suspense";case eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eC:return(t.displayName||"Context")+".Consumer";case ZI:return(t._context.displayName||"Context")+".Provider";case lv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uv:return e=t.displayName||null,e!==null?e:tg(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return tg(t(e))}catch{}}return null}function HO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tg(e);case 8:return e===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qO(t){var e=nC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=qO(t))}function rC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ng(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iC(t,e){e=e.checked,e!=null&&ov(t,"checked",e,!1)}function rg(t,e){iC(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ig(t,e.type,n):e.hasOwnProperty("defaultValue")&&ig(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ig(t,e,n){(e!=="number"||Dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function Bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(ol(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function sC(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ic,aC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WO=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){WO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function lC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function uC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KO=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ag(t,e){if(e){if(KO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function lg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cg=null,zo=null,Ho=null;function yw(t){if(t=Lu(t)){if(typeof cg!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Zd(e),cg(t.stateNode,t.type,e))}}function cC(t){zo?Ho?Ho.push(t):Ho=[t]:zo=t}function hC(){if(zo){var t=zo,e=Ho;if(Ho=zo=null,yw(t),e)for(t=0;t<e.length;t++)yw(e[t])}}function dC(t,e){return t(e)}function fC(){}var xp=!1;function pC(t,e,n){if(xp)return t(e,n);xp=!0;try{return dC(t,e,n)}finally{xp=!1,(zo!==null||Ho!==null)&&(fC(),hC())}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var hg=!1;if(Yr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){hg=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{hg=!1}function GO(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wl=!1,Oh=null,Nh=!1,dg=null,QO={onError:function(t){wl=!0,Oh=t}};function YO(t,e,n,r,i,s,o,a,l){wl=!1,Oh=null,GO.apply(QO,arguments)}function XO(t,e,n,r,i,s,o,a,l){if(YO.apply(this,arguments),wl){if(wl){var u=Oh;wl=!1,Oh=null}else throw Error(j(198));Nh||(Nh=!0,dg=u)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vw(t){if(Js(t)!==t)throw Error(j(188))}function JO(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vw(i),t;if(s===r)return vw(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function gC(t){return t=JO(t),t!==null?yC(t):null}function yC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yC(t);if(e!==null)return e;t=t.sibling}return null}var vC=kn.unstable_scheduleCallback,_w=kn.unstable_cancelCallback,ZO=kn.unstable_shouldYield,e2=kn.unstable_requestPaint,pt=kn.unstable_now,t2=kn.unstable_getCurrentPriorityLevel,hv=kn.unstable_ImmediatePriority,_C=kn.unstable_UserBlockingPriority,Mh=kn.unstable_NormalPriority,n2=kn.unstable_LowPriority,wC=kn.unstable_IdlePriority,Qd=null,wr=null;function r2(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Qd,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:o2,i2=Math.log,s2=Math.LN2;function o2(t){return t>>>=0,t===0?32:31-(i2(t)/s2|0)|0}var Cc=64,Pc=4194304;function al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=al(a):(s&=o,s!==0&&(r=al(s)))}else o=n&~i,o!==0?r=al(o):s!==0&&(r=al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function a2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=a2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EC(){var t=Cc;return Cc<<=1,!(Cc&4194240)&&(Cc=64),t}function kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function u2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function TC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SC,fv,IC,CC,PC,pg=!1,Ac=[],ki=null,bi=null,Di=null,Kl=new Map,Gl=new Map,_i=[],c2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ww(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(e.pointerId)}}function za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&fv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function h2(t,e,n,r,i){switch(e){case"focusin":return ki=za(ki,t,e,n,r,i),!0;case"dragenter":return bi=za(bi,t,e,n,r,i),!0;case"mouseover":return Di=za(Di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kl.set(s,za(Kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gl.set(s,za(Gl.get(s)||null,t,e,n,r,i)),!0}return!1}function AC(t){var e=vs(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=mC(n),e!==null){t.blockedOn=e,PC(t.priority,function(){IC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ug=r,n.target.dispatchEvent(r),ug=null}else return e=Lu(n),e!==null&&fv(e),t.blockedOn=n,!1;e.shift()}return!0}function Ew(t,e,n){sh(t)&&n.delete(e)}function d2(){pg=!1,ki!==null&&sh(ki)&&(ki=null),bi!==null&&sh(bi)&&(bi=null),Di!==null&&sh(Di)&&(Di=null),Kl.forEach(Ew),Gl.forEach(Ew)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,pg||(pg=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,d2)))}function Ql(t){function e(i){return Ha(i,t)}if(0<Ac.length){Ha(Ac[0],t);for(var n=1;n<Ac.length;n++){var r=Ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&Ha(ki,t),bi!==null&&Ha(bi,t),Di!==null&&Ha(Di,t),Kl.forEach(e),Gl.forEach(e),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)AC(n),n.blockedOn===null&&_i.shift()}var qo=ai.ReactCurrentBatchConfig,Lh=!0;function f2(t,e,n,r){var i=je,s=qo.transition;qo.transition=null;try{je=1,pv(t,e,n,r)}finally{je=i,qo.transition=s}}function p2(t,e,n,r){var i=je,s=qo.transition;qo.transition=null;try{je=4,pv(t,e,n,r)}finally{je=i,qo.transition=s}}function pv(t,e,n,r){if(Lh){var i=mg(t,e,n,r);if(i===null)jp(t,e,r,Fh,n),ww(t,r);else if(h2(i,t,e,n,r))r.stopPropagation();else if(ww(t,r),e&4&&-1<c2.indexOf(t)){for(;i!==null;){var s=Lu(i);if(s!==null&&SC(s),s=mg(t,e,n,r),s===null&&jp(t,e,r,Fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jp(t,e,r,null,n)}}var Fh=null;function mg(t,e,n,r){if(Fh=null,t=cv(r),t=vs(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fh=t,null}function RC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t2()){case hv:return 1;case _C:return 4;case Mh:case n2:return 16;case wC:return 536870912;default:return 16}default:return 16}}var Ci=null,mv=null,oh=null;function xC(){if(oh)return oh;var t,e=mv,n=e.length,r,i="value"in Ci?Ci.value:Ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oh=i.slice(t,1<r?1-r:void 0)}function ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rc(){return!0}function Tw(){return!1}function Nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rc:Tw,this.isPropagationStopped=Tw,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gv=Nn(Ia),Vu=ot({},Ia,{view:0,detail:0}),m2=Nn(Vu),bp,Dp,qa,Yd=ot({},Vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(bp=t.screenX-qa.screenX,Dp=t.screenY-qa.screenY):Dp=bp=0,qa=t),bp)},movementY:function(t){return"movementY"in t?t.movementY:Dp}}),Sw=Nn(Yd),g2=ot({},Yd,{dataTransfer:0}),y2=Nn(g2),v2=ot({},Vu,{relatedTarget:0}),Op=Nn(v2),_2=ot({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),w2=Nn(_2),E2=ot({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T2=Nn(E2),S2=ot({},Ia,{data:0}),Iw=Nn(S2),I2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P2[t])?!!e[t]:!1}function yv(){return A2}var R2=ot({},Vu,{key:function(t){if(t.key){var e=I2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yv,charCode:function(t){return t.type==="keypress"?ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x2=Nn(R2),k2=ot({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cw=Nn(k2),b2=ot({},Vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yv}),D2=Nn(b2),O2=ot({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),N2=Nn(O2),M2=ot({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=Nn(M2),L2=[9,13,27,32],vv=Yr&&"CompositionEvent"in window,El=null;Yr&&"documentMode"in document&&(El=document.documentMode);var F2=Yr&&"TextEvent"in window&&!El,kC=Yr&&(!vv||El&&8<El&&11>=El),Pw=String.fromCharCode(32),Aw=!1;function bC(t,e){switch(t){case"keyup":return L2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function $2(t,e){switch(t){case"compositionend":return DC(e);case"keypress":return e.which!==32?null:(Aw=!0,Pw);case"textInput":return t=e.data,t===Pw&&Aw?null:t;default:return null}}function j2(t,e){if(So)return t==="compositionend"||!vv&&bC(t,e)?(t=xC(),oh=mv=Ci=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kC&&e.locale!=="ko"?null:e.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U2[t.type]:e==="textarea"}function OC(t,e,n,r){cC(r),e=$h(e,"onChange"),0<e.length&&(n=new gv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,Yl=null;function B2(t){HC(t,0)}function Xd(t){var e=Po(t);if(rC(e))return t}function z2(t,e){if(t==="change")return e}var NC=!1;if(Yr){var Np;if(Yr){var Mp="oninput"in document;if(!Mp){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),Mp=typeof xw.oninput=="function"}Np=Mp}else Np=!1;NC=Np&&(!document.documentMode||9<document.documentMode)}function kw(){Tl&&(Tl.detachEvent("onpropertychange",MC),Yl=Tl=null)}function MC(t){if(t.propertyName==="value"&&Xd(Yl)){var e=[];OC(e,Yl,t,cv(t)),pC(B2,e)}}function H2(t,e,n){t==="focusin"?(kw(),Tl=e,Yl=n,Tl.attachEvent("onpropertychange",MC)):t==="focusout"&&kw()}function q2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xd(Yl)}function W2(t,e){if(t==="click")return Xd(e)}function K2(t,e){if(t==="input"||t==="change")return Xd(e)}function G2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:G2;function Xl(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xm.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function bw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dw(t,e){var n=bw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bw(n)}}function VC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LC(){for(var t=window,e=Dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dh(t.document)}return e}function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Q2(t){var e=LC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VC(n.ownerDocument.documentElement,n)){if(r!==null&&_v(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Dw(n,s);var o=Dw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y2=Yr&&"documentMode"in document&&11>=document.documentMode,Io=null,gg=null,Sl=null,yg=!1;function Ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||Io==null||Io!==Dh(r)||(r=Io,"selectionStart"in r&&_v(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Xl(Sl,r)||(Sl=r,r=$h(gg,"onSelect"),0<r.length&&(e=new gv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Co={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Vp={},FC={};Yr&&(FC=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Jd(t){if(Vp[t])return Vp[t];if(!Co[t])return t;var e=Co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FC)return Vp[t]=e[n];return t}var $C=Jd("animationend"),jC=Jd("animationiteration"),UC=Jd("animationstart"),BC=Jd("transitionend"),zC=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){zC.set(t,e),Xs(e,[t])}for(var Lp=0;Lp<Nw.length;Lp++){var Fp=Nw[Lp],X2=Fp.toLowerCase(),J2=Fp[0].toUpperCase()+Fp.slice(1);Zi(X2,"on"+J2)}Zi($C,"onAnimationEnd");Zi(jC,"onAnimationIteration");Zi(UC,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(BC,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XO(r,e,void 0,t),t.currentTarget=null}function HC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,u),s=l}}}if(Nh)throw t=dg,Nh=!1,dg=null,t}function Qe(t,e){var n=e[Tg];n===void 0&&(n=e[Tg]=new Set);var r=t+"__bubble";n.has(r)||(qC(e,t,2,!1),n.add(r))}function $p(t,e,n){var r=0;e&&(r|=4),qC(n,t,r,e)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[kc]){t[kc]=!0,JI.forEach(function(n){n!=="selectionchange"&&(Z2.has(n)||$p(n,!1,t),$p(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kc]||(e[kc]=!0,$p("selectionchange",!1,e))}}function qC(t,e,n,r){switch(RC(e)){case 1:var i=f2;break;case 4:i=p2;break;default:i=pv}n=i.bind(null,e,n,t),i=void 0,!hg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pC(function(){var u=s,c=cv(n),h=[];e:{var d=zC.get(t);if(d!==void 0){var f=gv,m=t;switch(t){case"keypress":if(ah(n)===0)break e;case"keydown":case"keyup":f=x2;break;case"focusin":m="focus",f=Op;break;case"focusout":m="blur",f=Op;break;case"beforeblur":case"afterblur":f=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=D2;break;case $C:case jC:case UC:f=w2;break;case BC:f=N2;break;case"scroll":f=m2;break;case"wheel":f=V2;break;case"copy":case"cut":case"paste":f=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Cw}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,_;p!==null;){_=p;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,g!==null&&(y=Wl(p,g),y!=null&&v.push(Zl(p,y,_)))),w)break;p=p.return}0<v.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==ug&&(m=n.relatedTarget||n.fromElement)&&(vs(m)||m[Xr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?vs(m):null,m!==null&&(w=Js(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=Sw,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Cw,y="onPointerLeave",g="onPointerEnter",p="pointer"),w=f==null?d:Po(f),_=m==null?d:Po(m),d=new v(y,p+"leave",f,n,c),d.target=w,d.relatedTarget=_,y=null,vs(c)===u&&(v=new v(g,p+"enter",m,n,c),v.target=_,v.relatedTarget=w,y=v),w=y,f&&m)t:{for(v=f,g=m,p=0,_=v;_;_=fo(_))p++;for(_=0,y=g;y;y=fo(y))_++;for(;0<p-_;)v=fo(v),p--;for(;0<_-p;)g=fo(g),_--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=fo(v),g=fo(g)}v=null}else v=null;f!==null&&Vw(h,d,f,v,!1),m!==null&&w!==null&&Vw(h,w,m,v,!0)}}e:{if(d=u?Po(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=z2;else if(Rw(d))if(NC)T=K2;else{T=q2;var A=H2}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=W2);if(T&&(T=T(t,u))){OC(h,T,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&ig(d,"number",d.value)}switch(A=u?Po(u):window,t){case"focusin":(Rw(A)||A.contentEditable==="true")&&(Io=A,gg=u,Sl=null);break;case"focusout":Sl=gg=Io=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,Ow(h,n,c);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":Ow(h,n,c)}var P;if(vv)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else So?bC(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(kC&&n.locale!=="ko"&&(So||I!=="onCompositionStart"?I==="onCompositionEnd"&&So&&(P=xC()):(Ci=c,mv="value"in Ci?Ci.value:Ci.textContent,So=!0)),A=$h(u,I),0<A.length&&(I=new Iw(I,t,null,n,c),h.push({event:I,listeners:A}),P?I.data=P:(P=DC(n),P!==null&&(I.data=P)))),(P=F2?$2(t,n):j2(t,n))&&(u=$h(u,"onBeforeInput"),0<u.length&&(c=new Iw("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=P))}HC(h,e)})}function Zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $h(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(t,n),s!=null&&r.unshift(Zl(t,s,i)),s=Wl(t,e),s!=null&&r.push(Zl(t,s,i))),t=t.return}return r}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wl(n,s),l!=null&&o.unshift(Zl(n,l,a))):i||(l=Wl(n,s),l!=null&&o.push(Zl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function Lw(t){return(typeof t=="string"?t:""+t).replace(eN,`
`).replace(tN,"")}function bc(t,e,n){if(e=Lw(e),Lw(t)!==e&&n)throw Error(j(425))}function jh(){}var vg=null,_g=null;function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(t){return Fw.resolve(null).then(t).catch(iN)}:Eg;function iN(t){setTimeout(function(){throw t})}function Up(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ql(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ca,eu="__reactProps$"+Ca,Xr="__reactContainer$"+Ca,Tg="__reactEvents$"+Ca,sN="__reactListeners$"+Ca,oN="__reactHandles$"+Ca;function vs(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$w(t);t!==null;){if(n=t[mr])return n;t=$w(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[mr]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Zd(t){return t[eu]||null}var Sg=[],Ao=-1;function es(t){return{current:t}}function Xe(t){0>Ao||(t.current=Sg[Ao],Sg[Ao]=null,Ao--)}function We(t,e){Ao++,Sg[Ao]=t.current,t.current=e}var Ki={},rn=es(Ki),_n=es(!1),Vs=Ki;function ta(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Uh(){Xe(_n),Xe(rn)}function jw(t,e,n){if(rn.current!==Ki)throw Error(j(168));We(rn,e),We(_n,n)}function WC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,HO(t)||"Unknown",i));return ot({},n,r)}function Bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Vs=rn.current,We(rn,t),We(_n,_n.current),!0}function Uw(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=WC(t,e,Vs),r.__reactInternalMemoizedMergedChildContext=t,Xe(_n),Xe(rn),We(rn,t)):Xe(_n),We(_n,n)}var Vr=null,ef=!1,Bp=!1;function KC(t){Vr===null?Vr=[t]:Vr.push(t)}function aN(t){ef=!0,KC(t)}function ts(){if(!Bp&&Vr!==null){Bp=!0;var t=0,e=je;try{var n=Vr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,ef=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),vC(hv,ts),i}finally{je=e,Bp=!1}}return null}var Ro=[],xo=0,zh=null,Hh=0,Un=[],Bn=0,Ls=null,Fr=1,$r="";function ds(t,e){Ro[xo++]=Hh,Ro[xo++]=zh,zh=t,Hh=e}function GC(t,e,n){Un[Bn++]=Fr,Un[Bn++]=$r,Un[Bn++]=Ls,Ls=t;var r=Fr;t=$r;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fr=1<<32-sr(e)+i|n<<i|r,$r=s+t}else Fr=1<<s|n<<i|r,$r=t}function wv(t){t.return!==null&&(ds(t,1),GC(t,1,0))}function Ev(t){for(;t===zh;)zh=Ro[--xo],Ro[xo]=null,Hh=Ro[--xo],Ro[xo]=null;for(;t===Ls;)Ls=Un[--Bn],Un[Bn]=null,$r=Un[--Bn],Un[Bn]=null,Fr=Un[--Bn],Un[Bn]=null}var An=null,Cn=null,tt=!1,rr=null;function QC(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Cn=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ls!==null?{id:Fr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Cn=null,!0):!1;default:return!1}}function Ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cg(t){if(tt){var e=Cn;if(e){var n=e;if(!Bw(t,e)){if(Ig(t))throw Error(j(418));e=Oi(n.nextSibling);var r=An;e&&Bw(t,e)?QC(r,n):(t.flags=t.flags&-4097|2,tt=!1,An=t)}}else{if(Ig(t))throw Error(j(418));t.flags=t.flags&-4097|2,tt=!1,An=t}}}function zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Dc(t){if(t!==An)return!1;if(!tt)return zw(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wg(t.type,t.memoizedProps)),e&&(e=Cn)){if(Ig(t))throw YC(),Error(j(418));for(;e;)QC(t,e),e=Oi(e.nextSibling)}if(zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=An?Oi(t.stateNode.nextSibling):null;return!0}function YC(){for(var t=Cn;t;)t=Oi(t.nextSibling)}function na(){Cn=An=null,tt=!1}function Tv(t){rr===null?rr=[t]:rr.push(t)}var lN=ai.ReactCurrentBatchConfig;function er(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qh=es(null),Wh=null,ko=null,Sv=null;function Iv(){Sv=ko=Wh=null}function Cv(t){var e=qh.current;Xe(qh),t._currentValue=e}function Pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wo(t,e){Wh=t,Sv=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Sv!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(Wh===null)throw Error(j(308));ko=t,Wh.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var _s=null;function Pv(t){_s===null?_s=[t]:_s.push(t)}function XC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function Av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jr(t,n)}return i=r.interleaved,i===null?(e.next=e,Pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jr(t,n)}function lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dv(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kh(t,e,n,r){var i=t.updateQueue;gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=ot({},h,d);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=h}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var ZC=new XI.Component().refs;function Ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tf={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Vi(t),s=qr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(or(e,t,i,r),lh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Vi(t),s=qr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(or(e,t,i,r),lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Vi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(or(e,t,r,n),lh(e,t,r))}};function Ww(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,s):!0}function eP(t,e,n){var r=!1,i=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(i=wn(e)?Vs:rn.current,r=e.contextTypes,s=(r=r!=null)?ta(t,i):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tf.enqueueReplaceState(e,e.state,null)}function Rg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ZC,Av(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gn(s):(s=wn(e)?Vs:rn.current,i.context=ta(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ag(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tf.enqueueReplaceState(i,i.state,null),Kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ZC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gw(t){var e=t._init;return e(t._payload)}function tP(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Li(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,y){return p===null||p.tag!==6?(p=Qp(_,g.mode,y),p.return=g,p):(p=i(p,_),p.return=g,p)}function l(g,p,_,y){var T=_.type;return T===To?c(g,p,_.props.children,y,_.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mi&&Gw(T)===p.type)?(y=i(p,_.props),y.ref=Wa(g,p,_),y.return=g,y):(y=ph(_.type,_.key,_.props,null,g.mode,y),y.ref=Wa(g,p,_),y.return=g,y)}function u(g,p,_,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Yp(_,g.mode,y),p.return=g,p):(p=i(p,_.children||[]),p.return=g,p)}function c(g,p,_,y,T){return p===null||p.tag!==7?(p=Ds(_,g.mode,y,T),p.return=g,p):(p=i(p,_),p.return=g,p)}function h(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qp(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tc:return _=ph(p.type,p.key,p.props,null,g.mode,_),_.ref=Wa(g,null,p),_.return=g,_;case Eo:return p=Yp(p,g.mode,_),p.return=g,p;case mi:var y=p._init;return h(g,y(p._payload),_)}if(ol(p)||Ua(p))return p=Ds(p,g.mode,_,null),p.return=g,p;Oc(g,p)}return null}function d(g,p,_,y){var T=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(g,p,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tc:return _.key===T?l(g,p,_,y):null;case Eo:return _.key===T?u(g,p,_,y):null;case mi:return T=_._init,d(g,p,T(_._payload),y)}if(ol(_)||Ua(_))return T!==null?null:c(g,p,_,y,null);Oc(g,_)}return null}function f(g,p,_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(_)||null,a(p,g,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tc:return g=g.get(y.key===null?_:y.key)||null,l(p,g,y,T);case Eo:return g=g.get(y.key===null?_:y.key)||null,u(p,g,y,T);case mi:var A=y._init;return f(g,p,_,A(y._payload),T)}if(ol(y)||Ua(y))return g=g.get(_)||null,c(p,g,y,T,null);Oc(p,y)}return null}function m(g,p,_,y){for(var T=null,A=null,P=p,I=p=0,O=null;P!==null&&I<_.length;I++){P.index>I?(O=P,P=null):O=P.sibling;var U=d(g,P,_[I],y);if(U===null){P===null&&(P=O);break}t&&P&&U.alternate===null&&e(g,P),p=s(U,p,I),A===null?T=U:A.sibling=U,A=U,P=O}if(I===_.length)return n(g,P),tt&&ds(g,I),T;if(P===null){for(;I<_.length;I++)P=h(g,_[I],y),P!==null&&(p=s(P,p,I),A===null?T=P:A.sibling=P,A=P);return tt&&ds(g,I),T}for(P=r(g,P);I<_.length;I++)O=f(P,g,I,_[I],y),O!==null&&(t&&O.alternate!==null&&P.delete(O.key===null?I:O.key),p=s(O,p,I),A===null?T=O:A.sibling=O,A=O);return t&&P.forEach(function(oe){return e(g,oe)}),tt&&ds(g,I),T}function v(g,p,_,y){var T=Ua(_);if(typeof T!="function")throw Error(j(150));if(_=T.call(_),_==null)throw Error(j(151));for(var A=T=null,P=p,I=p=0,O=null,U=_.next();P!==null&&!U.done;I++,U=_.next()){P.index>I?(O=P,P=null):O=P.sibling;var oe=d(g,P,U.value,y);if(oe===null){P===null&&(P=O);break}t&&P&&oe.alternate===null&&e(g,P),p=s(oe,p,I),A===null?T=oe:A.sibling=oe,A=oe,P=O}if(U.done)return n(g,P),tt&&ds(g,I),T;if(P===null){for(;!U.done;I++,U=_.next())U=h(g,U.value,y),U!==null&&(p=s(U,p,I),A===null?T=U:A.sibling=U,A=U);return tt&&ds(g,I),T}for(P=r(g,P);!U.done;I++,U=_.next())U=f(P,g,I,U.value,y),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?I:U.key),p=s(U,p,I),A===null?T=U:A.sibling=U,A=U);return t&&P.forEach(function(F){return e(g,F)}),tt&&ds(g,I),T}function w(g,p,_,y){if(typeof _=="object"&&_!==null&&_.type===To&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Tc:e:{for(var T=_.key,A=p;A!==null;){if(A.key===T){if(T=_.type,T===To){if(A.tag===7){n(g,A.sibling),p=i(A,_.props.children),p.return=g,g=p;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mi&&Gw(T)===A.type){n(g,A.sibling),p=i(A,_.props),p.ref=Wa(g,A,_),p.return=g,g=p;break e}n(g,A);break}else e(g,A);A=A.sibling}_.type===To?(p=Ds(_.props.children,g.mode,y,_.key),p.return=g,g=p):(y=ph(_.type,_.key,_.props,null,g.mode,y),y.ref=Wa(g,p,_),y.return=g,g=y)}return o(g);case Eo:e:{for(A=_.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=i(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Yp(_,g.mode,y),p.return=g,g=p}return o(g);case mi:return A=_._init,w(g,p,A(_._payload),y)}if(ol(_))return m(g,p,_,y);if(Ua(_))return v(g,p,_,y);Oc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,_),p.return=g,g=p):(n(g,p),p=Qp(_,g.mode,y),p.return=g,g=p),o(g)):n(g,p)}return w}var ra=tP(!0),nP=tP(!1),Fu={},Er=es(Fu),tu=es(Fu),nu=es(Fu);function ws(t){if(t===Fu)throw Error(j(174));return t}function Rv(t,e){switch(We(nu,e),We(tu,t),We(Er,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=og(e,t)}Xe(Er),We(Er,e)}function ia(){Xe(Er),Xe(tu),Xe(nu)}function rP(t){ws(nu.current);var e=ws(Er.current),n=og(e,t.type);e!==n&&(We(tu,t),We(Er,n))}function xv(t){tu.current===t&&(Xe(Er),Xe(tu))}var rt=es(0);function Gh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zp=[];function kv(){for(var t=0;t<zp.length;t++)zp[t]._workInProgressVersionPrimary=null;zp.length=0}var uh=ai.ReactCurrentDispatcher,Hp=ai.ReactCurrentBatchConfig,Fs=0,st=null,It=null,bt=null,Qh=!1,Il=!1,ru=0,uN=0;function Wt(){throw Error(j(321))}function bv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function Dv(t,e,n,r,i,s){if(Fs=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uh.current=t===null||t.memoizedState===null?fN:pN,t=n(r,i),Il){s=0;do{if(Il=!1,ru=0,25<=s)throw Error(j(301));s+=1,bt=It=null,e.updateQueue=null,uh.current=mN,t=n(r,i)}while(Il)}if(uh.current=Yh,e=It!==null&&It.next!==null,Fs=0,bt=It=st=null,Qh=!1,e)throw Error(j(300));return t}function Ov(){var t=ru!==0;return ru=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?st.memoizedState=bt=t:bt=bt.next=t,bt}function Qn(){if(It===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=bt===null?st.memoizedState:bt.next;if(e!==null)bt=e,It=t;else{if(t===null)throw Error(j(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},bt===null?st.memoizedState=bt=t:bt=bt.next=t}return bt}function iu(t,e){return typeof e=="function"?e(t):e}function qp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Fs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=c,$s|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iP(){}function sP(t,e){var n=st,r=Qn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,yn=!0),r=r.queue,Nv(lP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,su(9,aP.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(j(349));Fs&30||oP(n,e,i)}return i}function oP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aP(t,e,n,r){e.value=n,e.getSnapshot=r,uP(e)&&cP(t)}function lP(t,e,n){return n(function(){uP(e)&&cP(t)})}function uP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function cP(t){var e=Jr(t,1);e!==null&&or(e,t,1,-1)}function Qw(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:t},e.queue=t,t=t.dispatch=dN.bind(null,st,t),[e.memoizedState,t]}function su(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hP(){return Qn().memoizedState}function ch(t,e,n,r){var i=fr();st.flags|=t,i.memoizedState=su(1|e,n,void 0,r===void 0?null:r)}function nf(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&bv(r,o.deps)){i.memoizedState=su(e,n,s,r);return}}st.flags|=t,i.memoizedState=su(1|e,n,s,r)}function Yw(t,e){return ch(8390656,8,t,e)}function Nv(t,e){return nf(2048,8,t,e)}function dP(t,e){return nf(4,2,t,e)}function fP(t,e){return nf(4,4,t,e)}function pP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mP(t,e,n){return n=n!=null?n.concat([t]):null,nf(4,4,pP.bind(null,e,t),n)}function Mv(){}function gP(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yP(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vP(t,e,n){return Fs&21?(lr(n,e)||(n=EC(),st.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function cN(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Hp.transition;Hp.transition={};try{t(!1),e()}finally{je=n,Hp.transition=r}}function _P(){return Qn().memoizedState}function hN(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wP(t))EP(e,n);else if(n=XC(t,e,n,r),n!==null){var i=dn();or(n,t,r,i),TP(n,e,r)}}function dN(t,e,n){var r=Vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wP(t))EP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(i.next=i,Pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XC(t,e,i,r),n!==null&&(i=dn(),or(n,t,r,i),TP(n,e,r))}}function wP(t){var e=t.alternate;return t===st||e!==null&&e===st}function EP(t,e){Il=Qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dv(t,n)}}var Yh={readContext:Gn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},fN={readContext:Gn,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:Yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ch(4194308,4,pP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return ch(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hN.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:Qw,useDebugValue:Mv,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=Qw(!1),e=t[0];return t=cN.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=fr();if(tt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Dt===null)throw Error(j(349));Fs&30||oP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Yw(lP.bind(null,r,s,t),[t]),r.flags|=2048,su(9,aP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fr(),e=Dt.identifierPrefix;if(tt){var n=$r,r=Fr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pN={readContext:Gn,useCallback:gP,useContext:Gn,useEffect:Nv,useImperativeHandle:mP,useInsertionEffect:dP,useLayoutEffect:fP,useMemo:yP,useReducer:qp,useRef:hP,useState:function(){return qp(iu)},useDebugValue:Mv,useDeferredValue:function(t){var e=Qn();return vP(e,It.memoizedState,t)},useTransition:function(){var t=qp(iu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:iP,useSyncExternalStore:sP,useId:_P,unstable_isNewReconciler:!1},mN={readContext:Gn,useCallback:gP,useContext:Gn,useEffect:Nv,useImperativeHandle:mP,useInsertionEffect:dP,useLayoutEffect:fP,useMemo:yP,useReducer:Wp,useRef:hP,useState:function(){return Wp(iu)},useDebugValue:Mv,useDeferredValue:function(t){var e=Qn();return It===null?e.memoizedState=t:vP(e,It.memoizedState,t)},useTransition:function(){var t=Wp(iu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:iP,useSyncExternalStore:sP,useId:_P,unstable_isNewReconciler:!1};function sa(t,e){try{var n="",r=e;do n+=zO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function SP(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jh||(Jh=!0,$g=r),xg(t,e)},n}function IP(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xg(t,e),typeof r!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kN.bind(null,t,e,n),e.then(t,t))}function Jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var yN=ai.ReactCurrentOwner,yn=!1;function un(t,e,n,r){e.child=t===null?nP(e,null,n,r):ra(e,t.child,n,r)}function e1(t,e,n,r,i){n=n.render;var s=e.ref;return Wo(e,i),r=Dv(t,e,n,r,s,i),n=Ov(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(tt&&n&&wv(e),e.flags|=1,un(t,e,r,i),e.child)}function t1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CP(t,e,s,r,i)):(t=ph(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(o,r)&&t.ref===e.ref)return Zr(t,e,i)}return e.flags|=1,t=Li(s,r),t.ref=e.ref,t.return=e,e.child=t}function CP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Zr(t,e,i)}return kg(t,e,n,r,i)}function PP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Do,In),In|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Do,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,We(Do,In),In|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,We(Do,In),In|=r;return un(t,e,i,n),e.child}function AP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,i){var s=wn(n)?Vs:rn.current;return s=ta(e,s),Wo(e,i),n=Dv(t,e,n,r,s,i),r=Ov(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(tt&&r&&wv(e),e.flags|=1,un(t,e,n,i),e.child)}function n1(t,e,n,r,i){if(wn(n)){var s=!0;Bh(e)}else s=!1;if(Wo(e,i),e.stateNode===null)hh(t,e),eP(e,n,r),Rg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gn(u):(u=wn(n)?Vs:rn.current,u=ta(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Kw(e,o,r,u),gi=!1;var d=e.memoizedState;o.state=d,Kh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||_n.current||gi?(typeof c=="function"&&(Ag(e,n,c,r),l=e.memoizedState),(a=gi||Ww(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:er(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=wn(n)?Vs:rn.current,l=ta(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Kw(e,o,r,l),gi=!1,d=e.memoizedState,o.state=d,Kh(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||_n.current||gi?(typeof f=="function"&&(Ag(e,n,f,r),m=e.memoizedState),(u=gi||Ww(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return bg(t,e,n,r,s,i)}function bg(t,e,n,r,i,s){AP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Uw(e,n,!1),Zr(t,e,s);r=e.stateNode,yN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ra(e,t.child,null,s),e.child=ra(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&Uw(e,n,!0),e.child}function RP(t){var e=t.stateNode;e.pendingContext?jw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jw(t,e.context,!1),Rv(t,e.containerInfo)}function r1(t,e,n,r,i){return na(),Tv(i),e.flags|=256,un(t,e,n,r),e.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function xP(t,e,n){var r=e.pendingProps,i=rt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(rt,i&1),t===null)return Cg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=of(o,r,0,null),t=Ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Og(n),e.memoizedState=Dg,t):Vv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Li(a,s):(s=Ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dg,r}return s=t.child,t=s.sibling,r=Li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vv(t,e){return e=of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nc(t,e,n,r){return r!==null&&Tv(r),ra(e,t.child,null,n),t=Vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(j(422))),Nc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=of({mode:"visible",children:r.children},i,0,null),s=Ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ra(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Dg,s);if(!(e.mode&1))return Nc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Kp(s,r,void 0),Nc(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jr(t,i),or(r,t,i,-1))}return Bv(),r=Kp(Error(j(421))),Nc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=Oi(i.nextSibling),An=e,tt=!0,rr=null,t!==null&&(Un[Bn++]=Fr,Un[Bn++]=$r,Un[Bn++]=Ls,Fr=t.id,$r=t.overflow,Ls=e),e=Vv(e,r.children),e.flags|=4096,e)}function i1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pg(t.return,e,n)}function Gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i1(t,n,e);else if(t.tag===19)i1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gp(e,!0,n,null,s);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _N(t,e,n){switch(e.tag){case 3:RP(e),na();break;case 5:rP(e);break;case 1:wn(e.type)&&Bh(e);break;case 4:Rv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(qh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?xP(t,e,n):(We(rt,rt.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,PP(t,e,n)}return Zr(t,e,n)}var bP,Ng,DP,OP;bP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};DP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(Er.current);var s=null;switch(n){case"input":i=ng(t,i),r=ng(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=sg(t,i),r=sg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jh)}ag(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};OP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wN(t,e,n){var r=e.pendingProps;switch(Ev(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return wn(e.type)&&Uh(),Kt(e),null;case 3:return r=e.stateNode,ia(),Xe(_n),Xe(rn),kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(Bg(rr),rr=null))),Ng(t,e),Kt(e),null;case 5:xv(e);var i=ws(nu.current);if(n=e.type,t!==null&&e.stateNode!=null)DP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Kt(e),null}if(t=ws(Er.current),Dc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mr]=e,r[eu]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<ll.length;i++)Qe(ll[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":fw(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":mw(r,s),Qe("invalid",r)}ag(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&bc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bc(r.textContent,a,t),i=["children",""+a]):Hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Sc(r),pw(r,s,!0);break;case"textarea":Sc(r),gw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mr]=e,t[eu]=r,bP(t,e,!1,!1),e.stateNode=t;e:{switch(o=lg(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ll.length;i++)Qe(ll[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":fw(t,r),i=ng(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":mw(t,r),i=sg(t,r),Qe("invalid",t);break;default:i=r}ag(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qe("scroll",t):l!=null&&ov(t,s,l,o))}switch(n){case"input":Sc(t),pw(t,r,!1);break;case"textarea":Sc(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)OP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=ws(nu.current),ws(Er.current),Dc(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:bc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Xe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Cn!==null&&e.mode&1&&!(e.flags&128))YC(),na(),e.flags|=98560,s=!1;else if(s=Dc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[mr]=e}else na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else rr!==null&&(Bg(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Pt===0&&(Pt=3):Bv())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return ia(),Ng(t,e),t===null&&Jl(e.stateNode.containerInfo),Kt(e),null;case 10:return Cv(e.type._context),Kt(e),null;case 17:return wn(e.type)&&Uh(),Kt(e),null;case 19:if(Xe(rt),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gh(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&pt()>oa&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tt)return Kt(e),null}else 2*pt()-s.renderingStartTime>oa&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Uv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function EN(t,e){switch(Ev(e),e.tag){case 1:return wn(e.type)&&Uh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ia(),Xe(_n),Xe(rn),kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xv(e),null;case 13:if(Xe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(rt),null;case 4:return ia(),null;case 10:return Cv(e.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var Mc=!1,Xt=!1,TN=typeof WeakSet=="function"?WeakSet:Set,te=null;function bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Mg(t,e,n){try{n()}catch(r){lt(t,e,r)}}var s1=!1;function SN(t,e){if(vg=Lh,t=LC(),_v(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_g={focusedElem:t,selectionRange:n},Lh=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:er(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(y){lt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return m=s1,s1=!1,m}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mg(e,n,s)}i=i.next}while(i!==r)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NP(t){var e=t.alternate;e!==null&&(t.alternate=null,NP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[eu],delete e[Tg],delete e[sN],delete e[oN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MP(t){return t.tag===5||t.tag===3||t.tag===4}function o1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(r!==4&&(t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}function Fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}var $t=null,tr=!1;function di(t,e,n){for(n=n.child;n!==null;)VP(t,e,n),n=n.sibling}function VP(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:Xt||bo(n,e);case 6:var r=$t,i=tr;$t=null,di(t,e,n),$t=r,tr=i,$t!==null&&(tr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(tr?(t=$t,n=n.stateNode,t.nodeType===8?Up(t.parentNode,n):t.nodeType===1&&Up(t,n),Ql(t)):Up($t,n.stateNode));break;case 4:r=$t,i=tr,$t=n.stateNode.containerInfo,tr=!0,di(t,e,n),$t=r,tr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mg(n,e,o),i=i.next}while(i!==r)}di(t,e,n);break;case 1:if(!Xt&&(bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,di(t,e,n),Xt=r):di(t,e,n);break;default:di(t,e,n)}}function a1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TN),e.forEach(function(r){var i=DN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,tr=!1;break e;case 3:$t=a.stateNode.containerInfo,tr=!0;break e;case 4:$t=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if($t===null)throw Error(j(160));VP(s,o,i),$t=null,tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LP(e,t),e=e.sibling}function LP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),dr(t),r&4){try{Cl(3,t,t.return),rf(3,t)}catch(v){lt(t,t.return,v)}try{Cl(5,t,t.return)}catch(v){lt(t,t.return,v)}}break;case 1:Jn(e,t),dr(t),r&512&&n!==null&&bo(n,n.return);break;case 5:if(Jn(e,t),dr(t),r&512&&n!==null&&bo(n,n.return),t.flags&32){var i=t.stateNode;try{ql(i,"")}catch(v){lt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iC(i,s),lg(a,o);var u=lg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?uC(i,h):c==="dangerouslySetInnerHTML"?aC(i,h):c==="children"?ql(i,h):ov(i,c,h,u)}switch(a){case"input":rg(i,s);break;case"textarea":sC(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Bo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Bo(i,!!s.multiple,s.defaultValue,!0):Bo(i,!!s.multiple,s.multiple?[]:"",!1))}i[eu]=s}catch(v){lt(t,t.return,v)}}break;case 6:if(Jn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){lt(t,t.return,v)}}break;case 3:if(Jn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(v){lt(t,t.return,v)}break;case 4:Jn(e,t),dr(t);break;case 13:Jn(e,t),dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($v=pt())),r&4&&a1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||c,Jn(e,t),Xt=u):Jn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(h=te=c;te!==null;){switch(d=te,f=d.child,d.tag){case 0:case 11:case 14:case 15:Cl(4,d,d.return);break;case 1:bo(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){lt(r,n,v)}}break;case 5:bo(d,d.return);break;case 22:if(d.memoizedState!==null){u1(h);continue}}f!==null?(f.return=d,te=f):u1(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lC("display",o))}catch(v){lt(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){lt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(e,t),dr(t),r&4&&a1(t);break;case 21:break;default:Jn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MP(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ql(i,""),r.flags&=-33);var s=o1(t);Fg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o1(t);Lg(t,a,o);break;default:throw Error(j(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IN(t,e,n){te=t,FP(t)}function FP(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Mc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=Mc;var u=Xt;if(Mc=o,(Xt=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?c1(i):l!==null?(l.return=o,te=l):c1(i);for(;s!==null;)te=s,FP(s),s=s.sibling;te=i,Mc=a,Xt=u}l1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):l1(t)}}function l1(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Xt||e.flags&512&&Vg(e)}catch(d){lt(e,e.return,d)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function u1(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function c1(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rf(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var s=e.return;try{Vg(e)}catch(l){lt(e,s,l)}break;case 5:var o=e.return;try{Vg(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var CN=Math.ceil,Xh=ai.ReactCurrentDispatcher,Lv=ai.ReactCurrentOwner,Wn=ai.ReactCurrentBatchConfig,Ve=0,Dt=null,Tt=null,Bt=0,In=0,Do=es(0),Pt=0,ou=null,$s=0,sf=0,Fv=0,Pl=null,mn=null,$v=0,oa=1/0,Mr=null,Jh=!1,$g=null,Mi=null,Vc=!1,Pi=null,Zh=0,Al=0,jg=null,dh=-1,fh=0;function dn(){return Ve&6?pt():dh!==-1?dh:dh=pt()}function Vi(t){return t.mode&1?Ve&2&&Bt!==0?Bt&-Bt:lN.transition!==null?(fh===0&&(fh=EC()),fh):(t=je,t!==0||(t=window.event,t=t===void 0?16:RC(t.type)),t):1}function or(t,e,n,r){if(50<Al)throw Al=0,jg=null,Error(j(185));Mu(t,n,r),(!(Ve&2)||t!==Dt)&&(t===Dt&&(!(Ve&2)&&(sf|=n),Pt===4&&wi(t,Bt)),En(t,r),n===1&&Ve===0&&!(e.mode&1)&&(oa=pt()+500,ef&&ts()))}function En(t,e){var n=t.callbackNode;l2(t,e);var r=Vh(t,t===Dt?Bt:0);if(r===0)n!==null&&_w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_w(n),e===1)t.tag===0?aN(h1.bind(null,t)):KC(h1.bind(null,t)),rN(function(){!(Ve&6)&&ts()}),n=null;else{switch(TC(r)){case 1:n=hv;break;case 4:n=_C;break;case 16:n=Mh;break;case 536870912:n=wC;break;default:n=Mh}n=WP(n,$P.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $P(t,e){if(dh=-1,fh=0,Ve&6)throw Error(j(327));var n=t.callbackNode;if(Ko()&&t.callbackNode!==n)return null;var r=Vh(t,t===Dt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ed(t,r);else{e=r;var i=Ve;Ve|=2;var s=UP();(Dt!==t||Bt!==e)&&(Mr=null,oa=pt()+500,bs(t,e));do try{RN();break}catch(a){jP(t,a)}while(1);Iv(),Xh.current=s,Ve=i,Tt!==null?e=0:(Dt=null,Bt=0,e=Pt)}if(e!==0){if(e===2&&(i=fg(t),i!==0&&(r=i,e=Ug(t,i))),e===1)throw n=ou,bs(t,0),wi(t,r),En(t,pt()),n;if(e===6)wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!PN(i)&&(e=ed(t,r),e===2&&(s=fg(t),s!==0&&(r=s,e=Ug(t,s))),e===1))throw n=ou,bs(t,0),wi(t,r),En(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:fs(t,mn,Mr);break;case 3:if(wi(t,r),(r&130023424)===r&&(e=$v+500-pt(),10<e)){if(Vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Eg(fs.bind(null,t,mn,Mr),e);break}fs(t,mn,Mr);break;case 4:if(wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CN(r/1960))-r,10<r){t.timeoutHandle=Eg(fs.bind(null,t,mn,Mr),r);break}fs(t,mn,Mr);break;case 5:fs(t,mn,Mr);break;default:throw Error(j(329))}}}return En(t,pt()),t.callbackNode===n?$P.bind(null,t):null}function Ug(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=ed(t,e),t!==2&&(e=mn,mn=n,e!==null&&Bg(e)),t}function Bg(t){mn===null?mn=t:mn.push.apply(mn,t)}function PN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wi(t,e){for(e&=~Fv,e&=~sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function h1(t){if(Ve&6)throw Error(j(327));Ko();var e=Vh(t,0);if(!(e&1))return En(t,pt()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=fg(t);r!==0&&(e=r,n=Ug(t,r))}if(n===1)throw n=ou,bs(t,0),wi(t,e),En(t,pt()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fs(t,mn,Mr),En(t,pt()),null}function jv(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(oa=pt()+500,ef&&ts())}}function js(t){Pi!==null&&Pi.tag===0&&!(Ve&6)&&Ko();var e=Ve;Ve|=1;var n=Wn.transition,r=je;try{if(Wn.transition=null,je=1,t)return t()}finally{je=r,Wn.transition=n,Ve=e,!(Ve&6)&&ts()}}function Uv(){In=Do.current,Xe(Do)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nN(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Ev(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uh();break;case 3:ia(),Xe(_n),Xe(rn),kv();break;case 5:xv(r);break;case 4:ia();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:Cv(r.type._context);break;case 22:case 23:Uv()}n=n.return}if(Dt=t,Tt=t=Li(t.current,null),Bt=In=e,Pt=0,ou=null,Fv=sf=$s=0,mn=Pl=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_s=null}return t}function jP(t,e){do{var n=Tt;try{if(Iv(),uh.current=Yh,Qh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qh=!1}if(Fs=0,bt=It=st=null,Il=!1,ru=0,Lv.current=null,n===null||n.return===null){Pt=1,ou=e,Tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Jw(o);if(f!==null){f.flags&=-257,Zw(f,o,a,s,e),f.mode&1&&Xw(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Xw(s,u,e),Bv();break e}l=Error(j(426))}}else if(tt&&a.mode&1){var w=Jw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Zw(w,o,a,s,e),Tv(sa(l,a));break e}}s=l=sa(l,a),Pt!==4&&(Pt=2),Pl===null?Pl=[s]:Pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=SP(s,l,e);Hw(s,g);break e;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Mi===null||!Mi.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=IP(s,a,e);Hw(s,y);break e}}s=s.return}while(s!==null)}zP(n)}catch(T){e=T,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(1)}function UP(){var t=Xh.current;return Xh.current=Yh,t===null?Yh:t}function Bv(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Dt===null||!($s&268435455)&&!(sf&268435455)||wi(Dt,Bt)}function ed(t,e){var n=Ve;Ve|=2;var r=UP();(Dt!==t||Bt!==e)&&(Mr=null,bs(t,e));do try{AN();break}catch(i){jP(t,i)}while(1);if(Iv(),Ve=n,Xh.current=r,Tt!==null)throw Error(j(261));return Dt=null,Bt=0,Pt}function AN(){for(;Tt!==null;)BP(Tt)}function RN(){for(;Tt!==null&&!ZO();)BP(Tt)}function BP(t){var e=qP(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?zP(t):Tt=e,Lv.current=null}function zP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EN(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Tt=null;return}}else if(n=wN(n,e,In),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Pt===0&&(Pt=5)}function fs(t,e,n){var r=je,i=Wn.transition;try{Wn.transition=null,je=1,xN(t,e,n,r)}finally{Wn.transition=i,je=r}return null}function xN(t,e,n,r){do Ko();while(Pi!==null);if(Ve&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(u2(t,s),t===Dt&&(Tt=Dt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vc||(Vc=!0,WP(Mh,function(){return Ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var o=je;je=1;var a=Ve;Ve|=4,Lv.current=null,SN(t,n),LP(n,t),Q2(_g),Lh=!!vg,_g=vg=null,t.current=n,IN(n),e2(),Ve=a,je=o,Wn.transition=s}else t.current=n;if(Vc&&(Vc=!1,Pi=t,Zh=i),s=t.pendingLanes,s===0&&(Mi=null),r2(n.stateNode),En(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jh)throw Jh=!1,t=$g,$g=null,t;return Zh&1&&t.tag!==0&&Ko(),s=t.pendingLanes,s&1?t===jg?Al++:(Al=0,jg=t):Al=0,ts(),null}function Ko(){if(Pi!==null){var t=TC(Zh),e=Wn.transition,n=je;try{if(Wn.transition=null,je=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Zh=0,Ve&6)throw Error(j(331));var i=Ve;for(Ve|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Cl(8,c,s)}var h=c.child;if(h!==null)h.return=c,te=h;else for(;te!==null;){c=te;var d=c.sibling,f=c.return;if(NP(c),c===u){te=null;break}if(d!==null){d.return=f,te=d;break}te=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,te=g;break e}te=s.return}}var p=t.current;for(te=p;te!==null;){o=te;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,te=_;else e:for(o=p;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(T){lt(a,a.return,T)}if(a===o){te=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,te=y;break e}te=a.return}}if(Ve=i,ts(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Qd,t)}catch{}r=!0}return r}finally{je=n,Wn.transition=e}}return!1}function d1(t,e,n){e=sa(n,e),e=SP(t,e,1),t=Ni(t,e,1),e=dn(),t!==null&&(Mu(t,1,e),En(t,e))}function lt(t,e,n){if(t.tag===3)d1(t,t,n);else for(;e!==null;){if(e.tag===3){d1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mi===null||!Mi.has(r))){t=sa(n,t),t=IP(e,t,1),e=Ni(e,t,1),t=dn(),e!==null&&(Mu(e,1,t),En(e,t));break}}e=e.return}}function kN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Bt&n)===n&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>pt()-$v?bs(t,0):Fv|=n),En(t,e)}function HP(t,e){e===0&&(t.mode&1?(e=Pc,Pc<<=1,!(Pc&130023424)&&(Pc=4194304)):e=1);var n=dn();t=Jr(t,e),t!==null&&(Mu(t,e,n),En(t,n))}function bN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HP(t,n)}function DN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),HP(t,n)}var qP;qP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,_N(t,e,n);yn=!!(t.flags&131072)}else yn=!1,tt&&e.flags&1048576&&GC(e,Hh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hh(t,e),t=e.pendingProps;var i=ta(e,rn.current);Wo(e,n),i=Dv(null,e,r,t,i,n);var s=Ov();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,Bh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Av(e),i.updater=tf,e.stateNode=i,i._reactInternals=e,Rg(e,r,t,n),e=bg(null,e,r,!0,s,n)):(e.tag=0,tt&&s&&wv(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NN(r),t=er(r,t),i){case 0:e=kg(null,e,r,t,n);break e;case 1:e=n1(null,e,r,t,n);break e;case 11:e=e1(null,e,r,t,n);break e;case 14:e=t1(null,e,r,er(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),n1(t,e,r,i,n);case 3:e:{if(RP(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,JC(t,e),Kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sa(Error(j(423)),e),e=r1(t,e,r,n,i);break e}else if(r!==i){i=sa(Error(j(424)),e),e=r1(t,e,r,n,i);break e}else for(Cn=Oi(e.stateNode.containerInfo.firstChild),An=e,tt=!0,rr=null,n=nP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),r===i){e=Zr(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return rP(e),t===null&&Cg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wg(r,i)?o=null:s!==null&&wg(r,s)&&(e.flags|=32),AP(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Cg(e),null;case 13:return xP(t,e,n);case 4:return Rv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ra(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),e1(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(qh,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!_n.current){e=Zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Pg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wo(e,n),i=Gn(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=er(r,e.pendingProps),i=er(r.type,i),t1(t,e,r,i,n);case 15:return CP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),hh(t,e),e.tag=1,wn(r)?(t=!0,Bh(e)):t=!1,Wo(e,n),eP(e,r,i),Rg(e,r,i,n),bg(null,e,r,!0,t,n);case 19:return kP(t,e,n);case 22:return PP(t,e,n)}throw Error(j(156,e.tag))};function WP(t,e){return vC(t,e)}function ON(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new ON(t,e,n,r)}function zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NN(t){if(typeof t=="function")return zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lv)return 11;if(t===uv)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ph(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Ds(n.children,i,s,e);case av:o=8,i|=8;break;case Jm:return t=Hn(12,n,e,i|2),t.elementType=Jm,t.lanes=s,t;case Zm:return t=Hn(13,n,e,i),t.elementType=Zm,t.lanes=s,t;case eg:return t=Hn(19,n,e,i),t.elementType=eg,t.lanes=s,t;case tC:return of(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZI:o=10;break e;case eC:o=9;break e;case lv:o=11;break e;case uv:o=14;break e;case mi:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function of(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=tC,t.lanes=n,t.stateNode={isHidden:!1},t}function Qp(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Yp(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hv(t,e,n,r,i,s,o,a,l){return t=new MN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(s),t}function VN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KP(t){if(!t)return Ki;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(wn(n))return WC(t,n,e)}return e}function GP(t,e,n,r,i,s,o,a,l){return t=Hv(n,r,!0,t,i,s,o,a,l),t.context=KP(null),n=t.current,r=dn(),i=Vi(n),s=qr(r,i),s.callback=e??null,Ni(n,s,i),t.current.lanes=i,Mu(t,i,r),En(t,r),t}function af(t,e,n,r){var i=e.current,s=dn(),o=Vi(i);return n=KP(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,o),t!==null&&(or(t,i,o,s),lh(t,i,o)),o}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qv(t,e){f1(t,e),(t=t.alternate)&&f1(t,e)}function LN(){return null}var QP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wv(t){this._internalRoot=t}lf.prototype.render=Wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));af(t,e,null,null)};lf.prototype.unmount=Wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){af(null,t,null,null)}),e[Xr]=null}};function lf(t){this._internalRoot=t}lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=CC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_i.length&&e!==0&&e<_i[n].priority;n++);_i.splice(n,0,t),n===0&&AC(t)}};function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p1(){}function FN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=td(o);s.call(u)}}var o=GP(e,r,t,0,null,!1,!1,"",p1);return t._reactRootContainer=o,t[Xr]=o.current,Jl(t.nodeType===8?t.parentNode:t),js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=td(l);a.call(u)}}var l=Hv(t,0,!1,null,null,!1,!1,"",p1);return t._reactRootContainer=l,t[Xr]=l.current,Jl(t.nodeType===8?t.parentNode:t),js(function(){af(e,l,n,r)}),l}function cf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=td(o);a.call(l)}}af(e,o,t,i)}else o=FN(n,e,t,i,r);return td(o)}SC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=al(e.pendingLanes);n!==0&&(dv(e,n|1),En(e,pt()),!(Ve&6)&&(oa=pt()+500,ts()))}break;case 13:js(function(){var r=Jr(t,1);if(r!==null){var i=dn();or(r,t,1,i)}}),qv(t,1)}};fv=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=dn();or(e,t,134217728,n)}qv(t,134217728)}};IC=function(t){if(t.tag===13){var e=Vi(t),n=Jr(t,e);if(n!==null){var r=dn();or(n,t,e,r)}qv(t,e)}};CC=function(){return je};PC=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};cg=function(t,e,n){switch(e){case"input":if(rg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zd(r);if(!i)throw Error(j(90));rC(r),rg(r,i)}}}break;case"textarea":sC(t,n);break;case"select":e=n.value,e!=null&&Bo(t,!!n.multiple,e,!1)}};dC=jv;fC=js;var $N={usingClientEntryPoint:!1,Events:[Lu,Po,Zd,cC,hC,jv]},Ga={findFiberByHostInstance:vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jN={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||LN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Qd=Lc.inject(jN),wr=Lc}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$N;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kv(e))throw Error(j(200));return VN(t,e,null,n)};On.createRoot=function(t,e){if(!Kv(t))throw Error(j(299));var n=!1,r="",i=QP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hv(t,1,!1,null,null,n,!1,r,i),t[Xr]=e.current,Jl(t.nodeType===8?t.parentNode:t),new Wv(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=gC(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return js(t)};On.hydrate=function(t,e,n){if(!uf(e))throw Error(j(200));return cf(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!Kv(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GP(e,null,t,1,n??null,i,!1,s,o),t[Xr]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lf(e)};On.render=function(t,e,n){if(!uf(e))throw Error(j(200));return cf(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!uf(t))throw Error(j(40));return t._reactRootContainer?(js(function(){cf(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};On.unstable_batchedUpdates=jv;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uf(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return cf(t,e,n,!1,r)};On.version="18.2.0-next-9e3b772b8-20220608";function YP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YP)}catch(t){console.error(t)}}YP(),GI.exports=On;var UN=GI.exports,m1=UN;Ym.createRoot=m1.createRoot,Ym.hydrateRoot=m1.hydrateRoot;function XP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=XP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ai(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=XP(t))&&(r&&(r+=" "),r+=e);return r}const Rl=t=>typeof t=="number"&&!isNaN(t),Us=t=>typeof t=="string",vn=t=>typeof t=="function",mh=t=>Us(t)||vn(t)?t:null,Xp=t=>E.isValidElement(t)||Us(t)||vn(t)||Rl(t);function BN(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function hf(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d}=o;const f=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,v=E.useRef(0);return E.useLayoutEffect(()=>{const w=h.current,g=f.split(" "),p=_=>{_.target===h.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",p),w.removeEventListener("animationcancel",p),v.current===0&&_.type!=="animationcancel"&&w.classList.remove(...g))};w.classList.add(...g),w.addEventListener("animationend",p),w.addEventListener("animationcancel",p)},[]),E.useEffect(()=>{const w=h.current,g=()=>{w.removeEventListener("animationend",g),i?BN(w,c,s):c()};d||(u?g():(v.current=1,w.className+=` ${m}`,w.addEventListener("animationend",g)))},[d]),me.createElement(me.Fragment,null,a)}}function g1(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const jn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Fc=t=>{let{theme:e,type:n,...r}=t;return me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Jp={info:function(t){return me.createElement(Fc,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return me.createElement(Fc,{...t},me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return me.createElement(Fc,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return me.createElement(Fc,{...t},me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return me.createElement("div",{className:"Toastify__spinner"})}};function zN(t){const[,e]=E.useReducer(f=>f+1,0),[n,r]=E.useState([]),i=E.useRef(null),s=E.useRef(new Map).current,o=f=>n.indexOf(f)!==-1,a=E.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:f=>s.get(f)}).current;function l(f){let{containerId:m}=f;const{limit:v}=a.props;!v||m&&a.containerId!==m||(a.count-=a.queue.length,a.queue=[])}function u(f){r(m=>f==null?[]:m.filter(v=>v!==f))}function c(){const{toastContent:f,toastProps:m,staleId:v}=a.queue.shift();d(f,m,v)}function h(f,m){let{delay:v,staleId:w,...g}=m;if(!Xp(f)||function(F){return!i.current||a.props.enableMultiContainer&&F.containerId!==a.props.containerId||s.has(F.toastId)&&F.updateId==null}(g))return;const{toastId:p,updateId:_,data:y}=g,{props:T}=a,A=()=>u(p),P=_==null;P&&a.count++;const I={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(g).filter(F=>{let[K,Y]=F;return Y!=null})),toastId:p,updateId:_,data:y,closeToast:A,isIn:!1,className:mh(g.className||T.toastClassName),bodyClassName:mh(g.bodyClassName||T.bodyClassName),progressClassName:mh(g.progressClassName||T.progressClassName),autoClose:!g.isLoading&&(O=g.autoClose,U=T.autoClose,O===!1||Rl(O)&&O>0?O:U),deleteToast(){const F=g1(s.get(p),"removed");s.delete(p),jn.emit(4,F);const K=a.queue.length;if(a.count=p==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),K>0){const Y=p==null?a.props.limit:1;if(K===1||Y===1)a.displayedToast++,c();else{const ee=Y>K?K:Y;a.displayedToast=ee;for(let he=0;he<ee;he++)c()}}else e()}};var O,U;I.iconOut=function(F){let{theme:K,type:Y,isLoading:ee,icon:he}=F,fe=null;const N={theme:K,type:Y};return he===!1||(vn(he)?fe=he(N):E.isValidElement(he)?fe=E.cloneElement(he,N):Us(he)||Rl(he)?fe=he:ee?fe=Jp.spinner():(X=>X in Jp)(Y)&&(fe=Jp[Y](N))),fe}(I),vn(g.onOpen)&&(I.onOpen=g.onOpen),vn(g.onClose)&&(I.onClose=g.onClose),I.closeButton=T.closeButton,g.closeButton===!1||Xp(g.closeButton)?I.closeButton=g.closeButton:g.closeButton===!0&&(I.closeButton=!Xp(T.closeButton)||T.closeButton);let oe=f;E.isValidElement(f)&&!Us(f.type)?oe=E.cloneElement(f,{closeToast:A,toastProps:I,data:y}):vn(f)&&(oe=f({closeToast:A,toastProps:I,data:y})),T.limit&&T.limit>0&&a.count>T.limit&&P?a.queue.push({toastContent:oe,toastProps:I,staleId:w}):Rl(v)?setTimeout(()=>{d(oe,I,w)},v):d(oe,I,w)}function d(f,m,v){const{toastId:w}=m;v&&s.delete(v);const g={content:f,props:m};s.set(w,g),r(p=>[...p,w].filter(_=>_!==v)),jn.emit(4,g1(g,g.props.updateId==null?"added":"updated"))}return E.useEffect(()=>(a.containerId=t.containerId,jn.cancelEmit(3).on(0,h).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{s.clear(),jn.emit(3,a)}),[]),E.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(f){const m=new Map,v=Array.from(s.values());return t.newestOnTop&&v.reverse(),v.forEach(w=>{const{position:g}=w.props;m.has(g)||m.set(g,[]),m.get(g).push(w)}),Array.from(m,w=>f(w[0],w[1]))},containerRef:i,isToastActive:o}}function y1(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function v1(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function HN(t){const[e,n]=E.useState(!1),[r,i]=E.useState(!1),s=E.useRef(null),o=E.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=E.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:d}=t;function f(y){if(t.draggable){y.nativeEvent.type==="touchstart"&&y.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",g),document.addEventListener("touchend",p);const T=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=T.getBoundingClientRect(),T.style.transition="",o.x=y1(y.nativeEvent),o.y=v1(y.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=T.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=T.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(y){if(o.boundingRect){const{top:T,bottom:A,left:P,right:I}=o.boundingRect;y.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=P&&o.x<=I&&o.y>=T&&o.y<=A?w():v()}}function v(){n(!0)}function w(){n(!1)}function g(y){const T=s.current;o.canDrag&&T&&(o.didMove=!0,e&&w(),o.x=y1(y),o.y=v1(y),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),T.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,T.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",p);const y=s.current;if(o.canDrag&&o.didMove&&y){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();y.style.transition="transform 0.2s, opacity 0.2s",y.style.transform=`translate${t.draggableDirection}(0)`,y.style.opacity="1"}}E.useEffect(()=>{a.current=t}),E.useEffect(()=>(s.current&&s.current.addEventListener("d",v,{once:!0}),vn(t.onOpen)&&t.onOpen(E.isValidElement(t.children)&&t.children.props),()=>{const y=a.current;vn(y.onClose)&&y.onClose(E.isValidElement(y.children)&&y.children.props)}),[]),E.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",w))}),[t.pauseOnFocusLoss]);const _={onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m};return l&&u&&(_.onMouseEnter=w,_.onMouseLeave=v),d&&(_.onClick=y=>{h&&h(y),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function JP(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function qN(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:d}=t;const f=s||l&&u===0,m={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(m.transform=`scaleX(${u})`);const v=Ai("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=vn(o)?o({rtl:c,type:i,defaultClassName:v}):Ai(v,o);return me.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:m,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const WN=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=HN(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:d,position:f,className:m,style:v,bodyClassName:w,bodyStyle:g,progressClassName:p,progressStyle:_,updateId:y,role:T,progress:A,rtl:P,toastId:I,deleteToast:O,isIn:U,isLoading:oe,iconOut:F,closeOnClick:K,theme:Y}=t,ee=Ai("Toastify__toast",`Toastify__toast-theme--${Y}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":K}),he=vn(m)?m({rtl:P,position:f,type:u,defaultClassName:ee}):Ai(ee,m),fe=!!A||!a,N={closeToast:h,type:u,theme:Y};let X=null;return s===!1||(X=vn(s)?s(N):E.isValidElement(s)?E.cloneElement(s,N):JP(N)),me.createElement(d,{isIn:U,done:O,position:f,preventExitTransition:n,nodeRef:r},me.createElement("div",{id:I,onClick:l,className:he,...i,style:v,ref:r},me.createElement("div",{...U&&{role:T},className:vn(w)?w({type:u}):Ai("Toastify__toast-body",w),style:g},F!=null&&me.createElement("div",{className:Ai("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe})},F),me.createElement("div",null,o)),X,me.createElement(qN,{...y&&!fe?{key:`pb-${y}`}:{},rtl:P,theme:Y,delay:a,isRunning:e,isIn:U,closeToast:h,hide:c,type:u,style:_,className:p,controlledProgress:fe,progress:A||0})))},df=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},KN=hf(df("bounce",!0));hf(df("slide",!0));hf(df("zoom"));const GN=hf(df("flip")),au=E.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=zN(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const h=Ai("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return vn(s)?s({position:c,rtl:a,defaultClassName:h}):Ai(h,mh(s))}return E.useEffect(()=>{e&&(e.current=r.current)},[]),me.createElement("div",{ref:r,className:"Toastify",id:l},n((c,h)=>{const d=h.length?{...o}:{...o,pointerEvents:"none"};return me.createElement("div",{className:u(c),style:d,key:`container-${c}`},h.map((f,m)=>{let{content:v,props:w}=f;return me.createElement(WN,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":m+1,"--len":h.length},key:`toast-${w.key}`},v)}))}))});au.displayName="ToastContainer",au.defaultProps={position:"top-right",transition:KN,autoClose:5e3,closeButton:JP,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Zp,ps=new Map,ul=[],QN=1;function ZP(){return""+QN++}function YN(t){return t&&(Us(t.toastId)||Rl(t.toastId))?t.toastId:ZP()}function xl(t,e){return ps.size>0?jn.emit(0,t,e):ul.push({content:t,options:e}),e.toastId}function nd(t,e){return{...e,type:e&&e.type||t,toastId:YN(e)}}function $c(t){return(e,n)=>xl(e,nd(t,n))}function Fe(t,e){return xl(t,nd("default",e))}Fe.loading=(t,e)=>xl(t,nd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Fe.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Us(i)?Fe.loading(i,n):Fe.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,h,d)=>{if(h==null)return void Fe.dismiss(r);const f={type:c,...a,...n,data:d},m=Us(h)?{render:h}:h;return r?Fe.update(r,{...f,...m}):Fe(m.render,{...f,...m}),d},u=vn(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},Fe.success=$c("success"),Fe.info=$c("info"),Fe.error=$c("error"),Fe.warning=$c("warning"),Fe.warn=Fe.warning,Fe.dark=(t,e)=>xl(t,nd("default",{theme:"dark",...e})),Fe.dismiss=t=>{ps.size>0?jn.emit(1,t):ul=ul.filter(e=>t!=null&&e.options.toastId!==t)},Fe.clearWaitingQueue=function(t){return t===void 0&&(t={}),jn.emit(5,t)},Fe.isActive=t=>{let e=!1;return ps.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Fe.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=ps.get(s||Zp);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:ZP()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,xl(o,s)}},0)},Fe.done=t=>{Fe.update(t,{progress:1})},Fe.onChange=t=>(jn.on(4,t),()=>{jn.off(4,t)}),Fe.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Fe.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},jn.on(2,t=>{Zp=t.containerId||t,ps.set(Zp,t),ul.forEach(e=>{jn.emit(0,e.content,e.options)}),ul=[]}).on(3,t=>{ps.delete(t.containerId||t),ps.size===0&&jn.off(0).off(1).off(5)});/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},et.apply(this,arguments)}var _t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_t||(_t={}));const _1="popstate";function XN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return lu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bs(i)}return ZN(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JN(){return Math.random().toString(36).substr(2,8)}function w1(t,e){return{usr:t.state,key:t.key,idx:e}}function lu(t,e,n,r){return n===void 0&&(n=null),et({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?li(e):e,{state:n,key:e&&e.key||r||JN()})}function Bs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_t.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(et({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=_t.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:g})}function d(w,g){a=_t.Push;let p=lu(v.location,w,g);n&&n(p,w),u=c()+1;let _=w1(p,u),y=v.createHref(p);try{o.pushState(_,"",y)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(y)}s&&l&&l({action:a,location:v.location,delta:1})}function f(w,g){a=_t.Replace;let p=lu(v.location,w,g);n&&n(p,w),u=c();let _=w1(p,u),y=v.createHref(p);o.replaceState(_,"",y),s&&l&&l({action:a,location:v.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Bs(w);return be(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_1,h),l=w,()=>{i.removeEventListener(_1,h),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(w){return o.go(w)}};return v}var ft;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ft||(ft={}));const eM=new Set(["lazy","caseSensitive","path","id","index","children"]);function tM(t){return t.index===!0}function zg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(be(i.index!==!0||!i.children,"Cannot specify children on an index route"),be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),tM(i)){let l=et({},i,e(i),{id:a});return r[a]=l,l}else{let l=et({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=zg(i.children,e,o,r)),l}})}function Oo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?li(e):e,i=Pa(r.pathname||"/",n);if(i==null)return null;let s=eA(t);nM(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=hM(s[a],pM(i));return o}function eA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Wr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eA(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:uM(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tA(s.path))i(s,o,l)}),e}function tA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rM=/^:\w+$/,iM=3,sM=2,oM=1,aM=10,lM=-2,E1=t=>t==="*";function uM(t,e){let n=t.split("/"),r=n.length;return n.some(E1)&&(r+=lM),e&&(r+=sM),n.filter(i=>!E1(i)).reduce((i,s)=>i+(rM.test(s)?iM:s===""?oM:aM),r)}function cM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hM(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=dM({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Wr([i,c.pathname]),pathnameBase:vM(Wr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Wr([i,c.pathnameBase]))}return s}function dM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=mM(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function fM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pM(t){try{return decodeURI(t)}catch(e){return aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mM(t,e){try{return decodeURIComponent(t)}catch(n){return aa(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Pa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?li(t):t;return{pathname:n?n.startsWith("/")?n:yM(n,e):e,search:_M(r),hash:wM(i)}}function yM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function em(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ff(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=li(t):(i=et({},t),be(!i.pathname||!i.pathname.includes("?"),em("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),em("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),em("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=gM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Wr=t=>t.join("/").replace(/\/\/+/g,"/"),vM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_M=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Qv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function nA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rA=["post","put","patch","delete"],EM=new Set(rA),TM=["get",...rA],SM=new Set(TM),IM=new Set([301,302,303,307,308]),CM=new Set([307,308]),tm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AM=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function RM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=b=>({hasErrorBoundary:k(b)})}else i=AM;let s={},o=zg(t.routes,i,void 0,s),a,l=t.basename||"/",u=et({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,h=new Set,d=null,f=null,m=null,v=t.hydrationData!=null,w=Oo(o,t.history.location,l),g=null;if(w==null){let k=Ln(404,{pathname:t.history.location.pathname}),{matches:b,route:V}=x1(o);w=b,g={[V.id]:k}}let p=!w.some(k=>k.route.lazy)&&(!w.some(k=>k.route.loader)||t.hydrationData!=null),_,y={historyAction:t.history.action,location:t.history.location,matches:w,initialized:p,navigation:tm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},T=_t.Pop,A=!1,P,I=!1,O=!1,U=[],oe=[],F=new Map,K=0,Y=-1,ee=new Map,he=new Set,fe=new Map,N=new Map,X=new Map,se=!1;function le(){return c=t.history.listen(k=>{let{action:b,location:V,delta:ne}=k;if(se){se=!1;return}aa(X.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=ci({currentLocation:y.location,nextLocation:V,historyAction:b});if(Pe&&ne!=null){se=!0,t.history.go(ne*-1),an(Pe,{state:"blocked",location:V,proceed(){an(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),t.history.go(ne)},reset(){let Ee=new Map(y.blockers);Ee.set(Pe,Qa),B({blockers:Ee})}});return}return z(b,V)}),y.initialized||z(_t.Pop,y.location),_}function H(){c&&c(),h.clear(),P&&P.abort(),y.fetchers.forEach((k,b)=>D(b)),y.blockers.forEach((k,b)=>ve(b))}function G(k){return h.add(k),()=>h.delete(k)}function B(k){y=et({},y,k),h.forEach(b=>b(y))}function ue(k,b){var V,ne;let Pe=y.actionData!=null&&y.navigation.formMethod!=null&&nr(y.navigation.formMethod)&&y.navigation.state==="loading"&&((V=k.state)==null?void 0:V._isRedirect)!==!0,Ee;b.actionData?Object.keys(b.actionData).length>0?Ee=b.actionData:Ee=null:Pe?Ee=y.actionData:Ee=null;let Se=b.loaderData?R1(y.loaderData,b.loaderData,b.matches||[],b.errors):y.loaderData,pe=y.blockers;pe.size>0&&(pe=new Map(pe),pe.forEach((qe,Lt)=>pe.set(Lt,Qa)));let ae=A===!0||y.navigation.formMethod!=null&&nr(y.navigation.formMethod)&&((ne=k.state)==null?void 0:ne._isRedirect)!==!0;a&&(o=a,a=void 0),I||T===_t.Pop||(T===_t.Push?t.history.push(k,k.state):T===_t.Replace&&t.history.replace(k,k.state)),B(et({},b,{actionData:Ee,loaderData:Se,historyAction:T,location:k,initialized:!0,navigation:tm,revalidation:"idle",restoreScrollPosition:vc(k,b.matches||y.matches),preventScrollReset:ae,blockers:pe})),T=_t.Pop,A=!1,I=!1,O=!1,U=[],oe=[]}async function R(k,b){if(typeof k=="number"){t.history.go(k);return}let V=Hg(y.location,y.matches,l,u.v7_prependBasename,k,b==null?void 0:b.fromRouteId,b==null?void 0:b.relative),{path:ne,submission:Pe,error:Ee}=T1(u.v7_normalizeFormMethod,!1,V,b),Se=y.location,pe=lu(y.location,ne,b&&b.state);pe=et({},pe,t.history.encodeLocation(pe));let ae=b&&b.replace!=null?b.replace:void 0,qe=_t.Push;ae===!0?qe=_t.Replace:ae===!1||Pe!=null&&nr(Pe.formMethod)&&Pe.formAction===y.location.pathname+y.location.search&&(qe=_t.Replace);let Lt=b&&"preventScrollReset"in b?b.preventScrollReset===!0:void 0,ze=ci({currentLocation:Se,nextLocation:pe,historyAction:qe});if(ze){an(ze,{state:"blocked",location:pe,proceed(){an(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),R(k,b)},reset(){let dt=new Map(y.blockers);dt.set(ze,Qa),B({blockers:dt})}});return}return await z(qe,pe,{submission:Pe,pendingError:Ee,preventScrollReset:Lt,replace:b&&b.replace})}function Ce(){if(S(),B({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){z(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}z(T||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function z(k,b,V){P&&P.abort(),P=null,T=k,I=(V&&V.startUninterruptedRevalidation)===!0,yc(y.location,y.matches),A=(V&&V.preventScrollReset)===!0;let ne=a||o,Pe=V&&V.overrideNavigation,Ee=Oo(ne,b,l);if(!Ee){let dt=Ln(404,{pathname:b.pathname}),{matches:xt,route:us}=x1(ne);qt(),ue(b,{matches:xt,loaderData:{},errors:{[us.id]:dt}});return}if(y.initialized&&!O&&OM(y.location,b)&&!(V&&V.submission&&nr(V.submission.formMethod))){ue(b,{matches:Ee});return}P=new AbortController;let Se=Xa(t.history,b,P.signal,V&&V.submission),pe,ae;if(V&&V.pendingError)ae={[No(Ee).route.id]:V.pendingError};else if(V&&V.submission&&nr(V.submission.formMethod)){let dt=await Le(Se,b,V.submission,Ee,{replace:V.replace});if(dt.shortCircuited)return;pe=dt.pendingActionData,ae=dt.pendingActionError,Pe=jc(b,V.submission),Se=new Request(Se.url,{signal:Se.signal})}let{shortCircuited:qe,loaderData:Lt,errors:ze}=await xe(Se,b,Ee,Pe,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,pe,ae);qe||(P=null,ue(b,et({matches:Ee},pe?{actionData:pe}:{},{loaderData:Lt,errors:ze})))}async function Le(k,b,V,ne,Pe){Pe===void 0&&(Pe={}),S();let Ee=FM(b,V);B({navigation:Ee});let Se,pe=Wg(ne,b);if(!pe.route.action&&!pe.route.lazy)Se={type:ft.error,error:Ln(405,{method:k.method,pathname:b.pathname,routeId:pe.route.id})};else if(Se=await Ya("action",k,pe,ne,s,i,l),k.signal.aborted)return{shortCircuited:!0};if(Go(Se)){let ae;return Pe&&Pe.replace!=null?ae=Pe.replace:ae=Se.location===y.location.pathname+y.location.search,await ke(y,Se,{submission:V,replace:ae}),{shortCircuited:!0}}if(kl(Se)){let ae=No(ne,pe.route.id);return(Pe&&Pe.replace)!==!0&&(T=_t.Push),{pendingActionData:{},pendingActionError:{[ae.route.id]:Se.error}}}if(Es(Se))throw Ln(400,{type:"defer-action"});return{pendingActionData:{[pe.route.id]:Se.data}}}async function xe(k,b,V,ne,Pe,Ee,Se,pe,ae){let qe=ne||jc(b,Pe),Lt=Pe||Ee||D1(qe),ze=a||o,[dt,xt]=S1(t.history,y,V,Lt,b,O,U,oe,fe,he,ze,l,pe,ae);if(qt(He=>!(V&&V.some(Xn=>Xn.route.id===He))||dt&&dt.some(Xn=>Xn.route.id===He)),Y=++K,dt.length===0&&xt.length===0){let He=$();return ue(b,et({matches:V,loaderData:{},errors:ae||null},pe?{actionData:pe}:{},He?{fetchers:new Map(y.fetchers)}:{})),{shortCircuited:!0}}if(!I){xt.forEach(Xn=>{let hi=y.fetchers.get(Xn.key),Ip=Ja(void 0,hi?hi.data:void 0);y.fetchers.set(Xn.key,Ip)});let He=pe||y.actionData;B(et({navigation:qe},He?Object.keys(He).length===0?{actionData:null}:{actionData:He}:{},xt.length>0?{fetchers:new Map(y.fetchers)}:{}))}xt.forEach(He=>{F.has(He.key)&&q(He.key),He.controller&&F.set(He.key,He.controller)});let us=()=>xt.forEach(He=>q(He.key));P&&P.signal.addEventListener("abort",us);let{results:cs,loaderResults:$a,fetcherResults:wp}=await gt(y.matches,V,dt,xt,k);if(k.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",us),xt.forEach(He=>F.delete(He.key));let kr=k1(cs);if(kr){if(kr.idx>=dt.length){let He=xt[kr.idx-dt.length].key;he.add(He)}return await ke(y,kr.result,{replace:Se}),{shortCircuited:!0}}let{loaderData:br,errors:wc}=A1(y,V,dt,$a,ae,xt,wp,N);N.forEach((He,Xn)=>{He.subscribe(hi=>{(hi||He.done)&&N.delete(Xn)})});let Ep=$(),Tp=Z(Y),Sp=Ep||Tp||xt.length>0;return et({loaderData:br,errors:wc},Sp?{fetchers:new Map(y.fetchers)}:{})}function Ae(k){return y.fetchers.get(k)||PM}function ge(k,b,V,ne){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(k)&&q(k);let Pe=a||o,Ee=Hg(y.location,y.matches,l,u.v7_prependBasename,V,b,ne==null?void 0:ne.relative),Se=Oo(Pe,Ee,l);if(!Se){x(k,b,Ln(404,{pathname:Ee}));return}let{path:pe,submission:ae,error:qe}=T1(u.v7_normalizeFormMethod,!0,Ee,ne);if(qe){x(k,b,qe);return}let Lt=Wg(Se,pe);if(A=(ne&&ne.preventScrollReset)===!0,ae&&nr(ae.formMethod)){Ge(k,b,pe,Lt,Se,ae);return}fe.set(k,{routeId:b,path:pe}),Vt(k,b,pe,Lt,Se,ae)}async function Ge(k,b,V,ne,Pe,Ee){if(S(),fe.delete(k),!ne.route.action&&!ne.route.lazy){let St=Ln(405,{method:Ee.formMethod,pathname:V,routeId:b});x(k,b,St);return}let Se=y.fetchers.get(k),pe=$M(Ee,Se);y.fetchers.set(k,pe),B({fetchers:new Map(y.fetchers)});let ae=new AbortController,qe=Xa(t.history,V,ae.signal,Ee);F.set(k,ae);let Lt=K,ze=await Ya("action",qe,ne,Pe,s,i,l);if(qe.signal.aborted){F.get(k)===ae&&F.delete(k);return}if(Go(ze))if(F.delete(k),Y>Lt){let St=go(void 0);y.fetchers.set(k,St),B({fetchers:new Map(y.fetchers)});return}else{he.add(k);let St=Ja(Ee);return y.fetchers.set(k,St),B({fetchers:new Map(y.fetchers)}),ke(y,ze,{submission:Ee,isFetchActionRedirect:!0})}if(kl(ze)){x(k,b,ze.error);return}if(Es(ze))throw Ln(400,{type:"defer-action"});let dt=y.navigation.location||y.location,xt=Xa(t.history,dt,ae.signal),us=a||o,cs=y.navigation.state!=="idle"?Oo(us,y.navigation.location,l):y.matches;be(cs,"Didn't find any matches after fetcher action");let $a=++K;ee.set(k,$a);let wp=Ja(Ee,ze.data);y.fetchers.set(k,wp);let[kr,br]=S1(t.history,y,cs,Ee,dt,O,U,oe,fe,he,us,l,{[ne.route.id]:ze.data},void 0);br.filter(St=>St.key!==k).forEach(St=>{let ja=St.key,ow=y.fetchers.get(ja),pO=Ja(void 0,ow?ow.data:void 0);y.fetchers.set(ja,pO),F.has(ja)&&q(ja),St.controller&&F.set(ja,St.controller)}),B({fetchers:new Map(y.fetchers)});let wc=()=>br.forEach(St=>q(St.key));ae.signal.addEventListener("abort",wc);let{results:Ep,loaderResults:Tp,fetcherResults:Sp}=await gt(y.matches,cs,kr,br,xt);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",wc),ee.delete(k),F.delete(k),br.forEach(St=>F.delete(St.key));let He=k1(Ep);if(He){if(He.idx>=kr.length){let St=br[He.idx-kr.length].key;he.add(St)}return ke(y,He.result)}let{loaderData:Xn,errors:hi}=A1(y,y.matches,kr,Tp,void 0,br,Sp,N);if(y.fetchers.has(k)){let St=go(ze.data);y.fetchers.set(k,St)}let Ip=Z($a);y.navigation.state==="loading"&&$a>Y?(be(T,"Expected pending action"),P&&P.abort(),ue(y.navigation.location,{matches:cs,loaderData:Xn,errors:hi,fetchers:new Map(y.fetchers)})):(B(et({errors:hi,loaderData:R1(y.loaderData,Xn,cs,hi)},Ip||br.length>0?{fetchers:new Map(y.fetchers)}:{})),O=!1)}async function Vt(k,b,V,ne,Pe,Ee){let Se=y.fetchers.get(k),pe=Ja(Ee,Se?Se.data:void 0);y.fetchers.set(k,pe),B({fetchers:new Map(y.fetchers)});let ae=new AbortController,qe=Xa(t.history,V,ae.signal);F.set(k,ae);let Lt=K,ze=await Ya("loader",qe,ne,Pe,s,i,l);if(Es(ze)&&(ze=await aA(ze,qe.signal,!0)||ze),F.get(k)===ae&&F.delete(k),qe.signal.aborted)return;if(Go(ze))if(Y>Lt){let xt=go(void 0);y.fetchers.set(k,xt),B({fetchers:new Map(y.fetchers)});return}else{he.add(k),await ke(y,ze);return}if(kl(ze)){let xt=No(y.matches,b);y.fetchers.delete(k),B({fetchers:new Map(y.fetchers),errors:{[xt.route.id]:ze.error}});return}be(!Es(ze),"Unhandled fetcher deferred data");let dt=go(ze.data);y.fetchers.set(k,dt),B({fetchers:new Map(y.fetchers)})}async function ke(k,b,V){let{submission:ne,replace:Pe,isFetchActionRedirect:Ee}=V===void 0?{}:V;b.revalidate&&(O=!0);let Se=lu(k.location,b.location,et({_isRedirect:!0},Ee?{_isFetchActionRedirect:!0}:{}));if(be(Se,"Expected a location on the redirect navigation"),n){let qe=!1;if(b.reloadDocument)qe=!0;else if(iA.test(b.location)){const Lt=t.history.createURL(b.location);qe=Lt.origin!==e.location.origin||Pa(Lt.pathname,l)==null}if(qe){Pe?e.location.replace(b.location):e.location.assign(b.location);return}}P=null;let pe=Pe===!0?_t.Replace:_t.Push,ae=ne||D1(k.navigation);if(CM.has(b.status)&&ae&&nr(ae.formMethod))await z(pe,Se,{submission:et({},ae,{formAction:b.location}),preventScrollReset:A});else if(Ee)await z(pe,Se,{overrideNavigation:jc(Se),fetcherSubmission:ae,preventScrollReset:A});else{let qe=jc(Se,ae);await z(pe,Se,{overrideNavigation:qe,preventScrollReset:A})}}async function gt(k,b,V,ne,Pe){let Ee=await Promise.all([...V.map(ae=>Ya("loader",Pe,ae,b,s,i,l)),...ne.map(ae=>ae.matches&&ae.match&&ae.controller?Ya("loader",Xa(t.history,ae.path,ae.controller.signal),ae.match,ae.matches,s,i,l):{type:ft.error,error:Ln(404,{pathname:ae.path})})]),Se=Ee.slice(0,V.length),pe=Ee.slice(V.length);return await Promise.all([b1(k,V,Se,Se.map(()=>Pe.signal),!1,y.loaderData),b1(k,ne.map(ae=>ae.match),pe,ne.map(ae=>ae.controller?ae.controller.signal:null),!0)]),{results:Ee,loaderResults:Se,fetcherResults:pe}}function S(){O=!0,U.push(...qt()),fe.forEach((k,b)=>{F.has(b)&&(oe.push(b),q(b))})}function x(k,b,V){let ne=No(y.matches,b);D(k),B({errors:{[ne.route.id]:V},fetchers:new Map(y.fetchers)})}function D(k){let b=y.fetchers.get(k);F.has(k)&&!(b&&b.state==="loading"&&ee.has(k))&&q(k),fe.delete(k),ee.delete(k),he.delete(k),y.fetchers.delete(k)}function q(k){let b=F.get(k);be(b,"Expected fetch controller: "+k),b.abort(),F.delete(k)}function W(k){for(let b of k){let V=Ae(b),ne=go(V.data);y.fetchers.set(b,ne)}}function $(){let k=[],b=!1;for(let V of he){let ne=y.fetchers.get(V);be(ne,"Expected fetcher: "+V),ne.state==="loading"&&(he.delete(V),k.push(V),b=!0)}return W(k),b}function Z(k){let b=[];for(let[V,ne]of ee)if(ne<k){let Pe=y.fetchers.get(V);be(Pe,"Expected fetcher: "+V),Pe.state==="loading"&&(q(V),ee.delete(V),b.push(V))}return W(b),b.length>0}function J(k,b){let V=y.blockers.get(k)||Qa;return X.get(k)!==b&&X.set(k,b),V}function ve(k){y.blockers.delete(k),X.delete(k)}function an(k,b){let V=y.blockers.get(k)||Qa;be(V.state==="unblocked"&&b.state==="blocked"||V.state==="blocked"&&b.state==="blocked"||V.state==="blocked"&&b.state==="proceeding"||V.state==="blocked"&&b.state==="unblocked"||V.state==="proceeding"&&b.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+b.state);let ne=new Map(y.blockers);ne.set(k,b),B({blockers:ne})}function ci(k){let{currentLocation:b,nextLocation:V,historyAction:ne}=k;if(X.size===0)return;X.size>1&&aa(!1,"A router only supports one blocker at a time");let Pe=Array.from(X.entries()),[Ee,Se]=Pe[Pe.length-1],pe=y.blockers.get(Ee);if(!(pe&&pe.state==="proceeding")&&Se({currentLocation:b,nextLocation:V,historyAction:ne}))return Ee}function qt(k){let b=[];return N.forEach((V,ne)=>{(!k||k(ne))&&(V.cancel(),b.push(ne),N.delete(ne))}),b}function Fa(k,b,V){if(d=k,m=b,f=V||null,!v&&y.navigation===tm){v=!0;let ne=vc(y.location,y.matches);ne!=null&&B({restoreScrollPosition:ne})}return()=>{d=null,m=null,f=null}}function gc(k,b){return f&&f(k,b.map(ne=>LM(ne,y.loaderData)))||k.key}function yc(k,b){if(d&&m){let V=gc(k,b);d[V]=m()}}function vc(k,b){if(d){let V=gc(k,b),ne=d[V];if(typeof ne=="number")return ne}return null}function _c(k){s={},a=zg(k,i,void 0,s)}return _={get basename(){return l},get state(){return y},get routes(){return o},initialize:le,subscribe:G,enableScrollRestoration:Fa,navigate:R,fetch:ge,revalidate:Ce,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Ae,deleteFetcher:D,dispose:H,getBlocker:J,deleteBlocker:ve,_internalFetchControllers:F,_internalActiveDeferreds:N,_internalSetRoutes:_c},_}function xM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hg(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===s){l=c;break}}else a=e,l=e[e.length-1];let u=Gv(i||".",ff(a).map(c=>c.pathnameBase),Pa(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Yv(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Wr([n,u.pathname])),Bs(u)}function T1(t,e,n,r){if(!r||!xM(r))return{path:n};if(r.formMethod&&!VM(r.formMethod))return{path:n,error:Ln(405,{method:r.formMethod})};let i=()=>({path:n,error:Ln(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=oA(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!nr(o))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,m)=>{let[v,w]=m;return""+f+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!nr(o))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}be(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=qg(r.formData),u=r.formData;else if(r.body instanceof FormData)l=qg(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=P1(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=P1(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(nr(c.formMethod))return{path:n,submission:c};let h=li(n);return e&&h.search&&Yv(h.search)&&l.append("index",""),h.search="?"+l,{path:Bs(h),submission:c}}function kM(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function S1(t,e,n,r,i,s,o,a,l,u,c,h,d,f){let m=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,v=t.createURL(e.location),w=t.createURL(i),g=f?Object.keys(f)[0]:void 0,_=kM(n,g).filter((T,A)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(bM(e.loaderData,e.matches[A],T)||o.some(O=>O===T.route.id))return!0;let P=e.matches[A],I=T;return I1(T,et({currentUrl:v,currentParams:P.params,nextUrl:w,nextParams:I.params},r,{actionResult:m,defaultShouldRevalidate:s||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||sA(P,I)}))}),y=[];return l.forEach((T,A)=>{if(!n.some(oe=>oe.route.id===T.routeId))return;let P=Oo(c,T.path,h);if(!P){y.push({key:A,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(A),O=Wg(P,T.path),U=!1;u.has(A)?U=!1:a.includes(A)?U=!0:I&&I.state!=="idle"&&I.data===void 0?U=s:U=I1(O,et({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:s})),U&&y.push({key:A,routeId:T.routeId,path:T.path,matches:P,match:O,controller:new AbortController})}),[_,y]}function bM(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function sA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function I1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function C1(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];be(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";aa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!eM.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,et({},e(i),{lazy:void 0}))}async function Ya(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,h=m=>{let v,w=new Promise((g,p)=>v=p);return c=()=>v(),e.signal.addEventListener("abort",c),Promise.race([m({request:e,params:n.params,context:a.requestContext}),w])};try{let m=n.route[t];if(n.route.lazy)if(m)u=(await Promise.all([h(m),C1(n.route,s,i)]))[0];else if(await C1(n.route,s,i),m=n.route[t],m)u=await h(m);else if(t==="action"){let v=new URL(e.url),w=v.pathname+v.search;throw Ln(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:ft.data,data:void 0};else if(m)u=await h(m);else{let v=new URL(e.url),w=v.pathname+v.search;throw Ln(404,{pathname:w})}be(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){l=ft.error,u=m}finally{c&&e.signal.removeEventListener("abort",c)}if(MM(u)){let m=u.status;if(IM.has(m)){let g=u.headers.get("Location");if(be(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!iA.test(g))g=Hg(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,g);else if(!a.isStaticRequest){let p=new URL(e.url),_=g.startsWith("//")?new URL(p.protocol+g):new URL(g),y=Pa(_.pathname,o)!=null;_.origin===p.origin&&y&&(g=_.pathname+_.search+_.hash)}if(a.isStaticRequest)throw u.headers.set("Location",g),u;return{type:ft.redirect,status:m,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===ft.error?ft.error:ft.data,response:u};let v,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await u.json():v=await u.text(),l===ft.error?{type:l,error:new Qv(m,u.statusText,v),headers:u.headers}:{type:ft.data,data:v,statusCode:u.status,headers:u.headers}}if(l===ft.error)return{type:l,error:u};if(NM(u)){var d,f;return{type:ft.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:ft.data,data:u}}function Xa(t,e,n,r){let i=t.createURL(oA(e)).toString(),s={signal:n};if(r&&nr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=qg(r.formData):s.body=r.formData}return new Request(i,s)}function qg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function P1(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function DM(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=e[h].route.id;if(be(!Go(c),"Cannot handle redirect results in processLoaderData"),kl(c)){let f=No(t,d),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=m),s[d]=void 0,l||(l=!0,a=nA(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Es(c)?(i.set(d,c.deferredData),s[d]=c.deferredData.data):s[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function A1(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=DM(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:d,controller:f}=s[c];be(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let m=o[c];if(!(f&&f.signal.aborted))if(kl(m)){let v=No(t.matches,d==null?void 0:d.route.id);u&&u[v.route.id]||(u=et({},u,{[v.route.id]:m.error})),t.fetchers.delete(h)}else if(Go(m))be(!1,"Unhandled fetcher revalidation redirect");else if(Es(m))be(!1,"Unhandled fetcher deferred data");else{let v=go(m.data);t.fetchers.set(h,v)}}return{loaderData:l,errors:u}}function R1(t,e,n,r){let i=et({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function No(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function x1(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ln(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Qv(t||500,o,new Error(a),!0)}function k1(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Go(n))return{result:n,idx:e}}}function oA(t){let e=typeof t=="string"?li(t):t;return Bs(et({},e,{hash:""}))}function OM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Es(t){return t.type===ft.deferred}function kl(t){return t.type===ft.error}function Go(t){return(t&&t.type)===ft.redirect}function NM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function MM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function VM(t){return SM.has(t.toLowerCase())}function nr(t){return EM.has(t.toLowerCase())}async function b1(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!sA(u,l)&&(s&&s[l.route.id])!==void 0;if(Es(a)&&(i||c)){let h=r[o];be(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await aA(a,h,i).then(d=>{d&&(n[o]=d||n[o])})}}}async function aA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ft.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ft.error,error:i}}return{type:ft.data,data:t.deferredData.data}}}function Yv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function LM(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Wg(t,e){let n=typeof e=="string"?li(e).search:e.search;if(t[t.length-1].route.index&&Yv(n||""))return t[t.length-1];let r=ff(t);return r[r.length-1]}function D1(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function jc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ja(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function $M(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function go(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}const pf=E.createContext(null),Xv=E.createContext(null),Zs=E.createContext(null),mf=E.createContext(null),ns=E.createContext({outlet:null,matches:[],isDataRoute:!1}),lA=E.createContext(null);function jM(t,e){let{relative:n}=e===void 0?{}:e;$u()||be(!1);let{basename:r,navigator:i}=E.useContext(Zs),{hash:s,pathname:o,search:a}=Zv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $u(){return E.useContext(mf)!=null}function Aa(){return $u()||be(!1),E.useContext(mf).location}function uA(t){E.useContext(Zs).static||E.useLayoutEffect(t)}function Jv(){let{isDataRoute:t}=E.useContext(ns);return t?eV():UM()}function UM(){$u()||be(!1);let t=E.useContext(pf),{basename:e,navigator:n}=E.useContext(Zs),{matches:r}=E.useContext(ns),{pathname:i}=Aa(),s=JSON.stringify(ff(r).map(l=>l.pathnameBase)),o=E.useRef(!1);return uA(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Gv(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Wr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const BM=E.createContext(null);function zM(t){let e=E.useContext(ns).outlet;return e&&E.createElement(BM.Provider,{value:t},e)}function Zv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(ns),{pathname:i}=Aa(),s=JSON.stringify(ff(r).map(o=>o.pathnameBase));return E.useMemo(()=>Gv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function HM(t,e,n){$u()||be(!1);let{navigator:r}=E.useContext(Zs),{matches:i}=E.useContext(ns),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Aa(),u;if(e){var c;let v=typeof e=="string"?li(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||be(!1),u=v}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=Oo(t,{pathname:d}),m=QM(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Wr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Wr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&m?E.createElement(mf.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_t.Pop}},m):m}function qM(){let t=ZM(),e=nA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const WM=E.createElement(qM,null);class KM extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(ns.Provider,{value:this.props.routeContext},E.createElement(lA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GM(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(pf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ns.Provider,{value:e},r)}function QM(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||be(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||WM);let d=e.concat(s.slice(0,u+1)),f=()=>{let m;return c?m=h:l.route.Component?m=E.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,E.createElement(GM,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(KM,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var cA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cA||{}),id=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(id||{});function YM(t){let e=E.useContext(pf);return e||be(!1),e}function XM(t){let e=E.useContext(Xv);return e||be(!1),e}function JM(t){let e=E.useContext(ns);return e||be(!1),e}function hA(t){let e=JM(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function ZM(){var t;let e=E.useContext(lA),n=XM(id.UseRouteError),r=hA(id.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function eV(){let{router:t}=YM(cA.UseNavigateStable),e=hA(id.UseNavigateStable),n=E.useRef(!1);return uA(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rd({fromRouteId:e},s)))},[t,e])}const tV="startTransition",O1=bO[tV];function nV(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=E.useState(n.state),{v7_startTransition:o}=r||{},a=E.useCallback(h=>{o&&O1?O1(()=>s(h)):s(h)},[s,o]);E.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:h=>n.navigate(h),push:(h,d,f)=>n.navigate(h,{state:d,preventScrollReset:f==null?void 0:f.preventScrollReset}),replace:(h,d,f)=>n.navigate(h,{replace:!0,state:d,preventScrollReset:f==null?void 0:f.preventScrollReset})}),[n]),u=n.basename||"/",c=E.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return E.createElement(E.Fragment,null,E.createElement(pf.Provider,{value:c},E.createElement(Xv.Provider,{value:i},E.createElement(sV,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?E.createElement(rV,{routes:n.routes,state:i}):e))),null)}function rV(t){let{routes:e,state:n}=t;return HM(e,void 0,n)}function iV(t){return zM(t.context)}function sV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_t.Pop,navigator:s,static:o=!1}=t;$u()&&be(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=li(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,m=E.useMemo(()=>{let v=Pa(u,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:f},navigationType:i}},[a,u,c,h,d,f,i]);return m==null?null:E.createElement(Zs.Provider,{value:l},E.createElement(mf.Provider,{children:n,value:m}))}new Promise(()=>{});function oV(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}function dA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lV(t,e){return t.button===0&&(!e||e==="_self")&&!aV(t)}const uV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],cV=["aria-current","caseSensitive","className","end","style","to","children"];function hV(t,e){return RM({basename:e==null?void 0:e.basename,future:la({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:XN({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||dV(),routes:t,mapRouteProperties:oV}).initialize()}function dV(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=la({},e,{errors:fV(e.errors)})),e}function fV(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Qv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const pV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=dA(e,uV),{basename:d}=E.useContext(Zs),f,m=!1;if(typeof u=="string"&&mV.test(u)&&(f=u,pV))try{let p=new URL(window.location.href),_=u.startsWith("//")?new URL(p.protocol+u):new URL(u),y=Pa(_.pathname,d);_.origin===p.origin&&y!=null?u=y+_.search+_.hash:m=!0}catch{}let v=jM(u,{relative:i}),w=gV(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(p){r&&r(p),p.defaultPrevented||w(p)}return E.createElement("a",la({},h,{href:f||v,onClick:m||s?r:g,ref:n,target:l}))}),N1=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=dA(e,cV),h=Zv(l,{relative:c.relative}),d=Aa(),f=E.useContext(Xv),{navigator:m}=E.useContext(Zs),v=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=d.pathname,g=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(w=w.toLowerCase(),g=g?g.toLowerCase():null,v=v.toLowerCase());let p=w===v||!o&&w.startsWith(v)&&w.charAt(v.length)==="/",_=g!=null&&(g===v||!o&&g.startsWith(v)&&g.charAt(v.length)==="/"),y=p?r:void 0,T;typeof s=="function"?T=s({isActive:p,isPending:_}):T=[s,p?"active":null,_?"pending":null].filter(Boolean).join(" ");let A=typeof a=="function"?a({isActive:p,isPending:_}):a;return E.createElement(e0,la({},c,{"aria-current":y,className:T,ref:n,style:A,to:l}),typeof u=="function"?u({isActive:p,isPending:_}):u)});var M1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(M1||(M1={}));var V1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V1||(V1={}));function gV(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Jv(),l=Aa(),u=Zv(t,{relative:o});return E.useCallback(c=>{if(lV(c,n)){c.preventDefault();let h=r!==void 0?r:Bs(l)===Bs(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new vV;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _V=function(t){const e=fA(t);return pA.encodeByteArray(e,!0)},sd=function(t){return _V(t).replace(/\./g,"")},mA=function(t){try{return pA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=()=>wV().__FIREBASE_DEFAULTS__,TV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mA(t[1]);return e&&JSON.parse(e)},t0=()=>{try{return EV()||TV()||SV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gA=t=>{var e,n;return(n=(e=t0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IV=t=>{const e=gA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yA=()=>{var t;return(t=t0())===null||t===void 0?void 0:t.config},vA=t=>{var e;return(e=t0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[sd(JSON.stringify(n)),sd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function _A(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xV(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function kV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hr(i,a,r)}}function DV(t,e){return t.replace(OV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OV=/\{\$([^}]+)}/g;function NV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(L1(s)&&L1(o)){if(!uu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MV(t,e){const n=new VV(t,e);return n.subscribe.bind(n)}class VV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nm),i.error===void 0&&(i.error=nm),i.complete===void 0&&(i.complete=nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=1e3,$V=2,jV=4*60*60*1e3,UV=.5;function F1(t,e=FV,n=$V){const r=e*Math.pow(n,t),i=Math.round(UV*r*(Math.random()-.5)*2);return Math.min(jV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HV(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zV(t){return t===ms?void 0:t}function HV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const WV={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},KV=Ne.INFO,GV={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},QV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gf{constructor(e){this.name=e,this._logLevel=KV,this._logHandler=QV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const YV=(t,e)=>e.some(n=>t instanceof n);let $1,j1;function XV(){return $1||($1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JV(){return j1||(j1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TA=new WeakMap,Kg=new WeakMap,SA=new WeakMap,rm=new WeakMap,n0=new WeakMap;function ZV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TA.set(n,t)}).catch(()=>{}),n0.set(e,t),e}function eL(t){if(Kg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kg.set(t,e)}let Gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tL(t){Gg=t(Gg)}function nL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(im(this),e,...n);return SA.set(r,e.sort?e.sort():[e]),Fi(r)}:JV().includes(t)?function(...e){return t.apply(im(this),e),Fi(TA.get(this))}:function(...e){return Fi(t.apply(im(this),e))}}function rL(t){return typeof t=="function"?nL(t):(t instanceof IDBTransaction&&eL(t),YV(t,XV())?new Proxy(t,Gg):t)}function Fi(t){if(t instanceof IDBRequest)return ZV(t);if(rm.has(t))return rm.get(t);const e=rL(t);return e!==t&&(rm.set(t,e),n0.set(e,t)),e}const im=t=>n0.get(t);function iL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fi(o.result),l.oldVersion,l.newVersion,Fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const sL=["get","getKey","getAll","getAllKeys","count"],oL=["put","add","delete","clear"],sm=new Map;function U1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return sm.set(e,s),s}tL(t=>({...t,get:(e,n,r)=>U1(e,n)||t.get(e,n,r),has:(e,n)=>!!U1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qg="@firebase/app",B1="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new gf("@firebase/app"),uL="@firebase/app-compat",cL="@firebase/analytics-compat",hL="@firebase/analytics",dL="@firebase/app-check-compat",fL="@firebase/app-check",pL="@firebase/auth",mL="@firebase/auth-compat",gL="@firebase/database",yL="@firebase/database-compat",vL="@firebase/functions",_L="@firebase/functions-compat",wL="@firebase/installations",EL="@firebase/installations-compat",TL="@firebase/messaging",SL="@firebase/messaging-compat",IL="@firebase/performance",CL="@firebase/performance-compat",PL="@firebase/remote-config",AL="@firebase/remote-config-compat",RL="@firebase/storage",xL="@firebase/storage-compat",kL="@firebase/firestore",bL="@firebase/firestore-compat",DL="firebase",OL="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",NL={[Qg]:"fire-core",[uL]:"fire-core-compat",[hL]:"fire-analytics",[cL]:"fire-analytics-compat",[fL]:"fire-app-check",[dL]:"fire-app-check-compat",[pL]:"fire-auth",[mL]:"fire-auth-compat",[gL]:"fire-rtdb",[yL]:"fire-rtdb-compat",[vL]:"fire-fn",[_L]:"fire-fn-compat",[wL]:"fire-iid",[EL]:"fire-iid-compat",[TL]:"fire-fcm",[SL]:"fire-fcm-compat",[IL]:"fire-perf",[CL]:"fire-perf-compat",[PL]:"fire-rc",[AL]:"fire-rc-compat",[RL]:"fire-gcs",[xL]:"fire-gcs-compat",[kL]:"fire-fst",[bL]:"fire-fst-compat","fire-js":"fire-js",[DL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Map,Xg=new Map;function ML(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ar(t){const e=t.name;if(Xg.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(const n of od.values())ML(n,t);return!0}function to(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new eo("app","Firebase",VL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=OL;function IA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=yA()),!n)throw $i.create("no-options");const s=od.get(i);if(s){if(uu(n,s.options)&&uu(r,s.config))return s;throw $i.create("duplicate-app",{appName:i})}const o=new qV(i);for(const l of Xg.values())o.addComponent(l);const a=new LL(n,r,o);return od.set(i,a),a}function r0(t=Yg){const e=od.get(t);if(!e&&t===Yg&&yA())return IA();if(!e)throw $i.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let i=(r=NL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(a.join(" "));return}Ar(new ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="firebase-heartbeat-database",$L=1,cu="firebase-heartbeat-store";let om=null;function CA(){return om||(om=iL(FL,$L,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cu)}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),om}async function jL(t){try{return await(await CA()).transaction(cu).objectStore(cu).get(PA(t))}catch(e){if(e instanceof hr)zs.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(n.message)}}}async function z1(t,e){try{const r=(await CA()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,PA(t)),await r.done}catch(n){if(n instanceof hr)zs.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zs.warn(r.message)}}}function PA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1024,BL=30*24*60*60*1e3;class zL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=H1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=BL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=H1(),{heartbeatsToSend:n,unsentEntries:r}=HL(this._heartbeatsCache.heartbeats),i=sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function H1(){return new Date().toISOString().substring(0,10)}function HL(t,e=UL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q1(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){Ar(new ur("platform-logger",e=>new aL(e),"PRIVATE")),Ar(new ur("heartbeat",e=>new zL(e),"PRIVATE")),Kn(Qg,B1,t),Kn(Qg,B1,"esm2017"),Kn("fire-js","")}WL("");var KL="firebase",GL="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(KL,GL,"app");const QL=(t,e)=>e.some(n=>t instanceof n);let W1,K1;function YL(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XL(){return K1||(K1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AA=new WeakMap,Jg=new WeakMap,RA=new WeakMap,am=new WeakMap,i0=new WeakMap;function JL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AA.set(n,t)}).catch(()=>{}),i0.set(e,t),e}function ZL(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eF(t){Zg=t(Zg)}function tF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lm(this),e,...n);return RA.set(r,e.sort?e.sort():[e]),ji(r)}:XL().includes(t)?function(...e){return t.apply(lm(this),e),ji(AA.get(this))}:function(...e){return ji(t.apply(lm(this),e))}}function nF(t){return typeof t=="function"?tF(t):(t instanceof IDBTransaction&&ZL(t),QL(t,YL())?new Proxy(t,Zg):t)}function ji(t){if(t instanceof IDBRequest)return JL(t);if(am.has(t))return am.get(t);const e=nF(t);return e!==t&&(am.set(t,e),i0.set(e,t)),e}const lm=t=>i0.get(t);function rF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const iF=["get","getKey","getAll","getAllKeys","count"],sF=["put","add","delete","clear"],um=new Map;function G1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return um.set(e,s),s}eF(t=>({...t,get:(e,n,r)=>G1(e,n)||t.get(e,n,r),has:(e,n)=>!!G1(e,n)||t.has(e,n)}));const xA="@firebase/installations",s0="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1e4,bA=`w:${s0}`,DA="FIS_v2",oF="https://firebaseinstallations.googleapis.com/v1",aF=60*60*1e3,lF="installations",uF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hs=new eo(lF,uF,cF);function OA(t){return t instanceof hr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA({projectId:t}){return`${oF}/projects/${t}/installations`}function MA(t){return{token:t.token,requestStatus:2,expiresIn:dF(t.expiresIn),creationTime:Date.now()}}async function VA(t,e){const r=(await e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function LA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hF(t,{refreshToken:e}){const n=LA(t);return n.append("Authorization",fF(e)),n}async function FA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function dF(t){return Number(t.replace("s","000"))}function fF(t){return`${DA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NA(t),i=LA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:DA,appId:t.appId,sdkVersion:bA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await FA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:MA(u.authToken)}}else throw await VA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=/^[cdef][\w-]{21}$/,ey="";function yF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=vF(t);return gF.test(n)?n:ey}catch{return ey}}function vF(t){return mF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Map;function UA(t,e){const n=yf(t);BA(n,e),_F(n,e)}function BA(t,e){const n=jA.get(t);if(n)for(const r of n)r(e)}function _F(t,e){const n=wF();n&&n.postMessage({key:t,fid:e}),EF()}let Ts=null;function wF(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{BA(t.data.key,t.data.fid)}),Ts}function EF(){jA.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="firebase-installations-database",SF=1,qs="firebase-installations-store";let cm=null;function o0(){return cm||(cm=rF(TF,SF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qs)}}})),cm}async function ad(t,e){const n=yf(t),i=(await o0()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&UA(t,e.fid),e}async function zA(t){const e=yf(t),r=(await o0()).transaction(qs,"readwrite");await r.objectStore(qs).delete(e),await r.done}async function vf(t,e){const n=yf(t),i=(await o0()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&UA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(t){let e;const n=await vf(t.appConfig,r=>{const i=IF(r),s=CF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ey?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IF(t){const e=t||{fid:yF(),registrationStatus:0};return HA(e)}function CF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Hs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AF(t)}:{installationEntry:e}}async function PF(t,e){try{const n=await pF(t,e);return ad(t.appConfig,n)}catch(n){throw OA(n)&&n.customData.serverCode===409?await zA(t.appConfig):await ad(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function AF(t){let e=await Q1(t.appConfig);for(;e.registrationStatus===1;)await $A(100),e=await Q1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await a0(t);return r||n}return e}function Q1(t){return vf(t,e=>{if(!e)throw Hs.create("installation-not-found");return HA(e)})}function HA(t){return RF(t)?{fid:t.fid,registrationStatus:0}:t}function RF(t){return t.registrationStatus===1&&t.registrationTime+kA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF({appConfig:t,heartbeatServiceProvider:e},n){const r=kF(t,n),i=hF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:bA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await FA(()=>fetch(r,a));if(l.ok){const u=await l.json();return MA(u)}else throw await VA("Generate Auth Token",l)}function kF(t,{fid:e}){return`${NA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(t,e=!1){let n;const r=await vf(t.appConfig,s=>{if(!qA(s))throw Hs.create("not-registered");const o=s.authToken;if(!e&&OF(o))return s;if(o.requestStatus===1)return n=bF(t,e),s;{if(!navigator.onLine)throw Hs.create("app-offline");const a=MF(s);return n=DF(t,a),a}});return n?await n:r.authToken}async function bF(t,e){let n=await Y1(t.appConfig);for(;n.authToken.requestStatus===1;)await $A(100),n=await Y1(t.appConfig);const r=n.authToken;return r.requestStatus===0?l0(t,e):r}function Y1(t){return vf(t,e=>{if(!qA(e))throw Hs.create("not-registered");const n=e.authToken;return VF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function DF(t,e){try{const n=await xF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ad(t.appConfig,r),n}catch(n){if(OA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ad(t.appConfig,r)}throw n}}function qA(t){return t!==void 0&&t.registrationStatus===2}function OF(t){return t.requestStatus===2&&!NF(t)}function NF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aF}function MF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function VF(t){return t.requestStatus===1&&t.requestTime+kA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t){const e=t,{installationEntry:n,registrationPromise:r}=await a0(e);return r?r.catch(console.error):l0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e=!1){const n=t;return await $F(n),(await l0(n,e)).token}async function $F(t){const{registrationPromise:e}=await a0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){if(!t||!t.options)throw hm("App Configuration");if(!t.name)throw hm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hm(t){return Hs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="installations",UF="installations-internal",BF=t=>{const e=t.getProvider("app").getImmediate(),n=jF(e),r=to(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},zF=t=>{const e=t.getProvider("app").getImmediate(),n=to(e,WA).getImmediate();return{getId:()=>LF(n),getToken:i=>FF(n,i)}};function HF(){Ar(new ur(WA,BF,"PUBLIC")),Ar(new ur(UF,zF,"PRIVATE"))}HF();Kn(xA,s0);Kn(xA,s0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="analytics",qF="firebase_id",WF="origin",KF=60*1e3,GF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new gf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new eo("analytics","Analytics",QF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){if(!t.startsWith(u0)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function KA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function XF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function JF(t,e){const n=XF("firebase-js-sdk-policy",{createScriptURL:YF}),r=document.createElement("script"),i=`${u0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ZF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function e4(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await KA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Tn.error(a)}t("config",i,s)}async function t4(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await KA(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Tn.error(s)}}function n4(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await t4(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await e4(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Tn.error(a)}}return i}function r4(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=n4(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function i4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(u0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=30,o4=1e3;class a4{constructor(e={},n=o4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const GA=new a4;function l4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function u4(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:l4(r)},s=GF.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function c4(t,e=GA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new f4;return setTimeout(async()=>{a.abort()},n!==void 0?n:KF),QA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function QA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=GA){var s;const{appId:o,measurementId:a}=t;try{await h4(r,e)}catch(l){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await u4(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!d4(u)){if(i.deleteThrottleMetadata(o),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?F1(n,i.intervalMillis,s4):F1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Tn.debug(`Calling attemptFetch again in ${c} millis`),QA(t,h,r,i)}}function h4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d4(t){if(!(t instanceof hr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class f4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p4(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(){if(wA())try{await EA()}catch(t){return Tn.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function g4(t,e,n,r,i,s,o){var a;const l=c4(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tn.error(f)),e.push(l);const u=m4().then(f=>{if(f)return r.getId()}),[c,h]=await Promise.all([l,u]);i4(s)||JF(s,c.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[WF]="firebase",d.update=!0,h!=null&&(d[qF]=h),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.app=e}_delete(){return delete bl[this.app.options.appId],Promise.resolve()}}let bl={},X1=[];const J1={};let dm="dataLayer",v4="gtag",Z1,YA,eE=!1;function _4(){const t=[];if(_A()&&t.push("This is a browser extension environment."),kV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function w4(t,e,n){_4();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(bl[r]!=null)throw Rn.create("already-exists",{id:r});if(!eE){ZF(dm);const{wrappedGtag:s,gtagCore:o}=r4(bl,X1,J1,dm,v4);YA=s,Z1=o,eE=!0}return bl[r]=g4(t,X1,J1,e,Z1,dm,n),new y4(t)}function E4(t=r0()){t=At(t);const e=to(t,ld);return e.isInitialized()?e.getImmediate():T4(t)}function T4(t,e={}){const n=to(t,ld);if(n.isInitialized()){const i=n.getImmediate();if(uu(e,n.getOptions()))return i;throw Rn.create("already-initialized")}return n.initialize({options:e})}function S4(t,e,n,r){t=At(t),p4(YA,bl[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}const tE="@firebase/analytics",nE="0.10.0";function I4(){Ar(new ur(ld,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return w4(r,i,n)},"PUBLIC")),Ar(new ur("analytics-internal",t,"PRIVATE")),Kn(tE,nE),Kn(tE,nE,"esm2017");function t(e){try{const n=e.getProvider(ld).getImmediate();return{logEvent:(r,i,s)=>S4(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}I4();function c0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rE(t){return t!==void 0&&t.enterprise!==void 0}class C4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P4=XA,JA=new eo("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new gf("@firebase/auth");function A4(t,...e){ud.logLevel<=Ne.WARN&&ud.warn(`Auth (${Ra}): ${t}`,...e)}function gh(t,...e){ud.logLevel<=Ne.ERROR&&ud.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw h0(t,...e)}function Tr(t,...e){return h0(t,...e)}function ZA(t,e,n){const r=Object.assign(Object.assign({},P4()),{[e]:n});return new eo("auth","Firebase",r).create(e,{appName:t.name})}function R4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),ZA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function h0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JA.create(t,...e)}function _e(t,e,...n){if(!t)throw h0(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function ei(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function x4(){return iE()==="http:"||iE()==="https:"}function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x4()||_A()||"connection"in navigator)?navigator.onLine:!0}function b4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=AV()||RV()}get(){return k4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Uu(3e4,6e4);function no(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ro(t,e,n,r,i={}){return tR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ju(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eR.fetch()(nR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D4),e);try{const i=new N4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ZA(t,c,u);Yn(t,c)}}catch(i){if(i instanceof hr)throw i;Yn(t,"network-request-failed",{message:String(i)})}}async function Bu(t,e,n,r,i={}){const s=await ro(t,e,n,r,i);return"mfaPendingCredential"in s&&Yn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?d0(t.config,i):`${t.config.apiScheme}://${i}`}class N4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),O4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}async function M4(t,e){return ro(t,"GET","/v2/recaptchaConfig",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e){return ro(t,"POST","/v1/accounts:delete",e)}async function L4(t,e){return ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F4(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=f0(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dl(fm(i.auth_time)),issuedAtTime:Dl(fm(i.iat)),expirationTime:Dl(fm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fm(t){return Number(t)*1e3}function f0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=mA(n);return i?JSON.parse(i):(gh("Failed to decode base64 JWT payload"),null)}catch(i){return gh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $4(t){const e=f0(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&j4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hu(t,L4(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?H4(s.providerUserInfo):[],a=z4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function B4(t){const e=At(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function H4(t){return t.map(e=>{var{providerId:n}=e,r=c0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e){const n=await tR(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await q4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new du;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Os{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=c0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hu(this,V4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:y,isAnonymous:T,providerData:A,stsTokenManager:P}=n;_e(_&&P,e,"internal-error");const I=du.fromJSON(this.name,P);_e(typeof _=="string",e,"internal-error"),fi(h,e.name),fi(d,e.name),_e(typeof y=="boolean",e,"internal-error"),_e(typeof T=="boolean",e,"internal-error"),fi(f,e.name),fi(m,e.name),fi(v,e.name),fi(w,e.name),fi(g,e.name),fi(p,e.name);const O=new Os({uid:_,auth:e,email:d,emailVerified:y,displayName:h,isAnonymous:T,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:p});return A&&Array.isArray(A)&&(O.providerData=A.map(U=>Object.assign({},U))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new du;i.updateFromServerResponse(n);const s=new Os({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Ur(t){ei(t instanceof Function,"Expected a class definition");let e=sE.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iR.type="NONE";const oE=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yh(this.userKey,i.apiKey,s),this.fullPersistenceKey=yh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(Ur(oE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ur(oE);const o=yh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Os._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uR(e))return"Blackberry";if(cR(e))return"Webos";if(p0(e))return"Safari";if((e.includes("chrome/")||oR(e))&&!e.includes("edge/"))return"Chrome";if(lR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sR(t=sn()){return/firefox\//i.test(t)}function p0(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oR(t=sn()){return/crios\//i.test(t)}function aR(t=sn()){return/iemobile/i.test(t)}function lR(t=sn()){return/android/i.test(t)}function uR(t=sn()){return/blackberry/i.test(t)}function cR(t=sn()){return/webos/i.test(t)}function _f(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W4(t=sn()){var e;return _f(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K4(){return xV()&&document.documentMode===10}function hR(t=sn()){return _f(t)||lR(t)||cR(t)||uR(t)||/windows phone/i.test(t)||aR(t)}function G4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e=[]){let n;switch(t){case"Browser":n=aE(sn());break;case"Worker":n=`${aE(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e={}){return ro(t,"GET","/v2/passwordPolicy",no(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=6;class J4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:X4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new Q4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?At(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),n=new J4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return At(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=MV(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function fR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e$().appendChild(r)})}function t$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const n$="https://www.google.com/recaptcha/enterprise.js?render=",r$="recaptcha-enterprise",i$="NO_RECAPTCHA";class s${constructor(e){this.type=r$,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{M4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new C4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(i$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}fR(n$+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function hd(t,e,n,r=!1){const i=new s$(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){const n=to(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uu(s,e??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:e})}function a$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l$(t,e,n){const r=rs(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=pR(e),{host:o,port:a}=u$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||c$()}function pR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u$(t){const e=pR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uE(o)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function h$(t,e){return ro(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}async function f$(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends m0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await hd(e,r,"signInWithPassword");return pm(e,i)}else return pm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await hd(e,r,"signInWithPassword");return pm(e,s)}else return Promise.reject(i)});case"emailLink":return d$(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return h$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return f$(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="http://localhost";class Ws extends m0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=c0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:p$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g$(t){const e=cl(hl(t)).link,n=e?cl(hl(e)).deep_link_id:null,r=cl(hl(t)).deep_link_id;return(r?cl(hl(r)).link:null)||r||n||e||t}class g0{constructor(e){var n,r,i,s,o,a;const l=cl(hl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=m$((i=l.mode)!==null&&i!==void 0?i:null);_e(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g$(e);try{return new g0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=g0.parseLink(n);return _e(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends y0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends zu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends zu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends zu{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t,e){return Bu(t,"POST","/v1/accounts:signUp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Os._fromIdTokenResponse(e,r,i),o=cE(r);return new Ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new Ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends hr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dd(e,n,r,i)}}function mR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,s,e,r):s})}async function y$(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await hu(t,mR(r,i,e,t),n);_e(s.idToken,r,"internal-error");const o=f0(s.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),Ks._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e,n=!1){const r="signIn",i=await mR(t,r,e),s=await Ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _$(t,e){return gR(rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w$(t,e,n){var r;const i=rs(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await hd(i,s,"signUpPassword");o=mm(i,u)}else o=mm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await hd(i,s,"signUpPassword");return mm(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&yR(t),u}),l=await Ks._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function E$(t,e,n){return _$(At(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yR(t),r})}function T$(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function S$(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function vR(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function I$(t){return At(t).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(){const t=sn();return p0(t)||_f(t)}const P$=1e3,A$=10;class wR extends _R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=C$()&&G4(),this.fallbackToPolling=hR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wR.type="LOCAL";const R$=wR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER extends _R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ER.type="SESSION";const TR=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await x$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=v0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function b$(t){Sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function D$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N$(){return SR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebaseLocalStorageDb",M$=1,pd="firebaseLocalStorage",CR="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function V$(){const t=indexedDB.deleteDatabase(IR);return new Hu(t).toPromise()}function ny(){const t=indexedDB.open(IR,M$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:CR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await V$(),e(await ny()))})})}async function hE(t,e,n){const r=Ef(t,!0).put({[CR]:e,value:n});return new Hu(r).toPromise()}async function L$(t,e){const n=Ef(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=Ef(t,!0).delete(e);return new Hu(n).toPromise()}const F$=800,$$=3;class PR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(N$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D$(),!this.activeServiceWorker)return;this.sender=new k$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await hE(e,fd,"1"),await dE(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ef(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PR.type="LOCAL";const j$=PR;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){return e?Ur(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends m0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U$(t){return gR(t.auth,new _0(t),t.bypassAuthState)}function B$(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),v$(n,new _0(t),t.bypassAuthState)}async function z$(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),y$(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U$;case"linkViaPopup":case"linkViaRedirect":return z$;case"reauthViaPopup":case"reauthViaRedirect":return B$;default:Yn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=new Uu(2e3,1e4);async function q$(t,e,n){const r=rs(t);R4(t,e,y0);const i=AR(r,n);return new Ss(r,"signInViaPopup",e,i).executeNotNull()}class Ss extends RR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H$.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="pendingRedirect",vh=new Map;class K$ extends RR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await G$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G$(t,e){const n=X$(e),r=Y$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Q$(t,e){vh.set(t._key(),e)}function Y$(t){return Ur(t._redirectPersistence)}function X$(t){return yh(W$,t.config.apiKey,t.name)}async function J$(t,e,n=!1){const r=rs(t),i=AR(r,e),o=await new K$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=10*60*1e3;class ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z$&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e={}){return ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ij=/^https?/;async function sj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nj(t);for(const n of e)try{if(oj(n))return}catch{}Yn(t,"unauthorized-domain")}function oj(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ij.test(n))return!1;if(rj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new Uu(3e4,6e4);function pE(){const t=Sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lj(t){return new Promise((e,n)=>{var r,i,s;function o(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Tr(t,"network-request-failed"))},timeout:aj.get()})}if(!((i=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Sr().gapi)===null||s===void 0)&&s.load)o();else{const a=t$("iframefcb");return Sr()[a]=()=>{gapi.load?o():n(Tr(t,"network-request-failed"))},fR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _h=null,e})}let _h=null;function uj(t){return _h=_h||lj(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Uu(5e3,15e3),hj="__/auth/iframe",dj="emulator/auth/iframe",fj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mj(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d0(e,dj):`https://${t.config.authDomain}/${hj}`,r={apiKey:e.apiKey,appName:t.name,v:Ra},i=pj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function gj(t){const e=await uj(t),n=Sr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:mj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tr(t,"network-request-failed"),a=Sr().setTimeout(()=>{s(o)},cj.get());function l(){Sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vj=500,_j=600,wj="_blank",Ej="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tj(t,e,n,r=vj,i=_j){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=sn().toLowerCase();n&&(a=oR(u)?wj:n),sR(u)&&(e=e||Ej,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(W4(u)&&a!=="_self")return Sj(e||"",a),new mE(null);const h=window.open(e||"",a,c);_e(h,t,"popup-blocked");try{h.focus()}catch{}return new mE(h)}function Sj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="__/auth/handler",Cj="emulator/auth/handler",Pj=encodeURIComponent("fac");async function gE(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:i};if(e instanceof y0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof zu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Pj}=${encodeURIComponent(l)}`:"";return`${Aj(t)}?${ju(a).slice(1)}${u}`}function Aj({config:t}){return t.emulator?d0(t,Cj):`https://${t.authDomain}/${Ij}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class Rj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TR,this._completeRedirectFn=J$,this._overrideRedirectResult=Q$}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gE(e,n,r,ty(),i);return Tj(e,o,v0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gE(e,n,r,ty(),i);return b$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gj(e),r=new ej(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gm];o!==void 0&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hR()||p0()||_f()}}const xj=Rj;var yE="@firebase/auth",vE="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Dj(t){Ar(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dR(t)},u=new Z4(r,i,s,l);return a$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ar(new ur("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new kj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(yE,vE,bj(t)),Kn(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=5*60,Nj=vA("authIdTokenMaxAge")||Oj;let _E=null;const Mj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nj)return;const i=n==null?void 0:n.token;_E!==i&&(_E=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vj(t=r0()){const e=to(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o$(t,{popupRedirectResolver:xj,persistence:[j$,R$,TR]}),r=vA("authTokenSyncURL");if(r){const s=Mj(r);S$(n,s,()=>s(n.currentUser)),T$(n,o=>s(o))}const i=gA("auth");return i&&l$(n,`http://${i}`),n}Dj("Browser");var Lj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,w0=w0||{},Te=Lj||self;function Tf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Fj(t){return Object.prototype.hasOwnProperty.call(t,ym)&&t[ym]||(t[ym]=++$j)}var ym="closure_uid_"+(1e9*Math.random()>>>0),$j=0;function jj(t,e,n){return t.call.apply(t.bind,arguments)}function Uj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?en=jj:en=Uj,en.apply(null,arguments)}function Bc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function is(){this.s=this.s,this.o=this.o}var Bj=0;is.prototype.s=!1;is.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Bj!=0)&&Fj(this)};is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function E0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Tf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var zj=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Te.addEventListener("test",()=>{},e),Te.removeEventListener("test",()=>{},e)}catch{}return t}();function pu(t){return/^[\s\xa0]*$/.test(t)}function Sf(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function gr(t){return Sf().indexOf(t)!=-1}function T0(t){return T0[" "](t),t}T0[" "]=function(){};function Hj(t,e){var n=V3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qj=gr("Opera"),ua=gr("Trident")||gr("MSIE"),bR=gr("Edge"),ry=bR||ua,DR=gr("Gecko")&&!(Sf().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge"))&&!(gr("Trident")||gr("MSIE"))&&!gr("Edge"),Wj=Sf().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge");function OR(){var t=Te.document;return t?t.documentMode:void 0}var iy;e:{var vm="",_m=function(){var t=Sf();if(DR)return/rv:([^\);]+)(\)|;)/.exec(t);if(bR)return/Edge\/([\d\.]+)/.exec(t);if(ua)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Wj)return/WebKit\/(\S+)/.exec(t);if(qj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(_m&&(vm=_m?_m[1]:""),ua){var wm=OR();if(wm!=null&&wm>parseFloat(vm)){iy=String(wm);break e}}iy=vm}var sy;if(Te.document&&ua){var EE=OR();sy=EE||parseInt(iy,10)||void 0}else sy=void 0;var Kj=sy;function mu(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DR){e:{try{T0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Gj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mu.$.h.call(this)}}Nt(mu,tn);var Gj={2:"touch",3:"pen",4:"mouse"};mu.prototype.h=function(){mu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wu="closure_listenable_"+(1e6*Math.random()|0),Qj=0;function Yj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Qj,this.fa=this.ia=!1}function If(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function S0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Xj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function NR(t){const e={};for(const n in t)e[n]=t[n];return e}const TE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<TE.length;s++)n=TE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cf(t){this.src=t,this.g={},this.h=0}Cf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ay(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Yj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function oy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(If(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ay(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var I0="closure_lm_"+(1e6*Math.random()|0),Em={};function VR(t,e,n,r,i){if(r&&r.once)return FR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VR(t,e[s],n,r,i);return null}return n=A0(n),t&&t[Wu]?t.O(e,n,qu(r)?!!r.capture:!!r,i):LR(t,e,n,!1,r,i)}function LR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qu(i)?!!i.capture:!!i,a=P0(t);if(a||(t[I0]=a=new Cf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Jj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Jj(){function t(n){return e.call(t.src,t.listener,n)}const e=Zj;return t}function FR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FR(t,e[s],n,r,i);return null}return n=A0(n),t&&t[Wu]?t.P(e,n,qu(r)?!!r.capture:!!r,i):LR(t,e,n,!0,r,i)}function $R(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$R(t,e[s],n,r,i);else r=qu(r)?!!r.capture:!!r,n=A0(n),t&&t[Wu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ay(s,n,r,i),-1<n&&(If(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=P0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ay(e,n,r,i)),(n=-1<t?e[t]:null)&&C0(n))}function C0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Wu])oy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=P0(e))?(oy(n,t),n.h==0&&(n.src=null,e[I0]=null)):If(t)}}}function jR(t){return t in Em?Em[t]:Em[t]="on"+t}function Zj(t,e){if(t.fa)t=!0;else{e=new mu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&C0(t),t=n.call(r,e)}return t}function P0(t){return t=t[I0],t instanceof Cf?t:null}var Tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function A0(t){return typeof t=="function"?t:(t[Tm]||(t[Tm]=function(e){return t.handleEvent(e)}),t[Tm])}function Ot(){is.call(this),this.i=new Cf(this),this.S=this,this.J=null}Nt(Ot,is);Ot.prototype[Wu]=!0;Ot.prototype.removeEventListener=function(t,e,n,r){$R(this,t,e,n,r)};function zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;e=new tn(r,t),MR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zc(o,r,!0,e)&&i}if(o=e.g=t,i=zc(o,r,!0,e)&&i,i=zc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=zc(o,r,!1,e)&&i}Ot.prototype.N=function(){if(Ot.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)If(n[r]);delete t.g[e],t.h--}}this.J=null};Ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&oy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var R0=Te.JSON.stringify;class e3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function t3(){var t=x0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class n3{constructor(){this.h=this.g=null}add(e,n){const r=UR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var UR=new e3(()=>new r3,t=>t.reset());class r3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function i3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function s3(t){Te.setTimeout(()=>{throw t},0)}let gu,yu=!1,x0=new n3,BR=()=>{const t=Te.Promise.resolve(void 0);gu=()=>{t.then(o3)}};var o3=()=>{for(var t;t=t3();){try{t.h.call(t.g)}catch(n){s3(n)}var e=UR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yu=!1};function Pf(t,e){Ot.call(this),this.h=t||1,this.g=e||Te,this.j=en(this.qb,this),this.l=Date.now()}Nt(Pf,Ot);Q=Pf.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(k0(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function k0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Pf.$.N.call(this),k0(this),delete this.g};function b0(t,e,n){if(typeof t=="function")n&&(t=en(t,n));else if(t&&typeof t.handleEvent=="function")t=en(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function zR(t){t.g=b0(()=>{t.g=null,t.i&&(t.i=!1,zR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class a3 extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zR(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vu(t){is.call(this),this.h=t,this.g={}}Nt(vu,is);var SE=[];function HR(t,e,n,r){Array.isArray(n)||(n&&(SE[0]=n.toString()),n=SE);for(var i=0;i<n.length;i++){var s=VR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qR(t){S0(t.g,function(e,n){this.g.hasOwnProperty(n)&&C0(e)},t),t.g={}}vu.prototype.N=function(){vu.$.N.call(this),qR(this)};vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Af(){this.g=!0}Af.prototype.Ea=function(){this.g=!1};function l3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function u3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+h3(t,n)+(r?" "+r:"")})}function c3(t,e){t.info(function(){return"TIMEOUT: "+e})}Af.prototype.info=function(){};function h3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return R0(n)}catch{return e}}var io={},IE=null;function Rf(){return IE=IE||new Ot}io.Ta="serverreachability";function WR(t){tn.call(this,io.Ta,t)}Nt(WR,tn);function _u(t){const e=Rf();zt(e,new WR(e))}io.STAT_EVENT="statevent";function KR(t,e){tn.call(this,io.STAT_EVENT,t),this.stat=e}Nt(KR,tn);function hn(t){const e=Rf();zt(e,new KR(e,t))}io.Ua="timingevent";function GR(t,e){tn.call(this,io.Ua,t),this.size=e}Nt(GR,tn);function Ku(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function D0(){}D0.prototype.h=null;function CE(t){return t.h||(t.h=t.i())}function YR(){}var Gu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function O0(){tn.call(this,"d")}Nt(O0,tn);function N0(){tn.call(this,"c")}Nt(N0,tn);var ly;function kf(){}Nt(kf,D0);kf.prototype.g=function(){return new XMLHttpRequest};kf.prototype.i=function(){return{}};ly=new kf;function Qu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new vu(this),this.P=d3,t=ry?125:void 0,this.V=new Pf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XR}function XR(){this.i=null,this.g="",this.h=!1}var d3=45e3,uy={},md={};Q=Qu.prototype;Q.setTimeout=function(t){this.P=t};function cy(t,e,n){t.L=1,t.v=Df(ti(e)),t.s=n,t.S=!0,JR(t,null)}function JR(t,e){t.G=Date.now(),Yu(t),t.A=ti(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ox(n.i,"t",r),t.C=0,n=t.l.J,t.h=new XR,t.g=Ax(t.l,n?e:null,!t.s),0<t.O&&(t.M=new a3(en(t.Pa,t,t.g),t.O)),HR(t.U,t.g,"readystatechange",t.nb),e=t.I?NR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_u(),l3(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&yr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=yr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||ry||this.g&&(this.h.h||this.g.ja()||xE(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?_u(3):_u(2)),bf(this);var n=this.g.da();this.ca=n;t:if(ZR(this)){var r=xE(this.g);t="";var i=r.length,s=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Ol(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,u3(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pu(a)){var u=a;break t}}u=null}if(n=u)Mo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hy(this,n);else{this.i=!1,this.o=3,hn(12),Is(this),Ol(this);break e}}this.S?(ex(this,c,o),ry&&this.i&&c==3&&(HR(this.U,this.V,"tick",this.mb),this.V.start())):(Mo(this.j,this.m,o,null),hy(this,o)),c==4&&Is(this),this.i&&!this.J&&(c==4?Sx(this.l,this):(this.i=!1,Yu(this)))}else O3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Is(this),Ol(this)}}}catch{}finally{}};function ZR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ex(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=f3(t,n),i==md){e==4&&(t.o=4,hn(14),r=!1),Mo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==uy){t.o=4,hn(15),Mo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Mo(t.j,t.m,i,null),hy(t,i);ZR(t)&&i!=md&&i!=uy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),j0(e),e.M=!0,hn(11))):(Mo(t.j,t.m,n,"[Invalid Chunked Response]"),Is(t),Ol(t))}Q.mb=function(){if(this.g){var t=yr(this.g),e=this.g.ja();this.C<e.length&&(bf(this),ex(this,t,e),this.i&&t!=4&&Yu(this))}};function f3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?md:(n=Number(e.substring(n,r)),isNaN(n)?uy:(r+=1,r+n>e.length?md:(e=e.slice(r,r+n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,Is(this)};function Yu(t){t.Y=Date.now()+t.P,tx(t,t.P)}function tx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ku(en(t.lb,t),e)}function bf(t){t.B&&(Te.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(c3(this.j,this.A),this.L!=2&&(_u(),hn(17)),Is(this),this.o=2,Ol(this)):tx(this,this.Y-t)};function Ol(t){t.l.H==0||t.J||Sx(t.l,t)}function Is(t){bf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,k0(t.V),qR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function hy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dy(n.i,t))){if(!t.K&&dy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vd(n),Vf(n);else break e;$0(n),hn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ku(en(n.ib,n),6e3));if(1>=ux(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&vd(n),!pu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(M0(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ye(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Px(r,r.J?r.pa:null,r.Y),o.K){cx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(bf(a),Yu(a)),r.g=o}else Ex(r);0<n.j.length&&Lf(n)}else u[0]!="stop"&&u[0]!="close"||Cs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Cs(n,7):F0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}_u(4)}catch{}}function p3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Tf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function m3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Tf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=m3(t),r=p3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var rx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ns(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ns){this.h=t.h,gd(this,t.j),this.s=t.s,this.g=t.g,yd(this,t.m),this.l=t.l;var e=t.i,n=new wu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),PE(this,n),this.o=t.o}else t&&(e=String(t).match(rx))?(this.h=!1,gd(this,e[1]||"",!0),this.s=dl(e[2]||""),this.g=dl(e[3]||"",!0),yd(this,e[4]),this.l=dl(e[5]||"",!0),PE(this,e[6]||"",!0),this.o=dl(e[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}Ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fl(e,AE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fl(e,AE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fl(n,n.charAt(0)=="/"?_3:v3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fl(n,E3)),t.join("")};function ti(t){return new Ns(t)}function gd(t,e,n){t.j=n?dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function PE(t,e,n){e instanceof wu?(t.i=e,T3(t.i,t.h)):(n||(e=fl(e,w3)),t.i=new wu(e,t.h))}function Ye(t,e,n){t.i.set(e,n)}function Df(t){return Ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,y3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function y3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var AE=/[#\/\?@]/g,v3=/[#\?:]/g,_3=/[#\?]/g,w3=/[#\?@]/g,E3=/#/g;function wu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&g3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=wu.prototype;Q.add=function(t,e){ss(this),this.i=null,t=ka(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ix(t,e){ss(t),e=ka(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sx(t,e){return ss(t),e=ka(t,e),t.g.has(e)}Q.forEach=function(t,e){ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){ss(this);let e=[];if(typeof t=="string")sx(this,t)&&(e=e.concat(this.g.get(ka(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return ss(this),this.i=null,t=ka(this,t),sx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ox(t,e,n){ix(t,e),0<n.length&&(t.i=null,t.g.set(ka(t,e),E0(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ka(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function T3(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ix(this,r),ox(this,i,n))},t)),t.j=e}var S3=class{constructor(t,e){this.g=t,this.map=e}};function ax(t){this.l=t||I3,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var I3=10;function lx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ux(t){return t.h?1:t.g?t.g.size:0}function dy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function M0(t,e){t.g?t.g.add(e):t.h=e}function cx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ax.prototype.cancel=function(){if(this.i=hx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return E0(t.i)}var C3=class{stringify(t){return Te.JSON.stringify(t,void 0)}parse(t){return Te.JSON.parse(t,void 0)}};function P3(){this.g=new C3}function A3(t,e,n){const r=n||"";try{nx(t,function(i,s){let o=i;qu(i)&&(o=R0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function R3(t,e){const n=new Af;if(Te.Image){const r=new Image;r.onload=Bc(Hc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bc(Hc,n,r,"TestLoadImage: error",!1,e),r.onabort=Bc(Hc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bc(Hc,n,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Of(t){this.l=t.ec||null,this.j=t.ob||!1}Nt(Of,D0);Of.prototype.g=function(){return new Nf(this.l,this.j)};Of.prototype.i=function(t){return function(){return t}}({});function Nf(t,e){Ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=V0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(Nf,Ot);var V0=0;Q=Nf.prototype;Q.open=function(t,e){if(this.readyState!=V0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Eu(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xu(this)),this.readyState=V0};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Eu(this)),this.g&&(this.readyState=3,Eu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xu(this):Eu(this),this.readyState==3&&dx(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,Xu(this))};Q.Ya=function(t){this.g&&(this.response=t,Xu(this))};Q.ka=function(){this.g&&Xu(this)};function Xu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Eu(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Eu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var x3=Te.JSON.parse;function ht(t){Ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fx,this.L=this.M=!1}Nt(ht,Ot);var fx="",k3=/^https?$/i,b3=["POST","PUT"];Q=ht.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ly.g(),this.C=this.u?CE(this.u):CE(ly),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){RE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Te.FormData&&t instanceof Te.FormData,!(0<=kR(b3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gx(this),0<this.B&&((this.L=D3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=b0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){RE(this,s)}};function D3(t){return ua&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof w0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function RE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,px(t),Mf(t)}function px(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),Mf(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mf(this,!0)),ht.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?mx(this):this.kb())};Q.kb=function(){mx(this)};function mx(t){if(t.h&&typeof w0<"u"&&(!t.C[1]||yr(t)!=4||t.da()!=2)){if(t.v&&yr(t)==4)b0(t.La,0,t);else if(zt(t,"readystatechange"),yr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(rx)[1]||null;!i&&Te.self&&Te.self.location&&(i=Te.self.location.protocol.slice(0,-1)),r=!k3.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var s=2<yr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",px(t)}}finally{Mf(t)}}}}function Mf(t,e){if(t.g){gx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function gx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function yr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),x3(e)}};function xE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O3(t){const e={};t=(t.g&&2<=yr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(pu(t[r]))continue;var n=i3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Xj(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yx(t){let e="";return S0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function L0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yx(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ye(t,e,n))}function Za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vx(t){this.Ga=0,this.j=[],this.l=new Af,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Za("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Za("baseRetryDelayMs",5e3,t),this.hb=Za("retryDelaySeedMs",1e4,t),this.eb=Za("forwardChannelMaxRetries",2,t),this.xa=Za("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ax(t&&t.concurrentRequestLimit),this.Ja=new P3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=vx.prototype;Q.ra=8;Q.H=1;function F0(t){if(_x(t),t.H==3){var e=t.W++,n=ti(t.I);if(Ye(n,"SID",t.K),Ye(n,"RID",e),Ye(n,"TYPE","terminate"),Ju(t,n),e=new Qu(t,t.l,e),e.L=2,e.v=Df(ti(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon)try{n=Te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Te.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ax(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yu(e)}Cx(t)}function Vf(t){t.g&&(j0(t),t.g.cancel(),t.g=null)}function _x(t){Vf(t),t.u&&(Te.clearTimeout(t.u),t.u=null),vd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function Lf(t){if(!lx(t.i)&&!t.m){t.m=!0;var e=t.Na;gu||BR(),yu||(gu(),yu=!0),x0.add(e,t),t.C=0}}function N3(t,e){return ux(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ku(en(t.Na,t,e),Ix(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=NR(s),MR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wx(this,i,e),n=ti(this.I),Ye(n,"RID",t),Ye(n,"CVER",22),this.F&&Ye(n,"X-HTTP-Session-Id",this.F),Ju(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(yx(s)))+"&"+e:this.o&&L0(n,this.o,s)),M0(this.i,i),this.bb&&Ye(n,"TYPE","init"),this.P?(Ye(n,"$req",e),Ye(n,"SID","null"),i.aa=!0,cy(i,n,null)):cy(i,n,e),this.H=2}}else this.H==3&&(t?kE(this,t):this.j.length==0||lx(this.i)||kE(this))};function kE(t,e){var n;e?n=e.m:n=t.W++;const r=ti(t.I);Ye(r,"SID",t.K),Ye(r,"RID",n),Ye(r,"AID",t.V),Ju(t,r),t.o&&t.s&&L0(r,t.o,t.s),n=new Qu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),M0(t.i,n),cy(n,r,e)}function Ju(t,e){t.na&&S0(t.na,function(n,r){Ye(e,r,n)}),t.h&&nx({},function(n,r){Ye(e,r,n)})}function wx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?en(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{A3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ex(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gu||BR(),yu||(gu(),yu=!0),x0.add(e,t),t.A=0}}function $0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ku(en(t.Ma,t),Ix(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,Tx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ku(en(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hn(10),Vf(this),Tx(this))};function j0(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function Tx(t){t.g=new Qu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ti(t.wa);Ye(e,"RID","rpc"),Ye(e,"SID",t.K),Ye(e,"AID",t.V),Ye(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ye(e,"TO",t.qa),Ye(e,"TYPE","xmlhttp"),Ju(t,e),t.o&&t.s&&L0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Df(ti(e)),n.s=null,n.S=!0,JR(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Vf(this),$0(this),hn(19))};function vd(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function Sx(t,e){var n=null;if(t.g==e){vd(t),j0(t),t.g=null;var r=2}else if(dy(t.i,e))n=e.F,cx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Rf(),zt(r,new GR(r,n)),Lf(t)}else Ex(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&N3(t,e)||r==2&&$0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function Ix(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=en(t.pb,t);n||(n=new Ns("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||gd(n,"https"),Df(n)),R3(n.toString(),r)}else hn(2);t.H=0,t.h&&t.h.za(e),Cx(t),_x(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),hn(2)):(this.l.info("Failed to ping google.com"),hn(1))};function Cx(t){if(t.H=0,t.ma=[],t.h){const e=hx(t.i);(e.length!=0||t.j.length!=0)&&(wE(t.ma,e),wE(t.ma,t.j),t.i.i.length=0,E0(t.j),t.j.length=0),t.h.ya()}}function Px(t,e,n){var r=n instanceof Ns?ti(n):new Ns(n);if(r.g!="")e&&(r.g=e+"."+r.g),yd(r,r.m);else{var i=Te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ns(null);r&&gd(s,r),e&&(s.g=e),i&&yd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ye(r,n,e),Ye(r,"VER",t.ra),Ju(t,r),r}function Ax(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ht(new Of({ob:!0})):new ht(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function Rx(){}Q=Rx.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function _d(){if(ua&&!(10<=Number(Kj)))throw Error("Environmental error: no available transport.")}_d.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){Ot.call(this),this.g=new vx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ba(this)}Nt(bn,Ot);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Px(t,null,t.Y),Lf(t)};bn.prototype.close=function(){F0(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=R0(t),t=n);e.j.push(new S3(e.fb++,t)),e.H==3&&Lf(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,F0(this.g),delete this.g,bn.$.N.call(this)};function xx(t){O0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nt(xx,O0);function kx(){N0.call(this),this.status=1}Nt(kx,N0);function ba(t){this.g=t}Nt(ba,Rx);ba.prototype.Ba=function(){zt(this.g,"a")};ba.prototype.Aa=function(t){zt(this.g,new xx(t))};ba.prototype.za=function(t){zt(this.g,new kx)};ba.prototype.ya=function(){zt(this.g,"b")};function M3(){this.blockSize=-1}function cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nt(cr,M3);cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}cr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Sm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Sm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Sm(this,r),i=0;break}}this.h=i,this.i+=e};cr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var V3={};function U0(t){return-128<=t&&128>t?Hj(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function vr(t){if(isNaN(t)||!isFinite(t))return Xo;if(0>t)return Ut(vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fy;return new Ue(e,0)}function bx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ut(bx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vr(Math.pow(e,8)),r=Xo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vr(Math.pow(e,s)),r=r.R(s).add(vr(o))):(r=r.R(n),r=r.add(vr(o)))}return r}var fy=4294967296,Xo=U0(0),py=U0(1),bE=U0(16777216);Q=Ue.prototype;Q.ea=function(){if(zn(this))return-Ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fy+r)*e,e*=fy}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Br(this))return"0";if(zn(this))return"-"+Ut(this).toString(t);for(var e=vr(Math.pow(t,6)),n=this,r="";;){var i=Ed(n,e).g;n=wd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Br(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Br(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zn(t){return t.h==-1}Q.X=function(t){return t=wd(this,t),zn(t)?-1:Br(t)?0:1};function Ut(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(py)}Q.abs=function(){return zn(this)?Ut(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function wd(t,e){return t.add(Ut(e))}Q.R=function(t){if(Br(this)||Br(t))return Xo;if(zn(this))return zn(t)?Ut(this).R(Ut(t)):Ut(Ut(this).R(t));if(zn(t))return Ut(this.R(Ut(t)));if(0>this.X(bE)&&0>t.X(bE))return vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,qc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,qc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function qc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function el(t,e){this.g=t,this.h=e}function Ed(t,e){if(Br(e))throw Error("division by zero");if(Br(t))return new el(Xo,Xo);if(zn(t))return e=Ed(Ut(t),e),new el(Ut(e.g),Ut(e.h));if(zn(e))return e=Ed(t,Ut(e)),new el(Ut(e.g),e.h);if(30<t.g.length){if(zn(t)||zn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=py,r=e;0>=r.X(t);)n=DE(n),r=DE(r);var i=po(n,1),s=po(r,1);for(r=po(r,2),n=po(n,2);!Br(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=po(r,1),n=po(n,1)}return e=wd(t,i.R(e)),new el(i,e)}for(i=Xo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=vr(n),o=s.R(e);zn(o)||0<o.X(t);)n-=r,s=vr(n),o=s.R(e);Br(s)&&(s=py),i=i.add(s),t=wd(t,o)}return new el(i,t)}Q.gb=function(t){return Ed(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function DE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function po(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ue(i,t.h)}_d.prototype.createWebChannel=_d.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;xf.NO_ERROR=0;xf.TIMEOUT=8;xf.HTTP_ERROR=6;QR.COMPLETE="complete";YR.EventType=Gu;Gu.OPEN="a";Gu.CLOSE="b";Gu.ERROR="c";Gu.MESSAGE="d";Ot.prototype.listen=Ot.prototype.O;ht.prototype.listenOnce=ht.prototype.P;ht.prototype.getLastError=ht.prototype.Sa;ht.prototype.getLastErrorCode=ht.prototype.Ia;ht.prototype.getStatus=ht.prototype.da;ht.prototype.getResponseJson=ht.prototype.Wa;ht.prototype.getResponseText=ht.prototype.ja;ht.prototype.send=ht.prototype.ha;ht.prototype.setWithCredentials=ht.prototype.Oa;cr.prototype.digest=cr.prototype.l;cr.prototype.reset=cr.prototype.reset;cr.prototype.update=cr.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=vr;Ue.fromString=bx;var L3=function(){return new _d},F3=function(){return Rf()},Im=xf,$3=QR,j3=io,OE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wc=YR,U3=ht,B3=cr,Jo=Ue;const NE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new gf("@firebase/firestore");function tl(){return Gs.logLevel}function re(t,...e){if(Gs.logLevel<=Ne.DEBUG){const n=e.map(B0);Gs.debug(`Firestore (${Da}): ${t}`,...n)}}function ni(t,...e){if(Gs.logLevel<=Ne.ERROR){const n=e.map(B0);Gs.error(`Firestore (${Da}): ${t}`,...n)}}function ca(t,...e){if(Gs.logLevel<=Ne.WARN){const n=e.map(B0);Gs.warn(`Firestore (${Da}): ${t}`,...n)}}function B0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function Je(t,e){t||we()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class H3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q3{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new Dx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Yt(e)}}class W3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new W3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new G3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Y3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new mt(0,0))}static max(){return new Ie(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Tu{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const X3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Tu{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return X3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(nt.fromString(e))}static fromName(e){return new de(nt.fromString(e).popFirst(5))}static empty(){return new de(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new nt(e.slice()))}}function J3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Gi(i,de.empty(),e)}function Z3(t){return new Gi(t.readTime,t.key,-1)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(Ie.min(),de.empty(),-1)}static max(){return new Gi(Ie.max(),de.empty(),-1)}}function eU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==tU)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}z0.ae=-1;function Ff(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function rU(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new nn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mx("Invalid base64 string: "+s):s}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const iU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Je(!!t),typeof t=="string"){let e=0;const n=iU.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function q0(t){const e=t.mapValue.fields.__previous_value__;return H0(e)?q0(e):e}function Su(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Iu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H0(t)?4:oU(t)?9007199254740991:10:we()}function Rr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qi(i.timestampValue),a=Qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qs(i.bytesValue).isEqual(Qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wt(i.doubleValue),a=wt(s.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ha(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ME(o)!==ME(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rr(o[l],a[l])))return!1;return!0}(t,e);default:return we()}}function Cu(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function da(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=wt(s.integerValue||s.doubleValue),l=wt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return LE(t.timestampValue,e.timestampValue);case 4:return LE(Su(t),Su(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qs(s),l=Qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=$e(a[u],l[u]);if(c!==0)return c}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=$e(wt(s.latitude),wt(o.latitude));return a!==0?a:$e(wt(s.longitude),wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=da(a[u],l[u]);if(c)return c}return $e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Gc.mapValue&&o===Gc.mapValue)return 0;if(s===Gc.mapValue)return 1;if(o===Gc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=$e(l[h],c[h]);if(d!==0)return d;const f=da(a[l[h]],u[c[h]]);if(f!==0)return f}return $e(l.length,c.length)}(t.mapValue,e.mapValue);default:throw we()}}function LE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Qi(t),r=Qi(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function fa(t){return my(t)}function my(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=my(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${my(n.fields[o])}`;return i+"}"}(t.mapValue):we()}function gy(t){return!!t&&"integerValue"in t}function W0(t){return!!t&&"arrayValue"in t}function FE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){so(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gn(Nl(this.value))}}function Vx(t){const e=[];return so(t.fields,(n,r)=>{const i=new Zt([n]);if(wh(r)){const s=Vx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,Ie.min(),Ie.min(),Ie.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ie.min(),Ie.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ie.min(),Ie.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=da(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n="asc"){this.field=e,this.dir=n}}function aU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{}class Ct extends Lx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uU(e,n,r):n==="array-contains"?new dU(e,r):n==="in"?new fU(e,r):n==="not-in"?new pU(e,r):n==="array-contains-any"?new mU(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cU(e,r):new hU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(da(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xr extends Lx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new xr(e,n)}matches(e){return Fx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Fx(t){return t.op==="and"}function $x(t){return lU(t)&&Fx(t)}function lU(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function yy(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+fa(t.value);if($x(t))return t.filters.map(e=>yy(e)).join(",");{const e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function jx(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jx(o,i.filters[a]),!0):!1}(t,e):void we()}function Ux(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ux).join(" ,")+"}"}(t):"Filter"}class uU extends Ct{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class cU extends Ct{constructor(e,n){super(e,"in",n),this.keys=Bx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hU extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=Bx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class dU extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W0(n)&&Cu(n.arrayValue,this.value)}}class fU extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class pU extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}}class mU extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function BE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gU(t,e,n,r,i,s,o)}function K0(t){const e=Re(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.he=n}return e.he}function G0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function vy(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function yU(t,e,n,r,i,s,o,a){return new $f(t,e,n,r,i,s,o,a)}function Q0(t){return new $f(t)}function zE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vU(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _U(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function wU(t){return t.collectionGroup!==null}function Vl(t){const e=Re(t);if(e.Pe===null){e.Pe=[];const n=_U(e),r=vU(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ml(n)),e.Pe.push(new Ml(Zt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ml(Zt.keyField(),s))}}}return e.Pe}function Ir(t){const e=Re(t);return e.Ie||(e.Ie=EU(e,Vl(t))),e.Ie}function EU(t,e){if(t.limitType==="F")return BE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ml(i.field,s)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return BE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _y(t,e,n){return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jf(t,e){return G0(Ir(t),Ir(e))&&t.limitType===e.limitType}function zx(t){return`${K0(Ir(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ux(i)).join(", ")}]`),Ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=jE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Vl(r),i)||r.endAt&&!function(o,a,l){const u=jE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Vl(r),i))}(t,e)}function TU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hx(t){return(e,n)=>{let r=!1;for(const i of Vl(t)){const s=SU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SU(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?da(l,u):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new at(de.comparator);function ri(){return IU}const qx=new at(de.comparator);function pl(...t){let e=qx;for(const n of t)e=e.insert(n.key,n);return e}function Wx(t){let e=qx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return Ll()}function Kx(){return Ll()}function Ll(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const CU=new at(de.comparator),PU=new nn(de.comparator);function De(...t){let e=PU;for(const n of t)e=e.add(n);return e}const AU=new nn($e);function RU(){return AU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function Qx(t){return{integerValue:""+t}}function xU(t,e){return rU(e)?Qx(e):Gx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function kU(t,e,n){return t instanceof Id?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&H0(s)&&(s=q0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pu?Xx(t,e):t instanceof Au?Jx(t,e):function(i,s){const o=Yx(i,s),a=HE(o)+HE(i.Te);return gy(o)&&gy(i.Te)?Qx(a):Gx(i.serializer,a)}(t,e)}function bU(t,e,n){return t instanceof Pu?Xx(t,e):t instanceof Au?Jx(t,e):n}function Yx(t,e){return t instanceof Cd?function(r){return gy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Id extends Bf{}class Pu extends Bf{constructor(e){super(),this.elements=e}}function Xx(t,e){const n=Zx(e);for(const r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Au extends Bf{constructor(e){super(),this.elements=e}}function Jx(t,e){let n=Zx(e);for(const r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}class Cd extends Bf{constructor(e,n){super(),this.serializer=e,this.Te=n}}function HE(t){return wt(t.integerValue||t.doubleValue)}function Zx(t){return W0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pu&&i instanceof Pu||r instanceof Au&&i instanceof Au?ha(r.elements,i.elements,Rr):r instanceof Cd&&i instanceof Cd?Rr(r.Te,i.Te):r instanceof Id&&i instanceof Id}(t.transform,e.transform)}class OU{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let zf=class{};function ek(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y0(t.key,ar.none()):new tc(t.key,t.data,ar.none());{const n=t.data,r=gn.empty();let i=new nn(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new os(t.key,r,new Pn(i.toArray()),ar.none())}}function NU(t,e,n){t instanceof tc?function(i,s,o){const a=i.value.clone(),l=WE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,s,o){if(!Eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=WE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(tk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof tc?function(s,o,a,l){if(!Eh(s.precondition,o))return a;const u=s.value.clone(),c=KE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(s,o,a,l){if(!Eh(s.precondition,o))return a;const u=KE(s.fieldTransforms,l,o),c=o.data;return c.setAll(tk(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function MU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Yx(r.transform,i||null);s!=null&&(n===null&&(n=gn.empty()),n.set(r.field,s))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ha(r,i,(s,o)=>DU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tc extends zf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends zf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WE(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bU(o,a,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kU(s,o,e))}return r}class Y0 extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VU extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Kx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ek(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(n,r)=>qE(n,r))&&ha(this.baseMutations,e.baseMutations,(n,r)=>qE(n,r))}}class X0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return CU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new X0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Me;function jU(t){switch(t){default:return we();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function nk(t){if(t===void 0)return ni("GRPC error has no .code"),M.UNKNOWN;switch(t){case yt.OK:return M.OK;case yt.CANCELLED:return M.CANCELLED;case yt.UNKNOWN:return M.UNKNOWN;case yt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case yt.INTERNAL:return M.INTERNAL;case yt.UNAVAILABLE:return M.UNAVAILABLE;case yt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case yt.NOT_FOUND:return M.NOT_FOUND;case yt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case yt.ABORTED:return M.ABORTED;case yt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case yt.DATA_LOSS:return M.DATA_LOSS;default:return we()}}(Me=yt||(yt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new Jo([4294967295,4294967295],0);function GE(t){const e=UU().encode(t),n=new B3;return n.update(e),new Uint8Array(n.digest())}function QE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jo([n,r],0),new Jo([i,s],0)]}class J0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Jo.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Jo.fromNumber(r)));return i.compare(BU)===1&&(i=new Jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=GE(e),[r,i]=QE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new J0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=GE(e),[r,i]=QE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(Ie.min(),i,new at($e),ri(),De())}}class nc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nc(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class rk{constructor(e,n){this.targetId=e,this.ye=n}}class ik{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.we=0,this.Se=JE(),this.be=on.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=De(),n=De(),r=De();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new nc(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=JE()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class zU{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ri(),this.Ue=XE(),this.We=new at($e)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(vy(s))if(r===0){const o=new de(s.path);this.je(n,o,Jt.newNoDocument(o,Ie.min()))}else Je(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qs(r).toUint8Array()}catch(l){if(l instanceof Mx)return ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new J0(o,i,s)}catch(l){return ca(l instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&vy(a.target)){const l=new de(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,Jt.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=De();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Hf(e,n,this.We,this.$e,r);return this.$e=ri(),this.Ue=XE(),this.We=new at($e),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new YE,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new nn($e),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new YE),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function XE(){return new at(de.comparator)}function JE(){return new at(de.comparator)}const HU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WU=(()=>({and:"AND",or:"OR"}))();class KU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||Ff(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GU(t,e){return Pd(t,e.toTimestamp())}function Cr(t){return Je(!!t),Ie.fromTimestamp(function(n){const r=Qi(n);return new mt(r.seconds,r.nanos)}(t))}function Z0(t,e){return function(r){return new nt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function ok(t){const e=nt.fromString(t);return Je(ck(e)),e}function Ey(t,e){return Z0(t.databaseId,e.path)}function Cm(t,e){const n=ok(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(ak(n))}function Ty(t,e){return Z0(t.databaseId,e)}function QU(t){const e=ok(t);return e.length===4?nt.emptyPath():ak(e)}function Sy(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZE(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function YU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Je(c===void 0||typeof c=="string"),on.fromBase64String(c||"")):(Je(c===void 0||c instanceof Uint8Array),on.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?M.UNKNOWN:nk(u.code);return new ce(c,u.message||"")}(o);n=new ik(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cm(t,r.document.name),s=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):Ie.min(),a=new gn({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Th(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cm(t,r.document),s=r.readTime?Cr(r.readTime):Ie.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cm(t,r.document),s=r.removedTargetIds||[];n=new Th([],s,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $U(i,s),a=r.targetId;n=new rk(a,o)}}return n}function XU(t,e){let n;if(e instanceof tc)n={update:ZE(t,e.key,e.value)};else if(e instanceof Y0)n={delete:Ey(t,e.key)};else if(e instanceof os)n={update:ZE(t,e.key,e.data),updateMask:o5(e.fieldMask)};else{if(!(e instanceof VU))return we();n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Au)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:GU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:we()}(t,e.precondition)),n}function JU(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Cr(i.updateTime):Cr(s);return o.isEqual(Ie.min())&&(o=Cr(s)),new OU(o,i.transformResults||[])}(n,e))):[]}function ZU(t,e){return{documents:[Ty(t,e.path)]}}function e5(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ty(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ty(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return uk(xr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:vo(h.field),direction:r5(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=wy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function t5(t){let e=QU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=lk(h);return d instanceof xr&&$x(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(m){return new Ml(_o(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Ff(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Sd(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new Sd(f,d)}(n.endAt)),yU(e,i,o,s,a,"F",l,u)}function n5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_o(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_o(n.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_o(n.unaryFilter.field);return Ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>lk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function r5(t){return HU[t]}function i5(t){return qU[t]}function s5(t){return WU[t]}function vo(t){return{fieldPath:t.canonicalString()}}function _o(t){return Zt.fromServerFormat(t.fieldPath)}function uk(t){return t instanceof Ct?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:i5(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(i=>uk(i));return r.length===1?r[0]:{compositeFilter:{op:s5(n.op),filters:r}}}(t):we()}function o5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r,i,s=Ie.min(),o=Ie.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.ht=e}}function l5(t){const e=t5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.an=new c5}addToCollectionParentIndex(e,n){return this.an.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Gi.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class c5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new pa(0)}static Ln(){return new pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fl(r.mutation,i,Pn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ri();const o=Ll(),a=function(){return Ll()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof os)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Fl(c.mutation,u,c.mutation.getFieldMask(),mt.now())):o.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new d5(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new at((o,a)=>o-a),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Pn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||De()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Kx();c.forEach(d=>{if(!s.has(d)){const f=ek(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Ps());let a=-1,l=s;return o.next(u=>L.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?L.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,De())).next(c=>({batchId:a,changes:Wx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=function(h,d){return new $f(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Jt.newInvalidDocument(c)))});let a=pl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Fl(c.mutation,u,Pn.empty(),mt.now()),Uf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return L.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:l5(i.bundledQuery),readTime:Cr(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.overlays=new at(de.comparator),this.Pr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Ps(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ps(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return L.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FU(n,r));let s=this.Pr.get(n);s===void 0&&(s=De(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.Ir=new nn(kt.dr),this.Tr=new nn(kt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new kt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new de(new nt([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new de(new nt([])),r=new kt(n,e),i=new kt(n,e+1);let s=De();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return de.comparator(e.key,n.key)||$e(e.yr,n.yr)}static Er(e,n){return $e(e.yr,n.yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new nn(kt.dr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn($e);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new kt(new de(s),0);let a=new nn($e);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return L.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new kt(n,0),i=this.Sr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.Fr=e,this.docs=function(){return new at(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ri();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ri();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eU(Z3(c),r)<=0||(i.has(c.key)||Uf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){we()}Mr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new v5(this)}getSize(e){return L.resolve(this.size)}}class v5 extends h5{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.persistence=e,this.Or=new Oa(n=>K0(n),G0),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Nr=0,this.Br=new e_,this.targetCount=0,this.Lr=pa.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),L.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Qn(n),L.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.kr={},this.overlays={},this.qr=new z0(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new _5(this),this.indexManager=new u5,this.remoteDocumentCache=function(i){return new y5(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new a5(n),this.Ur=new p5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new g5(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new E5(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return L.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class E5 extends nU{constructor(e){super(),this.currentSequenceNumber=e}}class t_{constructor(e){this.persistence=e,this.jr=new e_,this.Hr=null}static Jr(e){return new t_(e)}get Yr(){if(this.Hr)return this.Hr;throw we()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),L.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Yr,r=>{const i=de.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ie.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return L.or([()=>L.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new T5;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(tl()<=Ne.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),L.resolve()):(tl()<=Ne.DEBUG&&re("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(tl()<=Ne.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):L.resolve())}Hi(e,n){if(zE(n))return L.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_y(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=De(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(e,_y(n,null,"F")):this.ts(e,u,n,l)}))})))}Ji(e,n,r,i){return zE(n)||i.isEqual(Ie.min())?L.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?L.resolve(null):(tl()<=Ne.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.ts(e,o,n,J3(i,-1)).next(a=>a))})}Xi(e,n){let r=new nn(Hx(e));return n.forEach((i,s)=>{Uf(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return tl()<=Ne.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ji.getDocumentsMatchingQuery(e,n,Gi.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new at($e),this.ss=new Oa(s=>K0(s),G0),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f5(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function C5(t,e,n,r){return new I5(t,e,n,r)}async function hk(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=De();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function P5(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=L.resolve();return d.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(v=>{const w=u.docVersions.get(m);Je(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=De();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dk(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function A5(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(on.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(v,w,g){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,f,c)&&a.push(n.Kr.updateTargetData(s,f))});let l=ri(),u=De();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(R5(s,o,e.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!r.isEqual(Ie.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(h=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=i,s))}function R5(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ri();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:i}})}function x5(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k5(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function Iy(t,e,n){const r=Re(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ec(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function eT(t,e,n){const r=Re(t);let i=Ie.min(),s=De();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Re(l),d=h.ss.get(c);return d!==void 0?L.resolve(h.rs.get(d)):h.Kr.getTargetData(u,c)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ie.min(),n?s:De())).next(a=>(b5(r,TU(e),a),{documents:a,Ps:s})))}function b5(t,e,n){let r=t.os.get(e)||Ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}class tT{constructor(){this.activeTargetIds=RU()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D5{constructor(){this.ro=new tT,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new tT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Pm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class V5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=Pm(),l=this.Do(n,r);re("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,i).then(c=>(re("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ca("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=N5[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Pm();return new Promise((o,a)=>{const l=new U3;l.setWithCredentials(!0),l.listenOnce($3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Im.NO_ERROR:const c=l.getResponseJson();re(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Im.TIMEOUT:re(Gt,`RPC '${e}' ${s} timed out`),a(new ce(M.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const h=l.getStatus();if(re(Gt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const m=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(g)>=0?g:M.UNKNOWN}(f.status);a(new ce(m,f.message))}else a(new ce(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(M.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{re(Gt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);re(Gt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(e,n,r){const i=Pm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L3(),a=F3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");re(Gt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const m=new M5({ho:w=>{f?re(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(re(Gt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),re(Gt,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Po:()=>h.close()}),v=(w,g,p)=>{w.listen(g,_=>{try{p(_)}catch(y){setTimeout(()=>{throw y},0)}})};return v(h,Wc.EventType.OPEN,()=>{f||re(Gt,`RPC '${e}' stream ${i} transport opened.`)}),v(h,Wc.EventType.CLOSE,()=>{f||(f=!0,re(Gt,`RPC '${e}' stream ${i} transport closed`),m.mo())}),v(h,Wc.EventType.ERROR,w=>{f||(f=!0,ca(Gt,`RPC '${e}' stream ${i} transport errored:`,w),m.mo(new ce(M.UNAVAILABLE,"The operation could not be completed")))}),v(h,Wc.EventType.MESSAGE,w=>{var g;if(!f){const p=w.data[0];Je(!!p);const _=p,y=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(y){re(Gt,`RPC '${e}' stream ${i} received error:`,y);const T=y.status;let A=function(O){const U=yt[O];if(U!==void 0)return nk(U)}(T),P=y.message;A===void 0&&(A=M.INTERNAL,P="Unknown error status: "+T+" with message "+y.message),f=!0,m.mo(new ce(A,P)),h.close()}else re(Gt,`RPC '${e}' stream ${i} received:`,p),m.fo(p)}}),v(a,j3.STAT_EVENT,w=>{w.stat===OE.PROXY?re(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===OE.NOPROXY&&re(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Vo()},0),m}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new KU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new fk(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new ce(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L5 extends pk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=YU(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?Cr(o.readTime):Ie.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Sy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vy(l)?{documents:ZU(s,l)}:{query:e5(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sk(s,o.resumeToken);const u=wy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Pd(s,o.snapshotVersion.toTimestamp());const u=wy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=n5(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Sy(this.serializer),n.removeTarget=e,this.n_(n)}}class F5 extends pk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=JU(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.T_(r,n)}return Je(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Sy(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XU(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new ce(M.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(M.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(M.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class j5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ni(n),this.p_=!1):re("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{oo(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Re(l);u.F_.add(4),await rc(u),u.O_.set("Unknown"),u.F_.delete(4),await Wf(u)}(this))})}),this.O_=new j5(r,i)}}async function Wf(t){if(oo(t))for(const e of t.M_)await e(!0)}async function rc(t){for(const e of t.M_)await e(!1)}function mk(t,e){const n=Re(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),s_(n)?i_(n):Na(n).Yo()&&r_(n,e))}function gk(t,e){const n=Re(t),r=Na(n);n.v_.delete(e),r.Yo()&&yk(n,e),n.v_.size===0&&(r.Yo()?r.e_():oo(n)&&n.O_.set("Unknown"))}function r_(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).l_(e)}function yk(t,e){t.N_.Le(e),Na(t).h_(e)}function i_(t){t.N_=new zU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.O_.y_()}function s_(t){return oo(t)&&!Na(t).Jo()&&t.v_.size>0}function oo(t){return Re(t).F_.size===0}function vk(t){t.N_=void 0}async function B5(t){t.v_.forEach((e,n)=>{r_(t,e)})}async function z5(t,e){vk(t),s_(t)?(t.O_.b_(e),i_(t)):t.O_.set("Unknown")}async function H5(t,e,n){if(t.O_.set("Online"),e instanceof ik&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ad(t,r)}else if(e instanceof Th?t.N_.Ge(e):e instanceof rk?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ie.min()))try{const r=await dk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.v_.get(u);c&&s.v_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.v_.get(l);if(!c)return;s.v_.set(l,c.withResumeToken(on.EMPTY_BYTE_STRING,c.snapshotVersion)),yk(s,l);const h=new Ri(c.target,l,u,c.sequenceNumber);r_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Ad(t,r)}}async function Ad(t,e,n){if(!ec(e))throw e;t.F_.add(1),await rc(t),t.O_.set("Offline"),n||(n=()=>dk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Wf(t)})}function _k(t,e){return e().catch(n=>Ad(t,n,e))}async function Kf(t){const e=Re(t),n=Yi(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;q5(e);)try{const i=await x5(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,W5(e,i)}catch(i){await Ad(e,i)}wk(e)&&Ek(e)}function q5(t){return oo(t)&&t.C_.length<10}function W5(t,e){t.C_.push(e);const n=Yi(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function wk(t){return oo(t)&&!Yi(t).Jo()&&t.C_.length>0}function Ek(t){Yi(t).start()}async function K5(t){Yi(t).A_()}async function G5(t){const e=Yi(t);for(const n of t.C_)e.d_(n.mutations)}async function Q5(t,e,n){const r=t.C_.shift(),i=X0.from(r,e,n);await _k(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kf(t)}async function Y5(t,e){e&&Yi(t).I_&&await async function(r,i){if(function(o){return jU(o)&&o!==M.ABORTED}(i.code)){const s=r.C_.shift();Yi(r).Xo(),await _k(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kf(r)}}(t,e),wk(t)&&Ek(t)}async function rT(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=oo(n);n.F_.add(3),await rc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Wf(n)}async function X5(t,e){const n=Re(t);e?(n.F_.delete(2),await Wf(n)):e||(n.F_.add(2),await rc(n),n.O_.set("Unknown"))}function Na(t){return t.B_||(t.B_=function(n,r,i){const s=Re(n);return s.V_(),new L5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:B5.bind(null,t),Eo:z5.bind(null,t),c_:H5.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),s_(t)?i_(t):t.O_.set("Unknown")):(await t.B_.stop(),vk(t))})),t.B_}function Yi(t){return t.L_||(t.L_=function(n,r,i){const s=Re(n);return s.V_(),new F5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:K5.bind(null,t),Eo:Y5.bind(null,t),E_:G5.bind(null,t),T_:Q5.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Kf(t)):(await t.L_.stop(),t.C_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new o_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(t,e){if(ni("AsyncQueue",`${e}: ${t}`),ec(t))return new ce(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.k_=new at(de.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):we():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ma(e,n,Zo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.Q_=void 0,this.listeners=[]}}class Z5{constructor(){this.queries=new Oa(e=>zx(e),jf),this.onlineState="Unknown",this.K_=new Set}}async function Tk(t,e){const n=Re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new J5),i)try{s.Q_=await n.onListen(r)}catch(o){const a=a_(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&l_(n)}async function Sk(t,e){const n=Re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function eB(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&l_(n)}function tB(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function l_(t){t.K_.forEach(e=>{e.next()})}class Ik{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.key=e}}class Pk{constructor(e){this.key=e}}class nB{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=De(),this.mutatedKeys=De(),this.ua=Hx(e),this.ca=new Zo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new iT,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Uf(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;d&&f?d.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),w=!0):this.Ia(d,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),w=!0):d&&!f&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((u,c)=>function(d,f){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return m(d)-m(f)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new ma(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new iT,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=De(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Pk(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Ck(r))}),n}Ra(e){this.oa=e.Ps,this.aa=De();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ma.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class rB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iB{constructor(e){this.key=e,this.ma=!1}}class sB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Oa(a=>zx(a),jf),this.pa=new Map,this.ya=new Set,this.wa=new at(de.comparator),this.Sa=new Map,this.ba=new e_,this.Da={},this.Ca=new Map,this.va=pa.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function oB(t,e){const n=gB(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await k5(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await aB(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&mk(n.remoteStore,o)}return i}async function aB(t,e,n,r,i){t.Ma=(h,d,f)=>async function(v,w,g,p){let _=w.view.ha(g);_.es&&(_=await eT(v.localStore,w.query,!1).then(({documents:A})=>w.view.ha(A,_)));const y=p&&p.targetChanges.get(w.targetId),T=w.view.applyChanges(_,v.isPrimaryClient,y);return oT(v,w.targetId,T.Ea),T.snapshot}(t,h,d,f);const s=await eT(t.localStore,e,!0),o=new nB(e,s.Ps),a=o.ha(s.documents),l=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);oT(t,n,u.Ea);const c=new rB(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function lB(t,e){const n=Re(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!jf(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Iy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gk(n.remoteStore,r.targetId),Cy(n,r.targetId)}).catch(Zu)):(Cy(n,r.targetId),await Iy(n.localStore,r.targetId,!0))}async function uB(t,e,n){const r=yB(t);try{const i=await function(o,a){const l=Re(o),u=mt.now(),c=a.reduce((f,m)=>f.add(m.key),De());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ri(),v=De();return l._s.getEntries(f,c).next(w=>{m=w,m.forEach((g,p)=>{p.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(w=>{h=w;const g=[];for(const p of a){const _=MU(p,h.get(p.key).overlayedDocument);_!=null&&g.push(new os(p.key,_,Vx(_.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,g,a)}).next(w=>{d=w;const g=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(f,w.batchId,g)})}).then(()=>({batchId:d.batchId,changes:Wx(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new at($e)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await ic(r,i.changes),await Kf(r.remoteStore)}catch(i){const s=a_(i,"Failed to persist write");n.reject(s)}}async function Ak(t,e){const n=Re(t);try{const r=await A5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Je(o.ma):i.removedDocuments.size>0&&(Je(o.ma),o.ma=!1))}),await ic(n,r,e)}catch(r){await Zu(r)}}function sT(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.listeners)d.U_(a)&&(u=!0)}),u&&l_(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cB(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new at(de.comparator);o=o.insert(s,Jt.newNoDocument(s,Ie.min()));const a=De().add(s),l=new Hf(Ie.min(),new Map,new at($e),o,a);await Ak(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),u_(r)}else await Iy(r.localStore,e,!1).then(()=>Cy(r,e,n)).catch(Zu)}async function hB(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await P5(n.localStore,e);xk(n,r,null),Rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,i)}catch(i){await Zu(i)}}async function dB(t,e,n){const r=Re(t);try{const i=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Je(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);xk(r,e,n),Rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,i)}catch(i){await Zu(i)}}function Rk(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function xk(t,e,n){const r=Re(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||kk(t,r)})}function kk(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(gk(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),u_(t))}function oT(t,e,n){for(const r of n)r instanceof Ck?(t.ba.addReference(r.key,e),fB(t,r)):r instanceof Pk?(re("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||kk(t,r.key)):we()}function fB(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(re("SyncEngine","New document in limbo: "+n),t.ya.add(r),u_(t))}function u_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new de(nt.fromString(e)),r=t.va.next();t.Sa.set(r,new iB(n)),t.wa=t.wa.insert(n,r),mk(t.remoteStore,new Ri(Ir(Q0(n.path)),r,"TargetPurposeLimboResolution",z0.ae))}}async function ic(t,e,n){const r=Re(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=n_.$i(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,u){const c=Re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(u,d=>L.forEach(d.Qi,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>L.forEach(d.Ki,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!ec(h))throw h;re("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.rs.get(d),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);c.rs=c.rs.insert(d,v)}}}(r.localStore,s))}async function pB(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await hk(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ce(M.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r.cs)}}function mB(t,e){const n=Re(t),r=n.Sa.get(e);if(r&&r.ma)return De().add(r.key);{let i=De();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function gB(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cB.bind(null,e),e.fa.c_=eB.bind(null,e.eventManager),e.fa.xa=tB.bind(null,e.eventManager),e}function yB(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dB.bind(null,e),e}class aT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C5(this.persistence,new S5,e.initialUser,this.serializer)}createPersistence(e){return new w5(t_.Jr,this.serializer)}createSharedClientState(e){return new D5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pB.bind(null,this.syncEngine),await X5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z5}()}createDatastore(e){const n=qf(e.databaseInfo.databaseId),r=function(s){return new V5(s)}(e.databaseInfo);return function(s,o,a,l){return new $5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new U5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sT(this.syncEngine,n,0),function(){return nT.C()?new nT:new O5}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new sB(i,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Re(n);re("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await rc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=Ox.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=a_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EB(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>rT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rT(e.remoteStore,s)),t._onlineComponents=e}function wB(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function EB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!wB(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new aT)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Rm(t,new aT);return t._offlineComponents}async function Dk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await lT(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await lT(t,new vB))),t._onlineComponents}function TB(t){return Dk(t).then(e=>e.syncEngine)}async function Ok(t){const e=await Dk(t),n=e.eventManager;return n.onListen=oB.bind(null,e.syncEngine),n.onUnlisten=lB.bind(null,e.syncEngine),n}function SB(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new bk({next:d=>{o.enqueueAndForget(()=>Sk(s,h));const f=d.docs.has(a);!f&&d.fromCache?u.reject(new ce(M.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new ce(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new Ik(Q0(a.path),c,{includeMetadataChanges:!0,Z_:!0});return Tk(s,h)}(await Ok(t),t.asyncQueue,e,n,r)),r.promise}function IB(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new bk({next:d=>{o.enqueueAndForget(()=>Sk(s,h)),d.fromCache&&l.source==="server"?u.reject(new ce(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new Ik(a,c,{includeMetadataChanges:!0,Z_:!0});return Tk(s,h)}(await Ok(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e,n){if(!n)throw new ce(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CB(t,e,n,r){if(e===!0&&r===!0)throw new ce(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cT(t){if(!de.isDocumentKey(t))throw new ce(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hT(t){if(de.isDocumentKey(t))throw new ce(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c_(t);throw new ce(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z3;switch(r.type){case"firstParty":return new K3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uT.get(n);r&&(re("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())}(this),Promise.resolve()}}function PB(t,e,n,r={}){var i;const s=(t=ii(t,Gf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Yt.MOCK_USER;else{a=PV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yt(u)}t._authCredentials=new H3(new Dx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vk=class Lk{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lk(this.firestore,e,this._query)}};class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ui extends Vk{constructor(e,n,r){super(e,n,Q0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new de(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Fk(t,e,...n){if(t=At(t),Mk("collection","path",e),t instanceof Gf){const r=nt.fromString(e,...n);return hT(r),new Ui(t,null,r)}{if(!(t instanceof xn||t instanceof Ui))throw new ce(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return hT(r),new Ui(t.firestore,null,r)}}function Ru(t,e,...n){if(t=At(t),arguments.length===1&&(e=Ox.V()),Mk("doc","path",e),t instanceof Gf){const r=nt.fromString(e,...n);return cT(r),new xn(t,null,new de(r))}{if(!(t instanceof xn||t instanceof Ui))throw new ce(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return cT(r),new xn(t.firestore,t instanceof Ui?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new fk(this,"async_queue_retry"),this.ou=()=>{const n=Am();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Am();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Kr;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!ec(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=o_.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&we()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Ma extends Gf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new AB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$k(this),this._firestoreClient.terminate()}}function RB(t,e){const n=typeof t=="object"?t:r0(),r=typeof t=="string"?t:e||"(default)",i=to(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=IV("firestore");s&&PB(i,...s)}return i}function h_(t){return t._firestoreClient||$k(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $k(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new sU(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Nk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new _B(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(on.fromBase64String(e))}catch(n){throw new ce(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=/^__.*__$/;class kB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class jk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class p_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new p_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Rd(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(Uk(this.Tu)&&xB.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class bB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qf(e)}wu(e,n,r,i=!1){return new p_({Tu:e,methodName:n,yu:r,path:Zt.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bk(t){const e=t._freezeSettings(),n=qf(t._databaseId);return new bB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DB(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);m_("Data must be an object, but it was:",o,r);const a=zk(r,o);let l,u;if(s.merge)l=new Pn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=Py(e,h,n);if(!o.contains(d))throw new ce(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);qk(c,d)||c.push(d)}l=new Pn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new kB(new gn(a),l,u)}class Yf extends d_{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}function OB(t,e,n,r){const i=t.wu(1,e,n);m_("Data must be an object, but it was:",i,r);const s=[],o=gn.empty();so(r,(l,u)=>{const c=g_(e,l,n);u=At(u);const h=i.mu(c);if(u instanceof Yf)s.push(c);else{const d=Xf(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Pn(s);return new jk(o,a,i.fieldTransforms)}function NB(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[Py(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Py(e,s[d])),l.push(s[d+1]);const u=[],c=gn.empty();for(let d=a.length-1;d>=0;--d)if(!qk(u,a[d])){const f=a[d];let m=l[d];m=At(m);const v=o.mu(f);if(m instanceof Yf)u.push(f);else{const w=Xf(m,v);w!=null&&(u.push(f),c.set(f,w))}}const h=new Pn(u);return new jk(c,h,o.fieldTransforms)}function Xf(t,e){if(Hk(t=At(t)))return m_("Unsupported field value:",e,t),zk(t,e);if(t instanceof d_)return function(r,i){if(!Uk(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Xf(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:Pd(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pd(i.serializer,s)}}if(r instanceof f_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:sk(i.serializer,r._byteString)};if(r instanceof xn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Z0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${c_(r)}`)}(t,e)}function zk(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(r,i)=>{const s=Xf(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Hk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof f_||t instanceof ga||t instanceof xn||t instanceof d_)}function m_(t,e,n){if(!Hk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=c_(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function Py(t,e,n){if((e=At(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return g_(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const MB=new RegExp("[~\\*/\\[\\]]");function g_(t,e,n){if(e.search(MB)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(M.INVALID_ARGUMENT,a+t+l)}function qk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VB extends Wk{data(){return super.data()}}function Kk(t,e){return typeof e=="string"?g_(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FB{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return so(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new f_(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=q0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Je(ck(r));const i=new Iu(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gk extends Wk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sh extends Gk{data(e={}){return super.data(e)}}class jB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:UB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){t=ii(t,xn);const e=ii(t.firestore,Ma);return SB(h_(e),t._key).then(n=>WB(e,t,n))}class Qk extends FB{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function zB(t){t=ii(t,Vk);const e=ii(t.firestore,Ma),n=h_(e),r=new Qk(e);return LB(t._query),IB(n,t._query).then(i=>new jB(e,r,t,i))}function Yk(t,e,n,...r){t=ii(t,xn);const i=ii(t.firestore,Ma),s=Bk(i);let o;return o=typeof(e=At(e))=="string"||e instanceof Qf?NB(s,"updateDoc",t._key,e,n,r):OB(s,"updateDoc",t._key,e),y_(i,[o.toMutation(t._key,ar.exists(!0))])}function HB(t){return y_(ii(t.firestore,Ma),[new Y0(t._key,ar.none())])}function qB(t,e){const n=ii(t.firestore,Ma),r=Ru(t),i=$B(t.converter,e);return y_(n,[DB(Bk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function y_(t,e){return function(r,i){const s=new Kr;return r.asyncQueue.enqueueAndForget(async()=>uB(await TB(r),i,s)),s.promise}(h_(t),e)}function WB(t,e,n){const r=n.docs.get(e._key),i=new Qk(t);return new Gk(t,i,e._key,r,new gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Da=i})(Ra),Ar(new ur("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ma(new q3(r.getProvider("auth-internal")),new Q3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kn(NE,"4.2.0",e),Kn(NE,"4.2.0","esm2017")})();const KB={apiKey:"AIzaSyAgNijhmZ8y_tdtE4bnqaoKsj6P0jNkFME",authDomain:"test-50529.firebaseapp.com",projectId:"test-50529",storageBucket:"test-50529.appspot.com",messagingSenderId:"340380028944",appId:"1:340380028944:web:2483ca0d4c55c06b187a95",measurementId:"G-698XFK5Q1M"},v_=IA(KB);E4(v_);const Ms=Vj(v_),GB=new Lr,ya=RB(v_),QB=Fk(ya,"customers");var YB="#4fa94d",XB={"aria-busy":!0,role:"status"},fT=globalThis&&globalThis.__assign||function(){return fT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fT.apply(this,arguments)},pT=globalThis&&globalThis.__assign||function(){return pT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pT.apply(this,arguments)},mT=globalThis&&globalThis.__assign||function(){return mT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mT.apply(this,arguments)},gT=globalThis&&globalThis.__assign||function(){return gT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gT.apply(this,arguments)},yT=globalThis&&globalThis.__assign||function(){return yT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yT.apply(this,arguments)},vT=globalThis&&globalThis.__assign||function(){return vT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vT.apply(this,arguments)},_T=globalThis&&globalThis.__assign||function(){return _T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_T.apply(this,arguments)},Xk={exports:{}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=typeof Symbol=="function"&&Symbol.for,__=Mt?Symbol.for("react.element"):60103,w_=Mt?Symbol.for("react.portal"):60106,Jf=Mt?Symbol.for("react.fragment"):60107,Zf=Mt?Symbol.for("react.strict_mode"):60108,ep=Mt?Symbol.for("react.profiler"):60114,tp=Mt?Symbol.for("react.provider"):60109,np=Mt?Symbol.for("react.context"):60110,E_=Mt?Symbol.for("react.async_mode"):60111,rp=Mt?Symbol.for("react.concurrent_mode"):60111,ip=Mt?Symbol.for("react.forward_ref"):60112,sp=Mt?Symbol.for("react.suspense"):60113,JB=Mt?Symbol.for("react.suspense_list"):60120,op=Mt?Symbol.for("react.memo"):60115,ap=Mt?Symbol.for("react.lazy"):60116,ZB=Mt?Symbol.for("react.block"):60121,e9=Mt?Symbol.for("react.fundamental"):60117,t9=Mt?Symbol.for("react.responder"):60118,n9=Mt?Symbol.for("react.scope"):60119;function Mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case __:switch(t=t.type,t){case E_:case rp:case Jf:case ep:case Zf:case sp:return t;default:switch(t=t&&t.$$typeof,t){case np:case ip:case ap:case op:case tp:return t;default:return e}}case w_:return e}}}function Jk(t){return Mn(t)===rp}Be.AsyncMode=E_;Be.ConcurrentMode=rp;Be.ContextConsumer=np;Be.ContextProvider=tp;Be.Element=__;Be.ForwardRef=ip;Be.Fragment=Jf;Be.Lazy=ap;Be.Memo=op;Be.Portal=w_;Be.Profiler=ep;Be.StrictMode=Zf;Be.Suspense=sp;Be.isAsyncMode=function(t){return Jk(t)||Mn(t)===E_};Be.isConcurrentMode=Jk;Be.isContextConsumer=function(t){return Mn(t)===np};Be.isContextProvider=function(t){return Mn(t)===tp};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===__};Be.isForwardRef=function(t){return Mn(t)===ip};Be.isFragment=function(t){return Mn(t)===Jf};Be.isLazy=function(t){return Mn(t)===ap};Be.isMemo=function(t){return Mn(t)===op};Be.isPortal=function(t){return Mn(t)===w_};Be.isProfiler=function(t){return Mn(t)===ep};Be.isStrictMode=function(t){return Mn(t)===Zf};Be.isSuspense=function(t){return Mn(t)===sp};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jf||t===rp||t===ep||t===Zf||t===sp||t===JB||typeof t=="object"&&t!==null&&(t.$$typeof===ap||t.$$typeof===op||t.$$typeof===tp||t.$$typeof===np||t.$$typeof===ip||t.$$typeof===e9||t.$$typeof===t9||t.$$typeof===n9||t.$$typeof===ZB)};Be.typeOf=Mn;Xk.exports=Be;var T_=Xk.exports;function r9(t){function e(H,G,B,ue,R){for(var Ce=0,z=0,Le=0,xe=0,Ae,ge,Ge=0,Vt=0,ke,gt=ke=Ae=0,S=0,x=0,D=0,q=0,W=B.length,$=W-1,Z,J="",ve="",an="",ci="",qt;S<W;){if(ge=B.charCodeAt(S),S===$&&z+xe+Le+Ce!==0&&(z!==0&&(ge=z===47?10:47),xe=Le=Ce=0,W++,$++),z+xe+Le+Ce===0){if(S===$&&(0<x&&(J=J.replace(d,"")),0<J.trim().length)){switch(ge){case 32:case 9:case 59:case 13:case 10:break;default:J+=B.charAt(S)}ge=59}switch(ge){case 123:for(J=J.trim(),Ae=J.charCodeAt(0),ke=1,q=++S;S<W;){switch(ge=B.charCodeAt(S)){case 123:ke++;break;case 125:ke--;break;case 47:switch(ge=B.charCodeAt(S+1)){case 42:case 47:e:{for(gt=S+1;gt<$;++gt)switch(B.charCodeAt(gt)){case 47:if(ge===42&&B.charCodeAt(gt-1)===42&&S+2!==gt){S=gt+1;break e}break;case 10:if(ge===47){S=gt+1;break e}}S=gt}}break;case 91:ge++;case 40:ge++;case 34:case 39:for(;S++<$&&B.charCodeAt(S)!==ge;);}if(ke===0)break;S++}switch(ke=B.substring(q,S),Ae===0&&(Ae=(J=J.replace(h,"").trim()).charCodeAt(0)),Ae){case 64:switch(0<x&&(J=J.replace(d,"")),ge=J.charCodeAt(1),ge){case 100:case 109:case 115:case 45:x=G;break;default:x=he}if(ke=e(G,x,ke,ge,R+1),q=ke.length,0<N&&(x=n(he,J,D),qt=a(3,ke,x,G,K,F,q,ge,R,ue),J=x.join(""),qt!==void 0&&(q=(ke=qt.trim()).length)===0&&(ge=0,ke="")),0<q)switch(ge){case 115:J=J.replace(A,o);case 100:case 109:case 45:ke=J+"{"+ke+"}";break;case 107:J=J.replace(p,"$1 $2"),ke=J+"{"+ke+"}",ke=ee===1||ee===2&&s("@"+ke,3)?"@-webkit-"+ke+"@"+ke:"@"+ke;break;default:ke=J+ke,ue===112&&(ke=(ve+=ke,""))}else ke="";break;default:ke=e(G,n(G,J,D),ke,ue,R+1)}an+=ke,ke=D=x=gt=Ae=0,J="",ge=B.charCodeAt(++S);break;case 125:case 59:if(J=(0<x?J.replace(d,""):J).trim(),1<(q=J.length))switch(gt===0&&(Ae=J.charCodeAt(0),Ae===45||96<Ae&&123>Ae)&&(q=(J=J.replace(" ",":")).length),0<N&&(qt=a(1,J,G,H,K,F,ve.length,ue,R,ue))!==void 0&&(q=(J=qt.trim()).length)===0&&(J="\0\0"),Ae=J.charCodeAt(0),ge=J.charCodeAt(1),Ae){case 0:break;case 64:if(ge===105||ge===99){ci+=J+B.charAt(S);break}default:J.charCodeAt(q-1)!==58&&(ve+=i(J,Ae,ge,J.charCodeAt(2)))}D=x=gt=Ae=0,J="",ge=B.charCodeAt(++S)}}switch(ge){case 13:case 10:z===47?z=0:1+Ae===0&&ue!==107&&0<J.length&&(x=1,J+="\0"),0<N*se&&a(0,J,G,H,K,F,ve.length,ue,R,ue),F=1,K++;break;case 59:case 125:if(z+xe+Le+Ce===0){F++;break}default:switch(F++,Z=B.charAt(S),ge){case 9:case 32:if(xe+Ce+z===0)switch(Ge){case 44:case 58:case 9:case 32:Z="";break;default:ge!==32&&(Z=" ")}break;case 0:Z="\\0";break;case 12:Z="\\f";break;case 11:Z="\\v";break;case 38:xe+z+Ce===0&&(x=D=1,Z="\f"+Z);break;case 108:if(xe+z+Ce+Y===0&&0<gt)switch(S-gt){case 2:Ge===112&&B.charCodeAt(S-3)===58&&(Y=Ge);case 8:Vt===111&&(Y=Vt)}break;case 58:xe+z+Ce===0&&(gt=S);break;case 44:z+Le+xe+Ce===0&&(x=1,Z+="\r");break;case 34:case 39:z===0&&(xe=xe===ge?0:xe===0?ge:xe);break;case 91:xe+z+Le===0&&Ce++;break;case 93:xe+z+Le===0&&Ce--;break;case 41:xe+z+Ce===0&&Le--;break;case 40:if(xe+z+Ce===0){if(Ae===0)switch(2*Ge+3*Vt){case 533:break;default:Ae=1}Le++}break;case 64:z+Le+xe+Ce+gt+ke===0&&(ke=1);break;case 42:case 47:if(!(0<xe+Ce+Le))switch(z){case 0:switch(2*ge+3*B.charCodeAt(S+1)){case 235:z=47;break;case 220:q=S,z=42}break;case 42:ge===47&&Ge===42&&q+2!==S&&(B.charCodeAt(q+2)===33&&(ve+=B.substring(q,S+1)),Z="",z=0)}}z===0&&(J+=Z)}Vt=Ge,Ge=ge,S++}if(q=ve.length,0<q){if(x=G,0<N&&(qt=a(2,ve,x,H,K,F,q,ue,R,ue),qt!==void 0&&(ve=qt).length===0))return ci+ve+an;if(ve=x.join(",")+"{"+ve+"}",ee*Y!==0){switch(ee!==2||s(ve,2)||(Y=0),Y){case 111:ve=ve.replace(y,":-moz-$1")+ve;break;case 112:ve=ve.replace(_,"::-webkit-input-$1")+ve.replace(_,"::-moz-$1")+ve.replace(_,":-ms-input-$1")+ve}Y=0}}return ci+ve+an}function n(H,G,B){var ue=G.trim().split(w);G=ue;var R=ue.length,Ce=H.length;switch(Ce){case 0:case 1:var z=0;for(H=Ce===0?"":H[0]+" ";z<R;++z)G[z]=r(H,G[z],B).trim();break;default:var Le=z=0;for(G=[];z<R;++z)for(var xe=0;xe<Ce;++xe)G[Le++]=r(H[xe]+" ",ue[z],B).trim()}return G}function r(H,G,B){var ue=G.charCodeAt(0);switch(33>ue&&(ue=(G=G.trim()).charCodeAt(0)),ue){case 38:return G.replace(g,"$1"+H.trim());case 58:return H.trim()+G.replace(g,"$1"+H.trim());default:if(0<1*B&&0<G.indexOf("\f"))return G.replace(g,(H.charCodeAt(0)===58?"":"$1")+H.trim())}return H+G}function i(H,G,B,ue){var R=H+";",Ce=2*G+3*B+4*ue;if(Ce===944){H=R.indexOf(":",9)+1;var z=R.substring(H,R.length-1).trim();return z=R.substring(0,H).trim()+z+";",ee===1||ee===2&&s(z,1)?"-webkit-"+z+z:z}if(ee===0||ee===2&&!s(R,1))return R;switch(Ce){case 1015:return R.charCodeAt(10)===97?"-webkit-"+R+R:R;case 951:return R.charCodeAt(3)===116?"-webkit-"+R+R:R;case 963:return R.charCodeAt(5)===110?"-webkit-"+R+R:R;case 1009:if(R.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+R+R;case 978:return"-webkit-"+R+"-moz-"+R+R;case 1019:case 983:return"-webkit-"+R+"-moz-"+R+"-ms-"+R+R;case 883:if(R.charCodeAt(8)===45)return"-webkit-"+R+R;if(0<R.indexOf("image-set(",11))return R.replace(oe,"$1-webkit-$2")+R;break;case 932:if(R.charCodeAt(4)===45)switch(R.charCodeAt(5)){case 103:return"-webkit-box-"+R.replace("-grow","")+"-webkit-"+R+"-ms-"+R.replace("grow","positive")+R;case 115:return"-webkit-"+R+"-ms-"+R.replace("shrink","negative")+R;case 98:return"-webkit-"+R+"-ms-"+R.replace("basis","preferred-size")+R}return"-webkit-"+R+"-ms-"+R+R;case 964:return"-webkit-"+R+"-ms-flex-"+R+R;case 1023:if(R.charCodeAt(8)!==99)break;return z=R.substring(R.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+z+"-webkit-"+R+"-ms-flex-pack"+z+R;case 1005:return m.test(R)?R.replace(f,":-webkit-")+R.replace(f,":-moz-")+R:R;case 1e3:switch(z=R.substring(13).trim(),G=z.indexOf("-")+1,z.charCodeAt(0)+z.charCodeAt(G)){case 226:z=R.replace(T,"tb");break;case 232:z=R.replace(T,"tb-rl");break;case 220:z=R.replace(T,"lr");break;default:return R}return"-webkit-"+R+"-ms-"+z+R;case 1017:if(R.indexOf("sticky",9)===-1)break;case 975:switch(G=(R=H).length-10,z=(R.charCodeAt(G)===33?R.substring(0,G):R).substring(H.indexOf(":",7)+1).trim(),Ce=z.charCodeAt(0)+(z.charCodeAt(7)|0)){case 203:if(111>z.charCodeAt(8))break;case 115:R=R.replace(z,"-webkit-"+z)+";"+R;break;case 207:case 102:R=R.replace(z,"-webkit-"+(102<Ce?"inline-":"")+"box")+";"+R.replace(z,"-webkit-"+z)+";"+R.replace(z,"-ms-"+z+"box")+";"+R}return R+";";case 938:if(R.charCodeAt(5)===45)switch(R.charCodeAt(6)){case 105:return z=R.replace("-items",""),"-webkit-"+R+"-webkit-box-"+z+"-ms-flex-"+z+R;case 115:return"-webkit-"+R+"-ms-flex-item-"+R.replace(I,"")+R;default:return"-webkit-"+R+"-ms-flex-line-pack"+R.replace("align-content","").replace(I,"")+R}break;case 973:case 989:if(R.charCodeAt(3)!==45||R.charCodeAt(4)===122)break;case 931:case 953:if(U.test(H)===!0)return(z=H.substring(H.indexOf(":")+1)).charCodeAt(0)===115?i(H.replace("stretch","fill-available"),G,B,ue).replace(":fill-available",":stretch"):R.replace(z,"-webkit-"+z)+R.replace(z,"-moz-"+z.replace("fill-",""))+R;break;case 962:if(R="-webkit-"+R+(R.charCodeAt(5)===102?"-ms-"+R:"")+R,B+ue===211&&R.charCodeAt(13)===105&&0<R.indexOf("transform",10))return R.substring(0,R.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+R}return R}function s(H,G){var B=H.indexOf(G===1?":":"{"),ue=H.substring(0,G!==3?B:10);return B=H.substring(B+1,H.length-1),X(G!==2?ue:ue.replace(O,"$1"),B,G)}function o(H,G){var B=i(G,G.charCodeAt(0),G.charCodeAt(1),G.charCodeAt(2));return B!==G+";"?B.replace(P," or ($1)").substring(4):"("+G+")"}function a(H,G,B,ue,R,Ce,z,Le,xe,Ae){for(var ge=0,Ge=G,Vt;ge<N;++ge)switch(Vt=fe[ge].call(c,H,Ge,B,ue,R,Ce,z,Le,xe,Ae)){case void 0:case!1:case!0:case null:break;default:Ge=Vt}if(Ge!==G)return Ge}function l(H){switch(H){case void 0:case null:N=fe.length=0;break;default:if(typeof H=="function")fe[N++]=H;else if(typeof H=="object")for(var G=0,B=H.length;G<B;++G)l(H[G]);else se=!!H|0}return l}function u(H){return H=H.prefix,H!==void 0&&(X=null,H?typeof H!="function"?ee=1:(ee=2,X=H):ee=0),u}function c(H,G){var B=H;if(33>B.charCodeAt(0)&&(B=B.trim()),le=B,B=[le],0<N){var ue=a(-1,G,B,B,K,F,0,0,0,0);ue!==void 0&&typeof ue=="string"&&(G=ue)}var R=e(he,B,G,0,0);return 0<N&&(ue=a(-2,R,B,B,K,F,R.length,0,0,0),ue!==void 0&&(R=ue)),le="",Y=0,F=K=1,R}var h=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,m=/zoo|gra/,v=/([,: ])(transform)/g,w=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,p=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,y=/:(read-only)/g,T=/[svh]\w+-[tblr]{2}/,A=/\(\s*(.*)\s*\)/g,P=/([\s\S]*?);/g,I=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,U=/stretch|:\s*\w+\-(?:conte|avail)/,oe=/([^-])(image-set\()/,F=1,K=1,Y=0,ee=1,he=[],fe=[],N=0,X=null,se=0,le="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var i9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function s9(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var o9=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wT=s9(function(t){return o9.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),S_=T_,a9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},I_={};I_[S_.ForwardRef]=u9;I_[S_.Memo]=Zk;function ET(t){return S_.isMemo(t)?Zk:I_[t.$$typeof]||a9}var c9=Object.defineProperty,h9=Object.getOwnPropertyNames,TT=Object.getOwnPropertySymbols,d9=Object.getOwnPropertyDescriptor,f9=Object.getPrototypeOf,ST=Object.prototype;function eb(t,e,n){if(typeof e!="string"){if(ST){var r=f9(e);r&&r!==ST&&eb(t,r,n)}var i=h9(e);TT&&(i=i.concat(TT(e)));for(var s=ET(t),o=ET(e),a=0;a<i.length;++a){var l=i[a];if(!l9[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=d9(e,l);try{c9(t,l,u)}catch{}}}}return t}var p9=eb;const m9=LI(p9);function zr(){return(zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var IT=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},Ay=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!T_.typeOf(t)},xd=Object.freeze([]),Bi=Object.freeze({});function xu(t){return typeof t=="function"}function CT(t){return t.displayName||t.name||"Component"}function C_(t){return t&&typeof t.styledComponentId=="string"}var va=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",P_=typeof window<"u"&&"HTMLElement"in window,g9=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function sc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var y9=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;n>=o;)(o<<=1)<0&&sc(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),Ih=new Map,kd=new Map,$l=1,Yc=function(t){if(Ih.has(t))return Ih.get(t);for(;kd.has($l);)$l++;var e=$l++;return Ih.set(t,e),kd.set(e,t),e},v9=function(t){return kd.get(t)},_9=function(t,e){e>=$l&&($l=e+1),Ih.set(t,e),kd.set(e,t)},w9="style["+va+'][data-styled-version="5.3.11"]',E9=new RegExp("^"+va+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),T9=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},S9=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(E9);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(_9(u,l),T9(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},I9=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},tb=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(va))return c}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(va,"active"),r.setAttribute("data-styled-version","5.3.11");var o=I9();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},C9=function(){function t(n){var r=this.element=tb(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}sc(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),P9=function(){function t(n){var r=this.element=tb(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),A9=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),PT=P_,R9={isServer:!P_,useCSSOMInjection:!g9},nb=function(){function t(n,r,i){n===void 0&&(n=Bi),r===void 0&&(r={}),this.options=zr({},R9,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&P_&&PT&&(PT=!1,function(s){for(var o=document.querySelectorAll(w9),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(va)!=="active"&&(S9(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return Yc(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(zr({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,n=i?new A9(o):s?new C9(o):new P9(o),new y9(n)));var n,r,i,s,o},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(Yc(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(Yc(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(Yc(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",o=0;o<i;o++){var a=v9(o);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var c=va+".g"+o+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(d){d.length>0&&(h+=d+",")}),s+=""+u+c+'{content:"'+h+`"}/*!sc*/
`}}}return s}(this)},t}(),x9=/(a)(d)/gi,AT=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ry(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=AT(e%52)+n;return(AT(e%52)+n).replace(x9,"$1-$2")}var Vo=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},rb=function(t){return Vo(5381,t)};function k9(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(xu(n)&&!C_(n))return!1}return!0}var b9=rb("5.3.11"),D9=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&k9(e),this.componentId=n,this.baseHash=Vo(b9,n),this.baseStyle=r,nb.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=_a(this.rules,e,n,r).join(""),a=Ry(Vo(this.baseHash,o)>>>0);if(!n.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);n.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Vo(this.baseHash,r.hash),h="",d=0;d<u;d++){var f=this.rules[d];if(typeof f=="string")h+=f;else if(f){var m=_a(f,e,n,r),v=Array.isArray(m)?m.join(""):m;c=Vo(c,v+d),h+=v}}if(h){var w=Ry(c>>>0);if(!n.hasNameForId(i,w)){var g=r(h,"."+w,void 0,i);n.insertRules(i,w,g)}s.push(w)}}return s.join(" ")},t}(),O9=/^\s*\/\/.*$/gm,N9=[":","[",".","#"];function M9(t){var e,n,r,i,s=t===void 0?Bi:t,o=s.options,a=o===void 0?Bi:o,l=s.plugins,u=l===void 0?xd:l,c=new r9(a),h=[],d=function(v){function w(g){if(g)try{v(g+"}")}catch{}}return function(g,p,_,y,T,A,P,I,O,U){switch(g){case 1:if(O===0&&p.charCodeAt(0)===64)return v(p+";"),"";break;case 2:if(I===0)return p+"/*|*/";break;case 3:switch(I){case 102:case 112:return v(_[0]+p),"";default:return p+(U===0?"/*|*/":"")}case-2:p.split("/*|*/}").forEach(w)}}}(function(v){h.push(v)}),f=function(v,w,g){return w===0&&N9.indexOf(g[n.length])!==-1||g.match(i)?v:"."+e};function m(v,w,g,p){p===void 0&&(p="&");var _=v.replace(O9,""),y=w&&g?g+" "+w+" { "+_+" }":_;return e=p,n=w,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(g||!w?"":w,y)}return c.use([].concat(u,[function(v,w,g){v===2&&g.length&&g[0].lastIndexOf(n)>0&&(g[0]=g[0].replace(r,f))},d,function(v){if(v===-2){var w=h;return h=[],w}}])),m.hash=u.length?u.reduce(function(v,w){return w.name||sc(15),Vo(v,w.name)},5381).toString():"",m}var ib=me.createContext();ib.Consumer;var sb=me.createContext(),V9=(sb.Consumer,new nb),xy=M9();function L9(){return E.useContext(ib)||V9}function F9(){return E.useContext(sb)||xy}var ob=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=xy);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return sc(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=xy),this.name+e.hash},t}(),$9=/([A-Z])/,j9=/([A-Z])/g,U9=/^ms-/,B9=function(t){return"-"+t.toLowerCase()};function RT(t){return $9.test(t)?t.replace(j9,B9).replace(U9,"-ms-"):t}var xT=function(t){return t==null||t===!1||t===""};function _a(t,e,n,r){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=_a(t[o],e,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(xT(t))return"";if(C_(t))return"."+t.styledComponentId;if(xu(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return _a(l,e,n,r)}var u;return t instanceof ob?n?(t.inject(n,r),t.getName(r)):t:Ay(t)?function c(h,d){var f,m,v=[];for(var w in h)h.hasOwnProperty(w)&&!xT(h[w])&&(Array.isArray(h[w])&&h[w].isCss||xu(h[w])?v.push(RT(w)+":",h[w],";"):Ay(h[w])?v.push.apply(v,c(h[w],w)):v.push(RT(w)+": "+(f=w,(m=h[w])==null||typeof m=="boolean"||m===""?"":typeof m!="number"||m===0||f in i9||f.startsWith("--")?String(m).trim():m+"px")+";"));return d?[d+" {"].concat(v,["}"]):v}(t):t.toString()}var kT=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function ab(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return xu(t)||Ay(t)?kT(_a(IT(xd,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:kT(_a(IT(t,n)))}var z9=function(t,e,n){return n===void 0&&(n=Bi),t.theme!==n.theme&&t.theme||e||n.theme},H9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,q9=/(^-|-$)/g;function xm(t){return t.replace(H9,"-").replace(q9,"")}var lb=function(t){return Ry(rb(t)>>>0)};function Xc(t){return typeof t=="string"&&!0}var ky=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},W9=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function K9(t,e,n){var r=t[n];ky(e)&&ky(r)?ub(r,e):t[n]=e}function ub(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(ky(o))for(var a in o)W9(a)&&K9(t,o[a],a)}return t}var cb=me.createContext();cb.Consumer;var km={};function hb(t,e,n){var r=C_(t),i=!Xc(t),s=e.attrs,o=s===void 0?xd:s,a=e.componentId,l=a===void 0?function(p,_){var y=typeof p!="string"?"sc":xm(p);km[y]=(km[y]||0)+1;var T=y+"-"+lb("5.3.11"+y+km[y]);return _?_+"-"+T:T}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(p){return Xc(p)?"styled."+p:"Styled("+CT(p)+")"}(t):u,h=e.displayName&&e.componentId?xm(e.displayName)+"-"+e.componentId:e.componentId||l,d=r&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,f=e.shouldForwardProp;r&&t.shouldForwardProp&&(f=e.shouldForwardProp?function(p,_,y){return t.shouldForwardProp(p,_,y)&&e.shouldForwardProp(p,_,y)}:t.shouldForwardProp);var m,v=new D9(n,h,r?t.componentStyle:void 0),w=v.isStatic&&o.length===0,g=function(p,_){return function(y,T,A,P){var I=y.attrs,O=y.componentStyle,U=y.defaultProps,oe=y.foldedComponentIds,F=y.shouldForwardProp,K=y.styledComponentId,Y=y.target,ee=function(ue,R,Ce){ue===void 0&&(ue=Bi);var z=zr({},R,{theme:ue}),Le={};return Ce.forEach(function(xe){var Ae,ge,Ge,Vt=xe;for(Ae in xu(Vt)&&(Vt=Vt(z)),Vt)z[Ae]=Le[Ae]=Ae==="className"?(ge=Le[Ae],Ge=Vt[Ae],ge&&Ge?ge+" "+Ge:ge||Ge):Vt[Ae]}),[z,Le]}(z9(T,E.useContext(cb),U)||Bi,T,I),he=ee[0],fe=ee[1],N=function(ue,R,Ce,z){var Le=L9(),xe=F9(),Ae=R?ue.generateAndInjectStyles(Bi,Le,xe):ue.generateAndInjectStyles(Ce,Le,xe);return Ae}(O,P,he),X=A,se=fe.$as||T.$as||fe.as||T.as||Y,le=Xc(se),H=fe!==T?zr({},T,{},fe):T,G={};for(var B in H)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?G.as=H[B]:(F?F(B,wT,se):!le||wT(B))&&(G[B]=H[B]));return T.style&&fe.style!==T.style&&(G.style=zr({},T.style,{},fe.style)),G.className=Array.prototype.concat(oe,K,N!==K?N:null,T.className,fe.className).filter(Boolean).join(" "),G.ref=X,E.createElement(se,G)}(m,p,_,w)};return g.displayName=c,(m=me.forwardRef(g)).attrs=d,m.componentStyle=v,m.displayName=c,m.shouldForwardProp=f,m.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):xd,m.styledComponentId=h,m.target=r?t.target:t,m.withComponent=function(p){var _=e.componentId,y=function(A,P){if(A==null)return{};var I,O,U={},oe=Object.keys(A);for(O=0;O<oe.length;O++)I=oe[O],P.indexOf(I)>=0||(U[I]=A[I]);return U}(e,["componentId"]),T=_&&_+"-"+(Xc(p)?p:xm(CT(p)));return hb(p,zr({},y,{attrs:d,componentId:T}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(p){this._foldedDefaultProps=r?ub({},t.defaultProps,p):p}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),i&&m9(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var by=function(t){return function e(n,r,i){if(i===void 0&&(i=Bi),!T_.isValidElementType(r))return sc(1,String(r));var s=function(){return n(r,i,ab.apply(void 0,arguments))};return s.withConfig=function(o){return e(n,r,zr({},i,{},o))},s.attrs=function(o){return e(n,r,zr({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(hb,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){by[t]=by(t)});function A_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=ab.apply(void 0,[t].concat(n)).join(""),s=lb(i);return new ob(s,i)}const oc=by;var db=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Zn=242.776657104492,G9=1.6,Q9=A_(bT||(bT=db([`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`],[`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`])),Zn*.14,Zn,Zn*.11,Zn*.35,Zn,Zn*.35,Zn*.01,Zn,Zn*.99);oc.path(DT||(DT=db([`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`],[`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`])),Zn*.01,Zn,Q9,G9);var bT,DT,OT=globalThis&&globalThis.__assign||function(){return OT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},OT.apply(this,arguments)},NT=globalThis&&globalThis.__assign||function(){return NT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},NT.apply(this,arguments)},MT=globalThis&&globalThis.__assign||function(){return MT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},MT.apply(this,arguments)},VT=globalThis&&globalThis.__assign||function(){return VT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},VT.apply(this,arguments)},LT=globalThis&&globalThis.__assign||function(){return LT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},LT.apply(this,arguments)},FT=globalThis&&globalThis.__assign||function(){return FT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},FT.apply(this,arguments)},$T=globalThis&&globalThis.__assign||function(){return $T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$T.apply(this,arguments)},Y9=function(e,n){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof r[e]<"u")return r[e];if(e&&e.indexOf(".")>0){for(var i=e.split("."),s=i.length,o=r[i[0]],a=1;o!=null&&a<s;)o=o[i[a]],a+=1;if(typeof o<"u")return o}return n}},R_=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Dy=globalThis&&globalThis.__assign||function(){return Dy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dy.apply(this,arguments)},X9=A_(jT||(jT=R_([`
 to {
    transform: rotate(360deg);
  }
`],[`
 to {
    transform: rotate(360deg);
  }
`]))),J9=[0,30,60,90,120,150,180,210,240,270,300,330],Z9=oc.svg(UT||(UT=R_([`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`],[`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`])),X9,Y9("speed","0.75")),e6=oc.polyline(BT||(BT=R_([`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`],[`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`])),function(t){return t.width});function x_(t){var e=t.strokeColor,n=e===void 0?YB:e,r=t.strokeWidth,i=r===void 0?"5":r,s=t.animationDuration,o=s===void 0?"0.75":s,a=t.width,l=a===void 0?"96":a,u=t.visible,c=u===void 0?!0:u,h=t.ariaLabel,d=h===void 0?"rotating-lines-loading":h,f=E.useCallback(function(){return J9.map(function(m){return me.createElement(e6,{key:m,points:"24,12 24,4",width:i,transform:"rotate(".concat(m,", 24, 24)")})})},[i]);return c?me.createElement(Z9,Dy({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:l,stroke:n,speed:o,"data-testid":"rotating-lines-svg","aria-label":d},XB),f()):null}var jT,UT,BT,zT=globalThis&&globalThis.__assign||function(){return zT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zT.apply(this,arguments)},HT=globalThis&&globalThis.__assign||function(){return HT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},HT.apply(this,arguments)},qT=globalThis&&globalThis.__assign||function(){return qT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qT.apply(this,arguments)},k_=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},WT=globalThis&&globalThis.__assign||function(){return WT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},WT.apply(this,arguments)},t6=A_(KT||(KT=k_([`
 to {
    stroke-dashoffset: 136;
  }
`],[`
 to {
    stroke-dashoffset: 136;
  }
`])));oc.polygon(GT||(GT=k_([`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`],[`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`])),t6);oc.svg(QT||(QT=k_([`
  transform-origin: 50% 65%;
`],[`
  transform-origin: 50% 65%;
`])));var KT,GT,QT,YT=globalThis&&globalThis.__assign||function(){return YT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},YT.apply(this,arguments)},XT=globalThis&&globalThis.__assign||function(){return XT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},XT.apply(this,arguments)},JT=globalThis&&globalThis.__assign||function(){return JT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},JT.apply(this,arguments)},ZT=globalThis&&globalThis.__assign||function(){return ZT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ZT.apply(this,arguments)},eS=globalThis&&globalThis.__assign||function(){return eS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eS.apply(this,arguments)},tS=globalThis&&globalThis.__assign||function(){return tS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tS.apply(this,arguments)},nS=globalThis&&globalThis.__assign||function(){return nS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nS.apply(this,arguments)},rS=globalThis&&globalThis.__assign||function(){return rS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rS.apply(this,arguments)},iS=globalThis&&globalThis.__assign||function(){return iS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},iS.apply(this,arguments)},sS=globalThis&&globalThis.__assign||function(){return sS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sS.apply(this,arguments)},oS=globalThis&&globalThis.__assign||function(){return oS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oS.apply(this,arguments)},aS=globalThis&&globalThis.__assign||function(){return aS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aS.apply(this,arguments)},lS=globalThis&&globalThis.__assign||function(){return lS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lS.apply(this,arguments)},uS=globalThis&&globalThis.__assign||function(){return uS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uS.apply(this,arguments)};const n6={email:localStorage.getItem("email")||"",hasSigned:localStorage.getItem("hasSigned")||!1};function r6(t,e){switch(e.type){case"signin":return localStorage.setItem("email",e.payload),localStorage.setItem("hasSigned",!0),{...t,email:e.payload,hasSigned:!0};case"signout":return localStorage.removeItem("email"),localStorage.removeItem("hasSigned"),{...t,email:"",hasSigned:!1};default:return t}}const fb=E.createContext();function i6({children:t}){const[{email:e,hasSigned:n},r]=E.useReducer(r6,n6);function i(I){r({type:"signin",payload:I})}function s(){r({type:"signout"})}const[o,a]=E.useState(!1),[l,u]=E.useState(!1),[c,h]=E.useState(!1),[d,f]=E.useState(null),[m,v]=E.useState(null),[w,g]=E.useState(""),[p,_]=E.useState([]),[y,T]=E.useState(null),[A,P]=E.useState(!0);return E.useEffect(()=>{const I=vR(Ms,O=>{T(O),P(!1)});return()=>I()},[Ms]),console.log(y),C.jsx(fb.Provider,{value:{email:e,hasSigned:n,dispatch:r,signIn:i,openModal:o,setOpenModal:a,openRenewModal:l,setOpenRenewModal:u,selectedId:d,setSelectedId:f,openUpdateModal:c,setOpenUpdateModal:h,selectedUpdateId:m,setSelectedUpdateId:v,search:w,signout:s,setSearch:g,filteredData:p,setFilteredData:_,user:y},children:A?C.jsxs("div",{className:" flex justify-center items-center w-screen h-screen",children:[C.jsx(x_,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})," "]}):t})}function ui(){const t=E.useContext(fb);if(t===void 0)throw new Error("the context is wrong ");return t}function s6(){const t=E.useRef(null),{search:e,setSearch:n}=ui();function r(i){n(i)}return C.jsx(C.Fragment,{children:C.jsx("input",{ref:t,value:e,onChange:i=>r(i.target.value),className:" py-2  rounded-lg  outline outline-lime-600  px-4  focus:outline-none focus:ring focus:ring-green-500 shadow-xl",type:"text",placeholder:"search"})})}var pb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cS=me.createContext&&me.createContext(pb),zi=globalThis&&globalThis.__assign||function(){return zi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zi.apply(this,arguments)},o6=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mb(t){return t&&t.map(function(e,n){return me.createElement(e.tag,zi({key:n},e.attr),mb(e.child))})}function lp(t){return function(e){return me.createElement(a6,zi({attr:zi({},t.attr)},e),mb(t.child))}}function a6(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=o6(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),me.createElement("svg",zi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:zi(zi({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&me.createElement("title",null,s),t.children)};return cS!==void 0?me.createElement(cS.Consumer,null,function(n){return e(n)}):e(pb)}function l6(t){return lp({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"}},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"}}]})(t)}function u6(){const{email:t,signout:e,user:n}=ui(),r=async()=>{try{await I$(Ms)}catch(i){console.error(i)}};return C.jsx("div",{children:C.jsxs("div",{className:"   items-center flex  gap-2",children:[n!=null&&n.photoURL?C.jsx("img",{className:" rounded-full  w-12 h-12",src:n.photoURL}):C.jsx("img",{className:"  rounded-full w-16 h-16",src:"https://www.inquirer.com/resizer/tieQcqJxZRkxMcp64Typ9c8vYL8=/760x507/smart/filters:format(webp)/cloudfront-us-east-1.images.arcpublishing.com/pmn/OPKHDT2FBPB3Z6WJLYOWTUX3TI.jpg",alt:""}),C.jsx("h2",{children:n.displayName?n.displayName:n.email}),C.jsx("button",{onClick:r,className:" text-blue-600",children:C.jsx(l6,{color:"green",size:30})})]})})}function c6(t){return lp({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]})(t)}function h6(t){return lp({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(t)}function d6(){const{user:t}=ui();return console.log(t),C.jsxs("nav",{className:" my-2 py-2 flex justify-around   items-center ",children:[C.jsx("ul",{children:C.jsx("li",{children:C.jsx(N1,{to:"home",children:C.jsx(h6,{size:30,color:"green"})})})}),C.jsx("ul",{className:" flex items-center gap-10 justify-between",children:C.jsx("li",{children:C.jsx(s6,{})})}),C.jsx("ul",{className:" flex items-center  ",children:C.jsxs("li",{className:"  justify-self-end",children:[!(t!=null&&t.email)&&C.jsx(N1,{to:"sign",className:" bg-[#09a765] py-2 px-4 rounded-full  hover:bg-[#51977a] shadow-md text-white font-semibold   ",children:"Sign in"}),t&&C.jsx(u6,{})]})})]})}function f6(){return C.jsx("div",{className:"",children:C.jsx(d6,{})})}function gb(){const t=Aa();return console.log(t.pathname),C.jsxs("div",{className:" max-w-5xl mx-auto",children:[C.jsx("div",{children:C.jsx(f6,{})}),C.jsx(iV,{})]})}function p6(){return C.jsxs("div",{children:[C.jsx(gb,{}),C.jsx(au,{})]})}class Va{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ku=typeof window>"u"||"Deno"in window;function Fn(){}function m6(t,e){return typeof t=="function"?t(e):t}function Oy(t){return typeof t=="number"&&t>=0&&t!==1/0}function yb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yl(t,e,n){return ac(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function g6(t,e,n){return ac(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function yi(t,e,n){return ac(t)?[{...e,queryKey:t},n]:[t||{},e]}function hS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(ac(o)){if(r){if(e.queryHash!==b_(o,e.options))return!1}else if(!bd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function dS(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(ac(s)){if(!e.options.mutationKey)return!1;if(n){if(As(e.options.mutationKey)!==As(s))return!1}else if(!bd(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function b_(t,e){return((e==null?void 0:e.queryKeyHashFn)||As)(t)}function As(t){return JSON.stringify(t,(e,n)=>Ny(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bd(t,e){return vb(t,e)}function vb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!vb(t[n],e[n])):!1}function _b(t,e){if(t===e)return t;const n=fS(t)&&fS(e);if(n||Ny(t)&&Ny(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const u=n?l:i[l];o[u]=_b(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function Dd(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ny(t){if(!pS(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!pS(n)||!n.hasOwnProperty("isPrototypeOf"))}function pS(t){return Object.prototype.toString.call(t)==="[object Object]"}function ac(t){return Array.isArray(t)}function wb(t){return new Promise(e=>{setTimeout(e,t)})}function mS(t){wb(0).then(t)}function y6(){if(typeof AbortController=="function")return new AbortController}function My(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_b(t,e):e}class v6 extends Va{constructor(){super(),this.setup=e=>{if(!ku&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Od=new v6,gS=["online","offline"];class _6 extends Va{constructor(){super(),this.setup=e=>{if(!ku&&window.addEventListener){const n=()=>e();return gS.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{gS.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Nd=new _6;function w6(t){return Math.min(1e3*2**t,3e4)}function up(t){return(t??"online")==="online"?Nd.isOnline():!0}class Eb{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Ch(t){return t instanceof Eb}function Tb(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((w,g)=>{s=w,o=g}),l=w=>{r||(f(new Eb(w)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},h=()=>!Od.isFocused()||t.networkMode!=="always"&&!Nd.isOnline(),d=w=>{r||(r=!0,t.onSuccess==null||t.onSuccess(w),i==null||i(),s(w))},f=w=>{r||(r=!0,t.onError==null||t.onError(w),i==null||i(),o(w))},m=()=>new Promise(w=>{i=g=>{const p=r||!h();return p&&w(g),p},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),v=()=>{if(r)return;let w;try{w=t.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(d).catch(g=>{var p,_;if(r)return;const y=(p=t.retry)!=null?p:3,T=(_=t.retryDelay)!=null?_:w6,A=typeof T=="function"?T(n,g):T,P=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(e||!P){f(g);return}n++,t.onFail==null||t.onFail(n,g),wb(A).then(()=>{if(h())return m()}).then(()=>{e?f(g):v()})})};return up(t.networkMode)?v():m().then(v),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}const D_=console;function E6(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;e++;try{h=c()}finally{e--,e||a()}return h},s=c=>{e?t.push(c):mS(()=>{n(c)})},o=c=>(...h)=>{s(()=>{c(...h)})},a=()=>{const c=t;t=[],c.length&&mS(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const ut=E6();class Sb{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oy(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ku?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class T6 extends Sb{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||D_,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||S6(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=My(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!yb(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const o=y6(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const d=f=>{if(Ch(f)&&f.silent||this.dispatch({type:"error",error:f}),!Ch(f)){var m,v,w,g;(m=(v=this.cache.config).onError)==null||m.call(v,f,this),(w=(g=this.cache.config).onSettled)==null||w.call(g,this.state.data,f,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Tb({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:f=>{var m,v,w,g;if(typeof f>"u"){d(new Error(this.queryHash+" data is undefined"));return}this.setData(f),(m=(v=this.cache.config).onSuccess)==null||m.call(v,f,this),(w=(g=this.cache.config).onSettled)==null||w.call(g,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(f,m)=>{this.dispatch({type:"failed",failureCount:f,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:up(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Ch(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function S6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class I6 extends Va{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:b_(s,n);let a=this.get(o);return a||(a=new T6({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ut.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=yi(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>hS(r,i))}findAll(e,n){const[r]=yi(e,n);return Object.keys(r).length>0?this.queries.filter(i=>hS(r,i)):this.queries}notify(e){ut.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){ut.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ut.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class C6 extends Sb{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||D_,this.observers=[],this.state=e.state||Ib(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var P;return this.retryer=Tb({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(I,O)=>{this.dispatch({type:"failed",failureCount:I,error:O})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(P=this.options.retry)!=null?P:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,u,c;if(!n){var h,d,f,m;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(d=this.mutationCache.config).onMutate)==null?void 0:h.call(d,this.state.variables,this));const I=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,this.state.variables));I!==this.state.context&&this.dispatch({type:"loading",context:I,variables:this.state.variables})}const P=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,P,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,P,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,P,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,P,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:P}),P}catch(P){try{var v,w,g,p,_,y,T,A;throw await((v=(w=this.mutationCache.config).onError)==null?void 0:v.call(w,P,this.state.variables,this.state.context,this)),await((g=(p=this.options).onError)==null?void 0:g.call(p,P,this.state.variables,this.state.context)),await((_=(y=this.mutationCache.config).onSettled)==null?void 0:_.call(y,void 0,P,this.state.variables,this.state.context,this)),await((T=(A=this.options).onSettled)==null?void 0:T.call(A,void 0,P,this.state.variables,this.state.context)),P}finally{this.dispatch({type:"error",error:P})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!up(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),ut.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Ib(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class P6 extends Va{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new C6({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){ut.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>dS(e,n))}findAll(e){return this.mutations.filter(n=>dS(e,n))}notify(e){ut.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ut.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Fn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function A6(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",h=(l==null?void 0:l.direction)==="backward",d=((s=t.state.data)==null?void 0:s.pages)||[],f=((o=t.state.data)==null?void 0:o.pageParams)||[];let m=f,v=!1;const w=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>{var P;if((P=t.signal)!=null&&P.aborted)v=!0;else{var I;(I=t.signal)==null||I.addEventListener("abort",()=>{v=!0})}return t.signal}})},g=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),p=(A,P,I,O)=>(m=O?[P,...m]:[...m,P],O?[I,...A]:[...A,I]),_=(A,P,I,O)=>{if(v)return Promise.reject("Cancelled");if(typeof I>"u"&&!P&&A.length)return Promise.resolve(A);const U={queryKey:t.queryKey,pageParam:I,meta:t.options.meta};w(U);const oe=g(U);return Promise.resolve(oe).then(K=>p(A,I,K,O))};let y;if(!d.length)y=_([]);else if(c){const A=typeof u<"u",P=A?u:yS(t.options,d);y=_(d,A,P)}else if(h){const A=typeof u<"u",P=A?u:R6(t.options,d);y=_(d,A,P,!0)}else{m=[];const A=typeof t.options.getNextPageParam>"u";y=(a&&d[0]?a(d[0],0,d):!0)?_([],A,f[0]):Promise.resolve(p([],f[0],d[0]));for(let I=1;I<d.length;I++)y=y.then(O=>{if(a&&d[I]?a(d[I],I,d):!0){const oe=A?f[I]:yS(t.options,O);return _(O,A,oe)}return Promise.resolve(p(O,f[I],d[I]))})}return y.then(A=>({pages:A,pageParams:m}))}}}}function yS(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function R6(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class x6{constructor(e={}){this.queryCache=e.queryCache||new I6,this.mutationCache=e.mutationCache||new P6,this.logger=e.logger||D_,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Od.subscribe(()=>{Od.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Nd.subscribe(()=>{Nd.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=yi(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=yl(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=m6(n,s);if(typeof o>"u")return;const a=yl(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return ut.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=yi(e,n),i=this.queryCache;ut.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=yi(e,n,r),o=this.queryCache,a={type:"active",...i};return ut.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=yi(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=ut.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Fn).catch(Fn)}invalidateQueries(e,n,r){const[i,s]=yi(e,n,r);return ut.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=yi(e,n,r),o=ut.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...s,cancelRefetch:(u=s==null?void 0:s.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Fn);return s!=null&&s.throwOnError||(a=a.catch(Fn)),a}fetchQuery(e,n,r){const i=yl(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Fn).catch(Fn)}fetchInfiniteQuery(e,n,r){const i=yl(e,n,r);return i.behavior=A6(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Fn).catch(Fn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>As(e)===As(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>bd(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>As(e)===As(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>bd(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=b_(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class k6 extends Va{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),vS(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vy(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vy(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Dd(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&_S(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return D6(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Fn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),ku||this.currentResult.isStale||!Oy(this.options.staleTime))return;const n=yb(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ku||this.options.enabled===!1||!Oy(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Od.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:d,error:f,errorUpdatedAt:m,fetchStatus:v,status:w}=h,g=!1,p=!1,_;if(n._optimisticResults){const I=this.hasListeners(),O=!I&&vS(e,n),U=I&&_S(e,r,n,i);(O||U)&&(v=up(e.options.networkMode)?"fetching":"paused",d||(w="loading")),n._optimisticResults==="isRestoring"&&(v="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&c!=null&&c.isSuccess&&w!=="error")_=c.data,d=c.dataUpdatedAt,w=c.status,g=!0;else if(n.select&&typeof h.data<"u")if(s&&h.data===(o==null?void 0:o.data)&&n.select===this.selectFn)_=this.selectResult;else try{this.selectFn=n.select,_=n.select(h.data),_=My(s==null?void 0:s.data,_,n),this.selectResult=_,this.selectError=null}catch(I){this.selectError=I}else _=h.data;if(typeof n.placeholderData<"u"&&typeof _>"u"&&w==="loading"){let I;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))I=s.data;else if(I=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof I<"u")try{I=n.select(I),this.selectError=null}catch(O){this.selectError=O}typeof I<"u"&&(w="success",_=My(s==null?void 0:s.data,I,n),p=!0)}this.selectError&&(f=this.selectError,_=this.selectResult,m=Date.now(),w="error");const y=v==="fetching",T=w==="loading",A=w==="error";return{status:w,fetchStatus:v,isLoading:T,isSuccess:w==="success",isError:A,isInitialLoading:T&&y,data:_,dataUpdatedAt:d,error:f,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!T,isLoadingError:A&&h.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:p,isPreviousData:g,isRefetchError:A&&h.dataUpdatedAt!==0,isStale:O_(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Dd(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==n[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Ch(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){ut.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function b6(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function vS(t,e){return b6(t,e)||t.state.dataUpdatedAt>0&&Vy(t,e,e.refetchOnMount)}function Vy(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&O_(t,e)}return!1}function _S(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&O_(t,n)}function O_(t,e){return t.isStaleByTime(e.staleTime)}function D6(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Dd(t.getCurrentResult(),e)}let O6=class extends Va{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),Dd(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Ib(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){ut.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,u;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};var Cb={exports:{}},Pb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=E;function N6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M6=typeof Object.is=="function"?Object.is:N6,V6=wa.useState,L6=wa.useEffect,F6=wa.useLayoutEffect,$6=wa.useDebugValue;function j6(t,e){var n=e(),r=V6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return F6(function(){i.value=n,i.getSnapshot=e,bm(i)&&s({inst:i})},[t,n,e]),L6(function(){return bm(i)&&s({inst:i}),t(function(){bm(i)&&s({inst:i})})},[t]),$6(n),n}function bm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!M6(t,n)}catch{return!0}}function U6(t,e){return e()}var B6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U6:j6;Pb.useSyncExternalStore=wa.useSyncExternalStore!==void 0?wa.useSyncExternalStore:B6;Cb.exports=Pb;var z6=Cb.exports;const Ab=z6.useSyncExternalStore,wS=E.createContext(void 0),Rb=E.createContext(!1);function xb(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=wS),window.ReactQueryClientContext):wS)}const La=({context:t}={})=>{const e=E.useContext(xb(t,E.useContext(Rb)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},H6=({client:t,children:e,context:n,contextSharing:r=!1})=>{E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=xb(n,r);return E.createElement(Rb.Provider,{value:!n&&r},E.createElement(i.Provider,{value:t},e))},kb=E.createContext(!1),q6=()=>E.useContext(kb);kb.Provider;function W6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const K6=E.createContext(W6()),G6=()=>E.useContext(K6);function bb(t,e){return typeof t=="function"?t(...e):!!t}const Q6=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Y6=t=>{E.useEffect(()=>{t.clearReset()},[t])},X6=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&bb(n,[t.error,r]),J6=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Z6=(t,e)=>t.isLoading&&t.isFetching&&!e,ez=(t,e,n)=>(t==null?void 0:t.suspense)&&Z6(e,n),tz=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function nz(t,e){const n=La({context:t.context}),r=q6(),i=G6(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=ut.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=ut.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=ut.batchCalls(s.onSettled)),J6(s),Q6(s,i),Y6(i);const[o]=E.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(Ab(E.useCallback(l=>{const u=r?()=>{}:o.subscribe(ut.batchCalls(l));return o.updateResult(),u},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),E.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),ez(s,a,r))throw tz(s,o,i);if(X6({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function Db(t,e,n){const r=yl(t,e,n);return nz(r,k6)}function cp(t,e,n){const r=g6(t,e,n),i=La({context:r.context}),[s]=E.useState(()=>new O6(i,r));E.useEffect(()=>{s.setOptions(r)},[s,r]);const o=Ab(E.useCallback(l=>s.subscribe(ut.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=E.useCallback((l,u)=>{s.mutate(l,u).catch(rz)},[s]);if(o.error&&bb(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function rz(){}const Ob=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),hp=E.createContext({}),dp=E.createContext(null),fp=typeof document<"u",N_=fp?E.useLayoutEffect:E.useEffect,Nb=E.createContext({strict:!1});function iz(t,e,n,r){const{visualElement:i}=E.useContext(hp),s=E.useContext(Nb),o=E.useContext(dp),a=E.useContext(Ob).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const c=E.useRef(!!window.HandoffAppearAnimations);return N_(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function Lo(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sz(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Lo(n)&&(n.current=r))},[e])}function bu(t){return typeof t=="string"||Array.isArray(t)}function pp(t){return typeof t=="object"&&typeof t.start=="function"}const M_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V_=["initial",...M_];function mp(t){return pp(t.animate)||V_.some(e=>bu(t[e]))}function Mb(t){return!!(mp(t)||t.variants)}function oz(t,e){if(mp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bu(n)?n:void 0,animate:bu(r)?r:void 0}}return t.inherit!==!1?e:{}}function az(t){const{initial:e,animate:n}=oz(t,E.useContext(hp));return E.useMemo(()=>({initial:e,animate:n}),[ES(e),ES(n)])}function ES(t){return Array.isArray(t)?t.join(" "):t}const TS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Du={};for(const t in TS)Du[t]={isEnabled:e=>TS[t].some(n=>!!e[n])};function lz(t){for(const e in t)Du[e]={...Du[e],...t[e]}}const L_=E.createContext({}),Vb=E.createContext({}),uz=Symbol.for("motionComponentSymbol");function cz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&lz(t);function s(a,l){let u;const c={...E.useContext(Ob),...a,layoutId:hz(a)},{isStatic:h}=c,d=az(a),f=r(a,h);if(!h&&fp){d.visualElement=iz(i,f,c,e);const m=E.useContext(Vb),v=E.useContext(Nb).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,v,t,m))}return E.createElement(hp.Provider,{value:d},u&&d.visualElement?E.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,sz(f,d.visualElement,l),f,h,d.visualElement))}const o=E.forwardRef(s);return o[uz]=i,o}function hz({layoutId:t}){const e=E.useContext(L_).id;return e&&t!==void 0?e+"-"+t:t}function dz(t){function e(r,i={}){return cz(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const fz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F_(t){return typeof t!="string"||t.includes("-")?!1:!!(fz.indexOf(t)>-1||/[A-Z]/.test(t))}const Md={};function pz(t){Object.assign(Md,t)}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=new Set(lc);function Lb(t,{layout:e,layoutId:n}){return ao.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Md[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),mz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gz=lc.length;function yz(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<gz;o++){const a=lc[o];if(t[a]!==void 0){const l=mz[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Fb=t=>e=>typeof e=="string"&&e.startsWith(t),$b=Fb("--"),Ly=Fb("var(--"),vz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,_z=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Xi=(t,e,n)=>Math.min(Math.max(n,t),e),lo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},jl={...lo,transform:t=>Xi(0,1,t)},Jc={...lo,default:1},Ul=t=>Math.round(t*1e5)/1e5,gp=/(-)?([\d]*\.?[\d])+/g,jb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uc(t){return typeof t=="string"}const cc=t=>({test:e=>uc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pi=cc("deg"),Pr=cc("%"),ye=cc("px"),Ez=cc("vh"),Tz=cc("vw"),SS={...Pr,parse:t=>Pr.parse(t)/100,transform:t=>Pr.transform(t*100)},IS={...lo,transform:Math.round},Ub={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,size:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:Jc,scaleX:Jc,scaleY:Jc,scaleZ:Jc,skew:pi,skewX:pi,skewY:pi,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:jl,originX:SS,originY:SS,originZ:ye,zIndex:IS,fillOpacity:jl,strokeOpacity:jl,numOctaves:IS};function $_(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const d=e[h];if($b(h)){s[h]=d;continue}const f=Ub[h],m=_z(d,f);if(ao.has(h)){if(l=!0,o[h]=m,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}if(e.transform||(l||r?i.transform=yz(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=a;i.transformOrigin=`${h} ${d} ${f}`}}const j_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bb(t,e,n){for(const r in e)!Sn(e[r])&&!Lb(r,n)&&(t[r]=e[r])}function Sz({transformTemplate:t},e,n){return E.useMemo(()=>{const r=j_();return $_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Iz(t,e,n){const r=t.style||{},i={};return Bb(i,r,t),Object.assign(i,Sz(t,e,n)),t.transformValues?t.transformValues(i):i}function Cz(t,e,n){const r={},i=Iz(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Pz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Vd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Pz.has(t)}let zb=t=>!Vd(t);function Az(t){t&&(zb=e=>e.startsWith("on")?!Vd(e):t(e))}try{Az(require("@emotion/is-prop-valid").default)}catch{}function Rz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(zb(i)||n===!0&&Vd(i)||!e&&!Vd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function CS(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function xz(t,e,n){const r=CS(e,t.x,t.width),i=CS(n,t.y,t.height);return`${r} ${i}`}const kz={offset:"stroke-dashoffset",array:"stroke-dasharray"},bz={offset:"strokeDashoffset",array:"strokeDasharray"};function Dz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?kz:bz;t[s.offset]=ye.transform(-r);const o=ye.transform(e),a=ye.transform(n);t[s.array]=`${o} ${a}`}function U_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,d){if($_(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:v}=t;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=xz(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&Dz(f,o,a,l,!1)}const Hb=()=>({...j_(),attrs:{}}),B_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Oz(t,e,n,r){const i=E.useMemo(()=>{const s=Hb();return U_(s,e,{enableHardwareAcceleration:!1},B_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Bb(s,t.style,t),i.style={...s,...i.style}}return i}function Nz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(F_(n)?Oz:Cz)(r,s,o,n),c={...Rz(r,typeof n=="string",t),...l,ref:i},{children:h}=r,d=E.useMemo(()=>Sn(h)?h.get():h,[h]);return E.createElement(n,{...c,children:d})}}const z_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function qb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Wb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kb(t,e,n,r){qb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Wb.has(i)?i:z_(i),e.attrs[i])}function H_(t,e){const{style:n}=t,r={};for(const i in n)(Sn(n[i])||e.style&&Sn(e.style[i])||Lb(i,t))&&(r[i]=n[i]);return r}function Gb(t,e){const n=H_(t,e);for(const r in t)if(Sn(t[r])||Sn(e[r])){const i=lc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function q_(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Qb(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ld=t=>Array.isArray(t),Mz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Vz=t=>Ld(t)?t[t.length-1]||0:t;function Ph(t){const e=Sn(t)?t.get():t;return Mz(e)?e.toValue():e}function Lz({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Fz(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Yb=t=>(e,n)=>{const r=E.useContext(hp),i=E.useContext(dp),s=()=>Lz(t,e,r,i);return n?s():Qb(s)};function Fz(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Ph(s[d]);let{initial:o,animate:a}=t;const l=mp(t),u=Mb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!pp(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const m=q_(t,f);if(!m)return;const{transitionEnd:v,transition:w,...g}=m;for(const p in g){let _=g[p];if(Array.isArray(_)){const y=c?_.length-1:0;_=_[y]}_!==null&&(i[p]=_)}for(const p in v)i[p]=v[p]}),i}const ct=t=>t;class PS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function $z(t){let e=new PS,n=new PS,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?e:n;return u&&o.add(l),d.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Zc=["prepare","read","update","preRender","render","postRender"],jz=40;function Uz(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Zc.reduce((h,d)=>(h[d]=$z(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,jz),1),i.timestamp=h,i.isProcessing=!0,Zc.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Zc.reduce((h,d)=>{const f=s[d];return h[d]=(m,v=!1,w=!1)=>(n||l(),f.schedule(m,v,w)),h},{}),cancel:h=>Zc.forEach(d=>s[d].cancel(h)),state:i,steps:s}}const{schedule:Ke,cancel:si,state:Qt,steps:Dm}=Uz(typeof requestAnimationFrame<"u"?requestAnimationFrame:ct,!0),Bz={useVisualState:Yb({scrapeMotionValuesFromProps:Gb,createRenderState:Hb,onMount:(t,e,{renderState:n,latestValues:r})=>{Ke.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ke.render(()=>{U_(n,r,{enableHardwareAcceleration:!1},B_(e.tagName),t.transformTemplate),Kb(e,n)})}})},zz={useVisualState:Yb({scrapeMotionValuesFromProps:H_,createRenderState:j_})};function Hz(t,{forwardMotionProps:e=!1},n,r){return{...F_(t)?Bz:zz,preloadedFeatures:n,useRender:Nz(e),createVisualElement:r,Component:t}}function Hr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Xb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function yp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const qz=t=>e=>Xb(e)&&t(e,yp(e));function Gr(t,e,n,r){return Hr(t,e,qz(n),r)}const Wz=(t,e)=>n=>e(t(n)),Hi=(...t)=>t.reduce(Wz);function Jb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const AS=Jb("dragHorizontal"),RS=Jb("dragVertical");function Zb(t){let e=!1;if(t==="y")e=RS();else if(t==="x")e=AS();else{const n=AS(),r=RS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function eD(){const t=Zb(!0);return t?(t(),!1):!0}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||eD())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ke.update(()=>a[r](s,o))};return Gr(t.current,n,i,{passive:!t.getProps()[r]})}class Kz extends as{mount(){this.unmount=Hi(xS(this.node,!0),xS(this.node,!1))}unmount(){}}class Gz extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hi(Hr(this.node.current,"focus",()=>this.onFocus()),Hr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tD=(t,e)=>e?t===e?!0:tD(t,e.parentElement):!1;function Om(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,yp(n))}class Qz extends as{constructor(){super(...arguments),this.removeStartListeners=ct,this.removeEndListeners=ct,this.removeAccessibleListeners=ct,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Gr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Ke.update(()=>{tD(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Gr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Hi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Om("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ke.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Hr(this.node.current,"keyup",o),Om("down",(a,l)=>{this.startPress(a,l)})},n=Hr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Om("cancel",(s,o)=>this.cancelPress(s,o))},i=Hr(this.node.current,"blur",r);this.removeAccessibleListeners=Hi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ke.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eD()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ke.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Gr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Hr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fy=new WeakMap,Nm=new WeakMap,Yz=t=>{const e=Fy.get(t.target);e&&e(t)},Xz=t=>{t.forEach(Yz)};function Jz({root:t,...e}){const n=t||document;Nm.has(n)||Nm.set(n,{});const r=Nm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Xz,{root:t,...e})),r[i]}function Zz(t,e,n){const r=Jz(e);return Fy.set(t,n),r.observe(t),()=>{Fy.delete(t),r.unobserve(t)}}const e8={some:0,all:1};class t8 extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:e8[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return Zz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n8(e,n))&&this.startObserver()}unmount(){}}function n8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r8={inView:{Feature:t8},tap:{Feature:Qz},focus:{Feature:Gz},hover:{Feature:Kz}};function nD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function i8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function s8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function vp(t,e,n){const r=t.getProps();return q_(r,e,n!==void 0?n:r.custom,i8(t),s8(t))}const o8="framerAppearId",a8="data-"+z_(o8);let l8=ct,W_=ct;const qi=t=>t*1e3,Qr=t=>t/1e3,u8={current:!1},rD=t=>Array.isArray(t)&&typeof t[0]=="number";function iD(t){return!!(!t||typeof t=="string"&&sD[t]||rD(t)||Array.isArray(t)&&t.every(iD))}const vl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,sD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vl([0,.65,.55,1]),circOut:vl([.55,0,1,.45]),backIn:vl([.31,.01,.66,-.59]),backOut:vl([.33,1.53,.69,.99])};function oD(t){if(t)return rD(t)?vl(t):Array.isArray(t)?t.map(oD):sD[t]}function c8(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=oD(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function h8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const aD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d8=1e-7,f8=12;function p8(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=aD(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>d8&&++a<f8);return o}function hc(t,e,n,r){if(t===e&&n===r)return ct;const i=s=>p8(s,0,1,t,n);return s=>s===0||s===1?s:aD(i(s),e,r)}const m8=hc(.42,0,1,1),g8=hc(0,0,.58,1),lD=hc(.42,0,.58,1),y8=t=>Array.isArray(t)&&typeof t[0]!="number",uD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cD=t=>e=>1-t(1-e),hD=t=>1-Math.sin(Math.acos(t)),K_=cD(hD),v8=uD(K_),dD=hc(.33,1.53,.69,.99),G_=cD(dD),_8=uD(G_),w8=t=>(t*=2)<1?.5*G_(t):.5*(2-Math.pow(2,-10*(t-1))),E8={linear:ct,easeIn:m8,easeInOut:lD,easeOut:g8,circIn:hD,circInOut:v8,circOut:K_,backIn:G_,backInOut:_8,backOut:dD,anticipate:w8},kS=t=>{if(Array.isArray(t)){W_(t.length===4);const[e,n,r,i]=t;return hc(e,n,r,i)}else if(typeof t=="string")return E8[t];return t},Q_=(t,e)=>n=>!!(uc(n)&&wz.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),fD=(t,e,n)=>r=>{if(!uc(r))return r;const[i,s,o,a]=r.match(gp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},T8=t=>Xi(0,255,t),Mm={...lo,transform:t=>Math.round(T8(t))},Rs={test:Q_("rgb","red"),parse:fD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mm.transform(t)+", "+Mm.transform(e)+", "+Mm.transform(n)+", "+Ul(jl.transform(r))+")"};function S8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $y={test:Q_("#"),parse:S8,transform:Rs.transform},Fo={test:Q_("hsl","hue"),parse:fD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pr.transform(Ul(e))+", "+Pr.transform(Ul(n))+", "+Ul(jl.transform(r))+")"},ln={test:t=>Rs.test(t)||$y.test(t)||Fo.test(t),parse:t=>Rs.test(t)?Rs.parse(t):Fo.test(t)?Fo.parse(t):$y.parse(t),transform:t=>uc(t)?t:t.hasOwnProperty("red")?Rs.transform(t):Fo.transform(t)},it=(t,e,n)=>-n*t+n*e+t;function Vm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function I8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Vm(l,a,t+1/3),s=Vm(l,a,t),o=Vm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Lm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},C8=[$y,Rs,Fo],P8=t=>C8.find(e=>e.test(t));function bS(t){const e=P8(t);let n=e.parse(t);return e===Fo&&(n=I8(n)),n}const pD=(t,e)=>{const n=bS(t),r=bS(e),i={...n};return s=>(i.red=Lm(n.red,r.red,s),i.green=Lm(n.green,r.green,s),i.blue=Lm(n.blue,r.blue,s),i.alpha=it(n.alpha,r.alpha,s),Rs.transform(i))};function A8(t){var e,n;return isNaN(t)&&uc(t)&&(((e=t.match(gp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(jb))===null||n===void 0?void 0:n.length)||0)>0}const mD={regex:vz,countKey:"Vars",token:"${v}",parse:ct},gD={regex:jb,countKey:"Colors",token:"${c}",parse:ln.parse},yD={regex:gp,countKey:"Numbers",token:"${n}",parse:lo.parse};function Fm(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Fd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fm(n,mD),Fm(n,gD),Fm(n,yD),n}function vD(t){return Fd(t).values}function _D(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Fd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(mD.token,o[l]):l<r+n?a=a.replace(gD.token,ln.transform(o[l])):a=a.replace(yD.token,Ul(o[l]));return a}}const R8=t=>typeof t=="number"?0:t;function x8(t){const e=vD(t);return _D(t)(e.map(R8))}const Ji={test:A8,parse:vD,createTransformer:_D,getAnimatableNone:x8},wD=(t,e)=>n=>`${n>0?e:t}`;function ED(t,e){return typeof t=="number"?n=>it(t,e,n):ln.test(t)?pD(t,e):t.startsWith("var(")?wD(t,e):SD(t,e)}const TD=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>ED(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},k8=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ED(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},SD=(t,e)=>{const n=Ji.createTransformer(e),r=Fd(t),i=Fd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Hi(TD(r.values,i.values),n):wD(t,e)},Ou=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},DS=(t,e)=>n=>it(t,e,n);function b8(t){return typeof t=="number"?DS:typeof t=="string"?ln.test(t)?pD:SD:Array.isArray(t)?TD:typeof t=="object"?k8:DS}function D8(t,e,n){const r=[],i=n||b8(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ct:e;a=Hi(l,a)}r.push(a)}return r}function ID(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(W_(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=D8(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Ou(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Xi(t[0],t[s-1],u)):l}function O8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ou(0,e,r);t.push(it(n,1,i))}}function N8(t){const e=[0];return O8(e,t.length-1),e}function M8(t,e){return t.map(n=>n*e)}function V8(t,e){return t.map(()=>e||lD).splice(0,t.length-1)}function $d({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=y8(r)?r.map(kS):kS(r),s={done:!1,value:e[0]},o=M8(n&&n.length===e.length?n:N8(e),t),a=ID(o,e,{ease:Array.isArray(i)?i:V8(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function CD(t,e){return e?t*(1e3/e):0}const L8=5;function PD(t,e,n){const r=Math.max(e-L8,0);return CD(n-t(r),e-r)}const $m=.001,F8=.01,OS=10,$8=.05,j8=1;function U8({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;l8(t<=qi(OS));let o=1-e;o=Xi($8,j8,o),t=Xi(F8,OS,Qr(t)),o<1?(i=u=>{const c=u*o,h=c*t,d=c-n,f=jy(u,o),m=Math.exp(-h);return $m-d/f*m},s=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),v=jy(Math.pow(u,2),o);return(-i(u)+$m>0?-1:1)*((d-f)*m)/v}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-$m+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=z8(i,s,a);if(t=qi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const B8=12;function z8(t,e,n){let r=n;for(let i=1;i<B8;i++)r=r-t(r)/e(r);return r}function jy(t,e){return t*Math.sqrt(1-e*e)}const H8=["duration","bounce"],q8=["stiffness","damping","mass"];function NS(t,e){return e.some(n=>t[n]!==void 0)}function W8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!NS(t,q8)&&NS(t,H8)){const n=U8(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function AD({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=W8(r),f=c?-Qr(c):0,m=l/(2*Math.sqrt(a*u)),v=s-i,w=Qr(Math.sqrt(a/u)),g=Math.abs(v)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let p;if(m<1){const _=jy(w,m);p=y=>{const T=Math.exp(-m*w*y);return s-T*((f+m*w*v)/_*Math.sin(_*y)+v*Math.cos(_*y))}}else if(m===1)p=_=>s-Math.exp(-w*_)*(v+(f+w*v)*_);else{const _=w*Math.sqrt(m*m-1);p=y=>{const T=Math.exp(-m*w*y),A=Math.min(_*y,300);return s-T*((f+m*w*v)*Math.sinh(A)+_*v*Math.cosh(A))/_}}return{calculatedDuration:d&&h||null,next:_=>{const y=p(_);if(d)o.done=_>=h;else{let T=f;_!==0&&(m<1?T=PD(p,_,y):T=0);const A=Math.abs(T)<=n,P=Math.abs(s-y)<=e;o.done=A&&P}return o.value=o.done?s:y,o}}}function MS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=I=>a!==void 0&&I<a||l!==void 0&&I>l,m=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let v=n*e;const w=h+v,g=o===void 0?w:o(w);g!==w&&(v=g-h);const p=I=>-v*Math.exp(-I/r),_=I=>g+p(I),y=I=>{const O=p(I),U=_(I);d.done=Math.abs(O)<=u,d.value=d.done?g:U};let T,A;const P=I=>{f(d.value)&&(T=I,A=AD({keyframes:[d.value,m(d.value)],velocity:PD(_,I,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return P(0),{calculatedDuration:null,next:I=>{let O=!1;return!A&&T===void 0&&(O=!0,y(I),P(I)),T!==void 0&&I>T?A.next(I-T):(!O&&y(I),d)}}}const K8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ke.update(e,!0),stop:()=>si(e),now:()=>Qt.isProcessing?Qt.timestamp:performance.now()}},VS=2e4;function LS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<VS;)e+=n,r=t.next(e);return e>=VS?1/0:e}const G8={decay:MS,inertia:MS,tween:$d,keyframes:$d,spring:AD};function jd({autoplay:t=!0,delay:e=0,driver:n=K8,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let f=1,m=!1,v,w;const g=()=>{w=new Promise(le=>{v=le})};g();let p;const _=G8[i]||$d;let y;_!==$d&&typeof r[0]!="number"&&(y=ID([0,100],r,{clamp:!1}),r=[0,100]);const T=_({...d,keyframes:r});let A;a==="mirror"&&(A=_({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let P="idle",I=null,O=null,U=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=LS(T));const{calculatedDuration:oe}=T;let F=1/0,K=1/0;oe!==null&&(F=oe+o,K=F*(s+1)-o);let Y=0;const ee=le=>{if(O===null)return;f>0&&(O=Math.min(O,le)),f<0&&(O=Math.min(le-K/f,O)),I!==null?Y=I:Y=Math.round(le-O)*f;const H=Y-e*(f>=0?1:-1),G=f>=0?H<0:H>K;Y=Math.max(H,0),P==="finished"&&I===null&&(Y=K);let B=Y,ue=T;if(s){const Le=Y/F;let xe=Math.floor(Le),Ae=Le%1;!Ae&&Le>=1&&(Ae=1),Ae===1&&xe--,xe=Math.min(xe,s+1);const ge=!!(xe%2);ge&&(a==="reverse"?(Ae=1-Ae,o&&(Ae-=o/F)):a==="mirror"&&(ue=A));let Ge=Xi(0,1,Ae);Y>K&&(Ge=a==="reverse"&&ge?1:0),B=Ge*F}const R=G?{done:!1,value:r[0]}:ue.next(B);y&&(R.value=y(R.value));let{done:Ce}=R;!G&&oe!==null&&(Ce=f>=0?Y>=K:Y<=0);const z=I===null&&(P==="finished"||P==="running"&&Ce);return h&&h(R.value),z&&N(),R},he=()=>{p&&p.stop(),p=void 0},fe=()=>{P="idle",he(),v(),g(),O=U=null},N=()=>{P="finished",c&&c(),he(),v()},X=()=>{if(m)return;p||(p=n(ee));const le=p.now();l&&l(),I!==null?O=le-I:(!O||P==="finished")&&(O=le),P==="finished"&&g(),U=O,I=null,P="running",p.start()};t&&X();const se={then(le,H){return w.then(le,H)},get time(){return Qr(Y)},set time(le){le=qi(le),Y=le,I!==null||!p||f===0?I=le:O=p.now()-le/f},get duration(){const le=T.calculatedDuration===null?LS(T):T.calculatedDuration;return Qr(le)},get speed(){return f},set speed(le){le===f||!p||(f=le,se.time=Qr(Y))},get state(){return P},play:X,pause:()=>{P="paused",I=Y},stop:()=>{m=!0,P!=="idle"&&(P="idle",u&&u(),fe())},cancel:()=>{U!==null&&ee(U),fe()},complete:()=>{P="finished"},sample:le=>(O=0,ee(le))};return se}function Q8(t){let e;return()=>(e===void 0&&(e=t()),e)}const Y8=Q8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),X8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),eh=10,J8=2e4,Z8=(t,e)=>e.type==="spring"||t==="backgroundColor"||!iD(e.ease);function e7(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Y8()&&X8.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(p=>{a=p})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=i;if(Z8(e,i)){const p=jd({...i,repeat:0,delay:0});let _={done:!1,value:c[0]};const y=[];let T=0;for(;!_.done&&T<J8;)_=p.sample(T),y.push(_.value),T+=eh;f=void 0,c=y,h=T-eh,d="linear"}const m=c8(t.owner.current,e,c,{...i,duration:h,ease:d,times:f}),v=()=>m.cancel(),w=()=>{Ke.update(v),a(),u()};return m.onfinish=()=>{t.set(h8(c,i)),r&&r(),w()},{then(p,_){return l.then(p,_)},attachTimeline(p){return m.timeline=p,m.onfinish=null,ct},get time(){return Qr(m.currentTime||0)},set time(p){m.currentTime=qi(p)},get speed(){return m.playbackRate},set speed(p){m.playbackRate=p},get duration(){return Qr(h)},play:()=>{o||(m.play(),si(v))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:p}=m;if(p){const _=jd({...i,autoplay:!1});t.setWithVelocity(_.sample(p-eh).value,_.sample(p).value,eh)}w()},complete:()=>m.finish(),cancel:w}}function t7({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ct,pause:ct,stop:ct,then:s=>(s(),Promise.resolve()),cancel:ct,complete:ct});return e?jd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const n7={type:"spring",stiffness:500,damping:25,restSpeed:10},r7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i7={type:"keyframes",duration:.8},s7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o7=(t,{keyframes:e})=>e.length>2?i7:ao.has(t)?t.startsWith("scale")?r7(e[1]):n7:s7,Uy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ji.test(e)||e==="0")&&!e.startsWith("url(")),a7=new Set(["brightness","contrast","saturate","opacity"]);function l7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gp)||[];if(!r)return t;const i=n.replace(r,"");let s=a7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const u7=/([a-z-]*)\(.*?\)/g,By={...Ji,getAnimatableNone:t=>{const e=t.match(u7);return e?e.map(l7).join(" "):t}},c7={...Ub,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:By,WebkitFilter:By},Y_=t=>c7[t];function RD(t,e){let n=Y_(t);return n!==By&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xD=t=>/^0[^.\s]+$/.test(t);function h7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||xD(t)}function d7(t,e,n,r){const i=Uy(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),h7(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=RD(e,a)}return s}function f7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function kD(t,e){return t[e]||t.default||t}const X_=(t,e,n,r={})=>i=>{const s=kD(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-qi(o);const l=d7(e,t,n,s),u=l[0],c=l[l.length-1],h=Uy(t,u),d=Uy(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(f7(s)||(f={...f,...o7(t,f)}),f.duration&&(f.duration=qi(f.duration)),f.repeatDelay&&(f.repeatDelay=qi(f.repeatDelay)),!h||!d||u8.current||s.type===!1)return t7(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=e7(e,t,f);if(m)return m}return jd(f)};function Ud(t){return!!(Sn(t)&&t.add)}const bD=t=>/^\-?\d*\.?\d+$/.test(t);function J_(t,e){t.indexOf(e)===-1&&t.push(e)}function Z_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ew{constructor(){this.subscriptions=[]}add(e){return J_(this.subscriptions,e),()=>Z_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const p7=t=>!isNaN(parseFloat(t));class m7{constructor(e,n={}){this.version="10.16.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Qt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=p7(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ew);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?CD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(t,e){return new m7(t,e)}const DD=t=>e=>e.test(t),g7={test:t=>t==="auto",parse:t=>t},OD=[lo,ye,Pr,pi,Tz,Ez,g7],nl=t=>OD.find(DD(t)),y7=[...OD,ln,Ji],v7=t=>y7.find(DD(t));function _7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ea(n))}function w7(t,e){const n=vp(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Vz(s[o]);_7(t,o,a)}}function E7(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(bD(c)||xD(c))?c=parseFloat(c):!v7(c)&&Ji.test(u)&&(c=RD(l,u)),t.addValue(l,Ea(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function T7(t,e){return e?(e[t]||e.default||e).from:void 0}function S7(t,e,n){const r={};for(const i in t){const s=T7(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function I7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ND(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h),f=a[h];if(!d||f===void 0||c&&I7(c,h))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const w=t.getProps()[a8];w&&(m.elapsed=window.HandoffAppearAnimations(w,h,d,Ke))}d.start(X_(h,d,f,t.shouldReduceMotion&&ao.has(h)?{type:!1}:m));const v=d.animation;Ud(l)&&(l.add(h),v.then(()=>l.remove(h))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&w7(t,o)}),u}function zy(t,e,n={}){const r=vp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(ND(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return C7(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function C7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(P7).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(zy(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function P7(t,e){return t.sortNodePosition(e)}function A7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>zy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=zy(t,e,n);else{const i=typeof e=="function"?vp(t,e,n.custom):e;r=Promise.all(ND(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const R7=[...M_].reverse(),x7=M_.length;function k7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>A7(t,n,r)))}function b7(t){let e=k7(t);const n=O7();let r=!0;const i=(l,u)=>{const c=vp(t,u);if(c){const{transition:h,transitionEnd:d,...f}=c;l={...l,...f,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let m={},v=1/0;for(let g=0;g<x7;g++){const p=R7[g],_=n[p],y=c[p]!==void 0?c[p]:h[p],T=bu(y),A=p===u?_.isActive:null;A===!1&&(v=g);let P=y===h[p]&&y!==c[p]&&T;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),_.protectedKeys={...m},!_.isActive&&A===null||!y&&!_.prevProp||pp(y)||typeof y=="boolean")continue;const I=D7(_.prevProp,y);let O=I||p===u&&_.isActive&&!P&&T||g>v&&T;const U=Array.isArray(y)?y:[y];let oe=U.reduce(i,{});A===!1&&(oe={});const{prevResolvedValues:F={}}=_,K={...F,...oe},Y=ee=>{O=!0,f.delete(ee),_.needsAnimating[ee]=!0};for(const ee in K){const he=oe[ee],fe=F[ee];m.hasOwnProperty(ee)||(he!==fe?Ld(he)&&Ld(fe)?!nD(he,fe)||I?Y(ee):_.protectedKeys[ee]=!0:he!==void 0?Y(ee):f.add(ee):he!==void 0&&f.has(ee)?Y(ee):_.protectedKeys[ee]=!0)}_.prevProp=y,_.prevResolvedValues=oe,_.isActive&&(m={...m,...oe}),r&&t.blockInitialAnimation&&(O=!1),O&&!P&&d.push(...U.map(ee=>({animation:ee,options:{type:p,...l}})))}if(f.size){const g={};f.forEach(p=>{const _=t.getBaseTarget(p);_!==void 0&&(g[p]=_)}),d.push({animation:g})}let w=!!d.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function D7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nD(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O7(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}class N7 extends as{constructor(e){super(e),e.animationState||(e.animationState=b7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),pp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let M7=0;class V7 extends as{constructor(){super(...arguments),this.id=M7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const L7={animation:{Feature:N7},exit:{Feature:V7}},FS=(t,e)=>Math.abs(t-e);function F7(t,e){const n=FS(t.x,e.x),r=FS(t.y,e.y);return Math.sqrt(n**2+r**2)}class MD{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Um(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=F7(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=Qt;this.history.push({...d,timestamp:f});const{onStart:m,onMove:v}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=jm(c,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=Um(u.type==="pointercancel"?this.lastMoveEventInfo:jm(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!Xb(e))return;this.handlers=n,this.transformPagePoint=r;const i=yp(e),s=jm(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Qt;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Um(s,this.history)),this.removeListeners=Hi(Gr(window,"pointermove",this.handlePointerMove),Gr(window,"pointerup",this.handlePointerUp),Gr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),si(this.updatePoint)}}function jm(t,e){return e?{point:e(t.point)}:t}function $S(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Um({point:t},e){return{point:t,delta:$S(t,VD(e)),offset:$S(t,$7(e)),velocity:j7(e,.1)}}function $7(t){return t[0]}function VD(t){return t[t.length-1]}function j7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=VD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>qi(e)));)n--;if(!r)return{x:0,y:0};const s=Qr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Dn(t){return t.max-t.min}function Hy(t,e=0,n=.01){return Math.abs(t-e)<=n}function jS(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),(Hy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(Hy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Bl(t,e,n,r){jS(t.x,e.x,n.x,r?r.originX:void 0),jS(t.y,e.y,n.y,r?r.originY:void 0)}function US(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function U7(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function BS(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function zl(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function B7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function zS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function z7(t,{top:e,left:n,bottom:r,right:i}){return{x:zS(t.x,n,i),y:zS(t.y,e,r)}}function HS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function H7(t,e){return{x:HS(t.x,e.x),y:HS(t.y,e.y)}}function q7(t,e){let n=.5;const r=Dn(t),i=Dn(e);return i>r?n=Ou(e.min,e.max-r,t.min):r>i&&(n=Ou(t.min,t.max-i,e.min)),Xi(0,1,n)}function W7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qy=.35;function K7(t=qy){return t===!1?t=0:t===!0&&(t=qy),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:WS(t,e),max:WS(t,n)}}function WS(t,e){return typeof t=="number"?t:t[e]||0}const KS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:KS(),y:KS()}),GS=()=>({min:0,max:0}),vt=()=>({x:GS(),y:GS()});function pr(t){return[t("x"),t("y")]}function LD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function G7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bm(t){return t===void 0||t===1}function Wy({scale:t,scaleX:e,scaleY:n}){return!Bm(t)||!Bm(e)||!Bm(n)}function gs(t){return Wy(t)||FD(t)||t.z||t.rotate||t.rotateX||t.rotateY}function FD(t){return QS(t.x)||QS(t.y)}function QS(t){return t&&t!=="0%"}function Bd(t,e,n){const r=t-n,i=e*r;return n+i}function YS(t,e,n,r,i){return i!==void 0&&(t=Bd(t,i,r)),Bd(t,n,r)+e}function Ky(t,e=0,n=1,r,i){t.min=YS(t.min,e,n,r,i),t.max=YS(t.max,e,n,r,i)}function $D(t,{x:e,y:n}){Ky(t.x,e.translate,e.scale,e.originPoint),Ky(t.y,n.translate,n.scale,n.originPoint)}function Y7(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$D(t,o)),r&&gs(s.latestValues)&&jo(t,s.latestValues))}e.x=XS(e.x),e.y=XS(e.y)}function XS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function vi(t,e){t.min=t.min+e,t.max=t.max+e}function JS(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=it(t.min,t.max,s);Ky(t,e[n],e[r],o,e.scale)}const X7=["x","scaleX","originX"],J7=["y","scaleY","originY"];function jo(t,e){JS(t.x,e,X7),JS(t.y,e,J7)}function jD(t,e){return LD(Q7(t.getBoundingClientRect(),e))}function Z7(t,e,n){const r=jD(t,n),{scroll:i}=e;return i&&(vi(r.x,i.offset.x),vi(r.y,i.offset.y)),r}const eH=new WeakMap;class tH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(yp(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zb(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(m=>{let v=this.getAxisMotionValue(m).get()||0;if(Pr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const g=w.layout.layoutBox[m];g&&(v=Dn(g)*(parseFloat(v)/100))}}this.originPoint[m]=v}),d&&Ke.update(()=>d(l,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(h&&this.currentDirection===null){this.currentDirection=nH(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new MD(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ke.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!th(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=B7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=z7(r.layoutBox,e):this.constraints=!1,this.elastic=K7(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=W7(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Z7(r,i.root,this.visualElement.getTransformPagePoint());let o=H7(i.layout.layoutBox,s);if(n){const a=n(G7(o));this.hasMutatedConstraints=!!a,a&&(o=LD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=pr(c=>{if(!th(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(X_(e,r,0,n))}stopAnimation(){pr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pr(n=>{const{drag:r}=this.getProps();if(!th(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-it(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=q7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pr(o=>{if(!th(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(it(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;eH.set(this.visualElement,this);const e=this.visualElement.current,n=Gr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Lo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Hr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(pr(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=qy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function th(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rH extends as{constructor(e){super(e),this.removeGroupControls=ct,this.removeListeners=ct,this.controls=new tH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZS=t=>(e,n)=>{t&&Ke.update(()=>t(e,n))};class iH extends as{constructor(){super(...arguments),this.removePointerDownListener=ct}onPointerDown(e){this.session=new MD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ZS(e),onStart:ZS(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ke.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function sH(){const t=E.useContext(dp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=eI(t,e.target.x),r=eI(t,e.target.y);return`${n}% ${r}%`}},oH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ji.parse(t);if(i.length>5)return r;const s=Ji.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=it(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class aH extends me.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;pz(lH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UD(t){const[e,n]=sH(),r=E.useContext(L_);return me.createElement(aH,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Vb),isPresent:e,safeToRemove:n})}const lH={borderRadius:{...rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rl,borderTopRightRadius:rl,borderBottomLeftRadius:rl,borderBottomRightRadius:rl,boxShadow:oH},BD=["TopLeft","TopRight","BottomLeft","BottomRight"],uH=BD.length,tI=t=>typeof t=="string"?parseFloat(t):t,nI=t=>typeof t=="number"||ye.test(t);function cH(t,e,n,r,i,s){i?(t.opacity=it(0,n.opacity!==void 0?n.opacity:1,hH(r)),t.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,dH(r))):s&&(t.opacity=it(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<uH;o++){const a=`border${BD[o]}Radius`;let l=rI(e,a),u=rI(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||nI(l)===nI(u)?(t[a]=Math.max(it(tI(l),tI(u),r),0),(Pr.test(u)||Pr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function rI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hH=zD(0,.5,K_),dH=zD(.5,.95,ct);function zD(t,e,n){return r=>r<t?0:r>e?1:n(Ou(t,e,r))}function iI(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){iI(t.x,e.x),iI(t.y,e.y)}function sI(t,e,n,r,i){return t-=e,t=Bd(t,1/n,r),i!==void 0&&(t=Bd(t,1/i,r)),t}function fH(t,e=0,n=1,r=.5,i,s=t,o=t){if(Pr.test(e)&&(e=parseFloat(e),e=it(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=it(s.min,s.max,r);t===s&&(a-=e),t.min=sI(t.min,e,n,a,i),t.max=sI(t.max,e,n,a,i)}function oI(t,e,[n,r,i],s,o){fH(t,e[n],e[r],e[i],e.scale,s,o)}const pH=["x","scaleX","originX"],mH=["y","scaleY","originY"];function aI(t,e,n,r){oI(t.x,e,pH,n?n.x:void 0,r?r.x:void 0),oI(t.y,e,mH,n?n.y:void 0,r?r.y:void 0)}function lI(t){return t.translate===0&&t.scale===1}function HD(t){return lI(t.x)&&lI(t.y)}function gH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function qD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function uI(t){return Dn(t.x)/Dn(t.y)}class yH{constructor(){this.members=[]}add(e){J_(this.members,e),e.scheduleRender()}remove(e){if(Z_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cI(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const vH=(t,e)=>t.depth-e.depth;class _H{constructor(){this.children=[],this.isDirty=!1}add(e){J_(this.children,e),this.isDirty=!0}remove(e){Z_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vH),this.isDirty=!1,this.children.forEach(e)}}function wH(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(si(r),t(s-e))};return Ke.read(r,!0),()=>si(r)}function EH(t){window.MotionDebug&&window.MotionDebug.record(t)}function TH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function SH(t,e,n){const r=Sn(t)?t:Ea(t);return r.start(X_("",r,e,n)),r.animation}const hI=["","X","Y","Z"],dI=1e3;let IH=0;const ys={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function WD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=IH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ys.totalNodes=ys.resolvedTargetDeltas=ys.recalculatedProjection=0,this.nodes.forEach(AH),this.nodes.forEach(DH),this.nodes.forEach(OH),this.nodes.forEach(RH),EH(ys)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _H)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ew),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TH(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=wH(d,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(pI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||FH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=c.getProps(),p=!this.targetLayout||!qD(this.targetLayout,m)||f,_=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const y={...kD(v,"layout"),onPlay:w,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else d||pI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fI);return}this.isUpdating||this.nodes.forEach(kH),this.isUpdating=!1,this.nodes.forEach(bH),this.nodes.forEach(CH),this.nodes.forEach(PH),this.clearAllSnapshots();const a=performance.now();Qt.delta=Xi(0,1e3/60,a-Qt.timestamp),Qt.timestamp=a,Qt.isProcessing=!0,Dm.update.process(Qt),Dm.preRender.process(Qt),Dm.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(xH),this.sharedNodes.forEach(MH)}scheduleUpdateProjection(){Ke.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!HD(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||gs(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$H(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return vt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(vi(a.x,l.offset.x),vi(a.y,l.offset.y)),a}removeElementScroll(o){const a=vt();Vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){Vn(a,o);const{scroll:d}=this.root;d&&(vi(a.x,-d.offset.x),vi(a.y,-d.offset.y))}vi(a.x,c.offset.x),vi(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=vt();Vn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&jo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),gs(c.latestValues)&&jo(l,c.latestValues)}return gs(this.latestValues)&&jo(l,this.latestValues),l}removeTransform(o){const a=vt();Vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!gs(u.latestValues))continue;Wy(u.latestValues)&&u.updateSnapshot();const c=vt(),h=u.measurePageBox();Vn(c,h),aI(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return gs(this.latestValues)&&aI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),zl(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),$D(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),zl(this.relativeTargetOrigin,this.target,f.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ys.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wy(this.parent.latestValues)||FD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Vn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Y7(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=$o(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o());const v=this.projectionTransform;Bl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=cI(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ys.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=vt(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=f!==m,w=this.getStack(),g=!w||w.members.length<=1,p=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(LH));this.animationProgress=0;let _;this.mixTargetDelta=y=>{const T=y/1e3;mI(h.x,o.x,T),mI(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VH(this.relativeTarget,this.relativeTargetOrigin,d,T),_&&gH(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=vt()),Vn(_,this.relativeTarget)),v&&(this.animationValues=c,cH(c,u,this.latestValues,T,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Ah.hasAnimatedSinceResize=!0,this.currentAnimation=SH(0,dI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&KD(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||vt();const h=Dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Vn(a,l),jo(a,c),Bl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<hI.length;c++){const h="rotate"+hI[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ph(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ph(o.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=cI(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:m}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Md){if(d[v]===void 0)continue;const{correct:w,applyTo:g}=Md[v],p=u.transform==="none"?d[v]:w(d[v],h);if(g){const _=g.length;for(let y=0;y<_;y++)u[g[y]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?Ph(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fI),this.root.sharedNodes.clear()}}}function CH(t){t.updateLayout()}function PH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?pr(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=Dn(d);d.min=r[h].min,d.max=d.min+f}):KD(s,n.layoutBox,r)&&pr(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],f=Dn(r[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=$o();Bl(a,r,n.layoutBox);const l=$o();o?Bl(l,t.applyTransform(i,!0),n.measuredBox):Bl(l,r,n.layoutBox);const u=!HD(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const m=vt();zl(m,n.layoutBox,d.layoutBox);const v=vt();zl(v,r,f.layoutBox),qD(m,v)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function AH(t){ys.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xH(t){t.clearSnapshot()}function fI(t){t.clearMeasurements()}function kH(t){t.isLayoutDirty=!1}function bH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DH(t){t.resolveTargetDelta()}function OH(t){t.calcProjection()}function NH(t){t.resetRotation()}function MH(t){t.removeLeadSnapshot()}function mI(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gI(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function VH(t,e,n,r){gI(t.x,e.x,n.x,r),gI(t.y,e.y,n.y,r)}function LH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const FH={duration:.45,ease:[.4,0,.1,1]},yI=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),vI=yI("applewebkit/")&&!yI("chrome/")?Math.round:ct;function _I(t){t.min=vI(t.min),t.max=vI(t.max)}function $H(t){_I(t.x),_I(t.y)}function KD(t,e,n){return t==="position"||t==="preserve-aspect"&&!Hy(uI(e),uI(n),.2)}const jH=WD({attachResizeListener:(t,e)=>Hr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zm={current:void 0},GD=WD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zm.current){const t=new jH({});t.mount(window),t.setOptions({layoutScroll:!0}),zm.current=t}return zm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UH={pan:{Feature:iH},drag:{Feature:rH,ProjectionNode:GD,MeasureLayout:UD}},BH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zH(t){const e=BH.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Gy(t,e,n=1){const[r,i]=zH(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return bD(o)?parseFloat(o):o}else return Ly(i)?Gy(i,e,n+1):i}function HH(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Ly(s))return;const o=Gy(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Ly(s))continue;const o=Gy(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const qH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),QD=t=>qH.has(t),WH=t=>Object.keys(t).some(QD),wI=t=>t===lo||t===ye,EI=(t,e)=>parseFloat(t.split(", ")[e]),TI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return EI(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?EI(s[1],t):0}},KH=new Set(["x","y","z"]),GH=lc.filter(t=>!KH.has(t));function QH(t){const e=[];return GH.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TI(4,13),y:TI(5,14)};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const YH=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Ta[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Ta[u](l,s)}),t},XH=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(QD);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=nl(c);const d=e[l];let f;if(Ld(d)){const m=d.length,v=d[0]===null?1:0;c=d[v],h=nl(c);for(let w=v;w<m&&d[w]!==null;w++)f?W_(nl(d[w])===f):f=nl(d[w])}else f=nl(d);if(h!==f)if(wI(h)&&wI(f)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&f===ye&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):e[l]=h.transform(d):(o||(s=QH(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=YH(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),fp&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function JH(t,e,n,r){return WH(e)?XH(t,e,n,r):{target:e,transitionEnd:r}}const ZH=(t,e,n,r)=>{const i=HH(t,e,r);return e=i.target,r=i.transitionEnd,JH(t,e,n,r)},Qy={current:null},YD={current:!1};function eq(){if(YD.current=!0,!!fp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qy.current=t.matches;t.addListener(e),e()}else Qy.current=!1}function tq(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Sn(s))t.addValue(i,s),Ud(r)&&r.add(i);else if(Sn(o))t.addValue(i,Ea(s,{owner:t})),Ud(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ea(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const SI=new WeakMap,XD=Object.keys(Du),nq=XD.length,II=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],rq=V_.length;class iq{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ke.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=mp(n),this.isVariantNode=Mb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];a[h]!==void 0&&Sn(d)&&(d.set(a[h],!1),Ud(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,SI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YD.current||eq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SI.delete(this.current),this.projection&&this.projection.unmount(),si(this.notifyUpdate),si(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ao.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ke.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<nq;l++){const u=XD[l],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:f}=Du[u];d&&(o=d),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(a=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Lo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<II.length;r++){const i=II[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=tq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<rq;r++){const i=V_[r],s=this.props[i];(bu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ea(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=q_(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ew),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JD extends iq{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=S7(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){E7(this,r,o);const a=ZH(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function sq(t){return window.getComputedStyle(t)}class oq extends JD{readValueFromInstance(e,n){if(ao.has(n)){const r=Y_(n);return r&&r.default||0}else{const r=sq(e),i=($b(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jD(e,n)}build(e,n,r,i){$_(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return H_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){qb(e,n,r,i)}}class aq extends JD{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ao.has(n)){const r=Y_(n);return r&&r.default||0}return n=Wb.has(n)?n:z_(n),e.getAttribute(n)}measureInstanceViewportBox(){return vt()}scrapeMotionValuesFromProps(e,n){return Gb(e,n)}build(e,n,r,i){U_(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Kb(e,n,r,i)}mount(e){this.isSVGTag=B_(e.tagName),super.mount(e)}}const lq=(t,e)=>F_(t)?new aq(e,{enableHardwareAcceleration:!1}):new oq(e,{enableHardwareAcceleration:!0}),uq={layout:{ProjectionNode:GD,MeasureLayout:UD}},cq={...L7,...r8,...UH,...uq},uo=dz((t,e)=>Hz(t,e,cq,lq));function ZD(){const t=E.useRef(!1);return N_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function hq(){const t=ZD(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>Ke.postRender(r),[r]),e]}class dq extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fq({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),E.createElement(dq,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(t,{ref:r}))}const Hm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Qb(pq),l=E.useId(),u=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement(fq,{isPresent:n},t)),E.createElement(dp.Provider,{value:u},t)};function pq(){return new Map}function mq(t){return E.useEffect(()=>()=>t(),[])}const wo=t=>t.key||"";function gq(t,e){t.forEach(n=>{const r=wo(n);e.set(r,n)})}function yq(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const co=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(L_).forceRender||hq()[0],l=ZD(),u=yq(t);let c=u;const h=E.useRef(new Map).current,d=E.useRef(c),f=E.useRef(new Map).current,m=E.useRef(!0);if(N_(()=>{m.current=!1,gq(u,f),d.current=c}),mq(()=>{m.current=!0,f.clear(),h.clear()}),m.current)return E.createElement(E.Fragment,null,c.map(p=>E.createElement(Hm,{key:wo(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},p)));c=[...c];const v=d.current.map(wo),w=u.map(wo),g=v.length;for(let p=0;p<g;p++){const _=v[p];w.indexOf(_)===-1&&!h.has(_)&&h.set(_,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((p,_)=>{if(w.indexOf(_)!==-1)return;const y=f.get(_);if(!y)return;const T=v.indexOf(_);let A=p;if(!A){const P=()=>{f.delete(_),h.delete(_);const I=d.current.findIndex(O=>O.key===_);if(d.current.splice(I,1),!h.size){if(d.current=u,l.current===!1)return;a(),r&&r()}};A=E.createElement(Hm,{key:wo(y),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:o},y),h.set(_,A)}c.splice(T,0,A)}),c=c.map(p=>{const _=p.key;return h.has(_)?p:E.createElement(Hm,{key:wo(p),isPresent:!0,presenceAffectsLayout:s,mode:o},p)}),E.createElement(E.Fragment,null,h.size?c:c.map(p=>E.cloneElement(p)))};var dc=t=>t.type==="checkbox",Uo=t=>t instanceof Date,cn=t=>t==null;const eO=t=>typeof t=="object";var Rt=t=>!cn(t)&&!Array.isArray(t)&&eO(t)&&!Uo(t),vq=t=>Rt(t)&&t.target?dc(t.target)?t.target.checked:t.target.value:t,_q=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,wq=(t,e)=>t.has(_q(e)),Eq=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},tw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(tw&&(t instanceof Blob||t instanceof FileList))&&(n||Rt(t)))if(e=n?[]:{},!n&&!Eq(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Nr(t[r]));else return t;return e}var fc=t=>Array.isArray(t)?t.filter(Boolean):[],Et=t=>t===void 0,ie=(t,e,n)=>{if(!e||!Rt(t))return n;const r=fc(e.split(/[,[\].]+?/)).reduce((i,s)=>cn(i)?i:i[s],t);return Et(r)||r===t?Et(t[e])?n:t[e]:r},xs=t=>typeof t=="boolean";const CI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};me.createContext(null);var Tq=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ir.all&&(e._proxyFormState[o]=!r||ir.all),n&&(n[o]=!0),t[o]}});return i},$n=t=>Rt(t)&&!Object.keys(t).length,Sq=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return $n(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ir.all))},qm=t=>Array.isArray(t)?t:[t];function Iq(t){const e=me.useRef(t);e.current=t,me.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var _r=t=>typeof t=="string",Cq=(t,e,n,r,i)=>_r(t)?(r&&e.watch.add(t),ie(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ie(n,s))):(r&&(e.watchAll=!0),n),nw=t=>/^\w*$/.test(t),tO=t=>fc(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Ze(t,e,n){let r=-1;const i=nw(e)?[e]:tO(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Rt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var Pq=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Yy=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=ie(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Rt(o)&&Yy(o,e)}}};var PI=t=>({isOnSubmit:!t||t===ir.onSubmit,isOnBlur:t===ir.onBlur,isOnChange:t===ir.onChange,isOnAll:t===ir.all,isOnTouch:t===ir.onTouched}),AI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Aq=(t,e,n)=>{const r=fc(ie(t,n));return Ze(r,"root",e[n]),Ze(t,n,r),t},rw=t=>t.type==="file",xi=t=>typeof t=="function",zd=t=>{if(!tw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rh=t=>_r(t),iw=t=>t.type==="radio",Hd=t=>t instanceof RegExp;const RI={value:!1,isValid:!1},xI={value:!0,isValid:!0};var nO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Et(t[0].attributes.value)?Et(t[0].value)||t[0].value===""?xI:{value:t[0].value,isValid:!0}:xI:RI}return RI};const kI={isValid:!1,value:null};var rO=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kI):kI;function bI(t,e,n="validate"){if(Rh(t)||Array.isArray(t)&&t.every(Rh)||xs(t)&&!t)return{type:n,message:Rh(t)?t:"",ref:e}}var mo=t=>Rt(t)&&!Hd(t)?t:{value:t,message:""},DI=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:f,name:m,valueAsNumber:v,mount:w,disabled:g}=t._f,p=ie(e,m);if(!w||g)return{};const _=o?o[0]:s,y=F=>{r&&_.reportValidity&&(_.setCustomValidity(xs(F)?"":F||""),_.reportValidity())},T={},A=iw(s),P=dc(s),I=A||P,O=(v||rw(s))&&Et(s.value)&&Et(p)||zd(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,U=Pq.bind(null,m,n,T),oe=(F,K,Y,ee=Dr.maxLength,he=Dr.minLength)=>{const fe=F?K:Y;T[m]={type:F?ee:he,message:fe,ref:s,...U(F?ee:he,fe)}};if(i?!Array.isArray(p)||!p.length:a&&(!I&&(O||cn(p))||xs(p)&&!p||P&&!nO(o).isValid||A&&!rO(o).isValid)){const{value:F,message:K}=Rh(a)?{value:!!a,message:a}:mo(a);if(F&&(T[m]={type:Dr.required,message:K,ref:_,...U(Dr.required,K)},!n))return y(K),T}if(!O&&(!cn(c)||!cn(h))){let F,K;const Y=mo(h),ee=mo(c);if(!cn(p)&&!isNaN(p)){const he=s.valueAsNumber||p&&+p;cn(Y.value)||(F=he>Y.value),cn(ee.value)||(K=he<ee.value)}else{const he=s.valueAsDate||new Date(p),fe=se=>new Date(new Date().toDateString()+" "+se),N=s.type=="time",X=s.type=="week";_r(Y.value)&&p&&(F=N?fe(p)>fe(Y.value):X?p>Y.value:he>new Date(Y.value)),_r(ee.value)&&p&&(K=N?fe(p)<fe(ee.value):X?p<ee.value:he<new Date(ee.value))}if((F||K)&&(oe(!!F,Y.message,ee.message,Dr.max,Dr.min),!n))return y(T[m].message),T}if((l||u)&&!O&&(_r(p)||i&&Array.isArray(p))){const F=mo(l),K=mo(u),Y=!cn(F.value)&&p.length>+F.value,ee=!cn(K.value)&&p.length<+K.value;if((Y||ee)&&(oe(Y,F.message,K.message),!n))return y(T[m].message),T}if(d&&!O&&_r(p)){const{value:F,message:K}=mo(d);if(Hd(F)&&!p.match(F)&&(T[m]={type:Dr.pattern,message:K,ref:s,...U(Dr.pattern,K)},!n))return y(K),T}if(f){if(xi(f)){const F=await f(p,e),K=bI(F,_);if(K&&(T[m]={...K,...U(Dr.validate,K.message)},!n))return y(K.message),T}else if(Rt(f)){let F={};for(const K in f){if(!$n(F)&&!n)break;const Y=bI(await f[K](p,e),_,K);Y&&(F={...Y,...U(K,Y.message)},y(Y.message),n&&(T[m]=F))}if(!$n(F)&&(T[m]={ref:_,...F},!n))return T}}return y(!0),T};function Rq(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Et(t)?r++:t[e[r++]];return t}function xq(t){for(const e in t)if(t.hasOwnProperty(e)&&!Et(t[e]))return!1;return!0}function Ft(t,e){const n=Array.isArray(e)?e:nw(e)?[e]:tO(e),r=n.length===1?t:Rq(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Rt(r)&&$n(r)||Array.isArray(r)&&xq(r))&&Ft(t,n.slice(0,-1)),t}function Wm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var qd=t=>cn(t)||!eO(t);function ks(t,e){if(qd(t)||qd(e))return t===e;if(Uo(t)&&Uo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Uo(s)&&Uo(o)||Rt(s)&&Rt(o)||Array.isArray(s)&&Array.isArray(o)?!ks(s,o):s!==o)return!1}}return!0}var iO=t=>t.type==="select-multiple",kq=t=>iw(t)||dc(t),Km=t=>zd(t)&&t.isConnected,sO=t=>{for(const e in t)if(xi(t[e]))return!0;return!1};function Wd(t,e={}){const n=Array.isArray(t);if(Rt(t)||n)for(const r in t)Array.isArray(t[r])||Rt(t[r])&&!sO(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wd(t[r],e[r])):cn(t[r])||(e[r]=!0);return e}function oO(t,e,n){const r=Array.isArray(t);if(Rt(t)||r)for(const i in t)Array.isArray(t[i])||Rt(t[i])&&!sO(t[i])?Et(e)||qd(n[i])?n[i]=Array.isArray(t[i])?Wd(t[i],[]):{...Wd(t[i])}:oO(t[i],cn(e)?{}:e[i],n[i]):n[i]=!ks(t[i],e[i]);return n}var Gm=(t,e)=>oO(t,e,Wd(e)),aO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Et(t)?t:e?t===""?NaN:t&&+t:n&&_r(t)?new Date(t):r?r(t):t;function Qm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return rw(e)?e.files:iw(e)?rO(t.refs).value:iO(e)?[...e.selectedOptions].map(({value:n})=>n):dc(e)?nO(t.refs).value:aO(Et(e.value)?t.ref.value:e.value,t)}var bq=(t,e,n,r)=>{const i={};for(const s of t){const o=ie(e,s);o&&Ze(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},il=t=>Et(t)?t:Hd(t)?t.source:Rt(t)?Hd(t.value)?t.value.source:t.value:t,Dq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function OI(t,e,n){const r=ie(t,n);if(r||nw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ie(e,s),a=ie(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var Oq=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Nq=(t,e)=>!fc(ie(t,e)).length&&Ft(t,e);const Mq={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function Vq(t={},e){let n={...Mq,...t},r={submitCount:0,isDirty:!1,isLoading:xi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Rt(n.defaultValues)||Rt(n.values)?Nr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Nr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Wm(),array:Wm(),state:Wm()},f=t.resetOptions&&t.resetOptions.keepDirtyValues,m=PI(n.mode),v=PI(n.reValidateMode),w=n.criteriaMode===ir.all,g=S=>x=>{clearTimeout(c),c=setTimeout(S,x)},p=async S=>{if(h.isValid||S){const x=n.resolver?$n((await O()).errors):await oe(i,!0);x!==r.isValid&&d.state.next({isValid:x})}},_=S=>h.isValidating&&d.state.next({isValidating:S}),y=(S,x=[],D,q,W=!0,$=!0)=>{if(q&&D){if(a.action=!0,$&&Array.isArray(ie(i,S))){const Z=D(ie(i,S),q.argA,q.argB);W&&Ze(i,S,Z)}if($&&Array.isArray(ie(r.errors,S))){const Z=D(ie(r.errors,S),q.argA,q.argB);W&&Ze(r.errors,S,Z),Nq(r.errors,S)}if(h.touchedFields&&$&&Array.isArray(ie(r.touchedFields,S))){const Z=D(ie(r.touchedFields,S),q.argA,q.argB);W&&Ze(r.touchedFields,S,Z)}h.dirtyFields&&(r.dirtyFields=Gm(s,o)),d.state.next({name:S,isDirty:K(S,x),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ze(o,S,x)},T=(S,x)=>{Ze(r.errors,S,x),d.state.next({errors:r.errors})},A=(S,x,D,q)=>{const W=ie(i,S);if(W){const $=ie(o,S,Et(D)?ie(s,S):D);Et($)||q&&q.defaultChecked||x?Ze(o,S,x?$:Qm(W._f)):he(S,$),a.mount&&p()}},P=(S,x,D,q,W)=>{let $=!1,Z=!1;const J={name:S};if(!D||q){h.isDirty&&(Z=r.isDirty,r.isDirty=J.isDirty=K(),$=Z!==J.isDirty);const ve=ks(ie(s,S),x);Z=ie(r.dirtyFields,S),ve?Ft(r.dirtyFields,S):Ze(r.dirtyFields,S,!0),J.dirtyFields=r.dirtyFields,$=$||h.dirtyFields&&Z!==!ve}if(D){const ve=ie(r.touchedFields,S);ve||(Ze(r.touchedFields,S,D),J.touchedFields=r.touchedFields,$=$||h.touchedFields&&ve!==D)}return $&&W&&d.state.next(J),$?J:{}},I=(S,x,D,q)=>{const W=ie(r.errors,S),$=h.isValid&&xs(x)&&r.isValid!==x;if(t.delayError&&D?(u=g(()=>T(S,D)),u(t.delayError)):(clearTimeout(c),u=null,D?Ze(r.errors,S,D):Ft(r.errors,S)),(D?!ks(W,D):W)||!$n(q)||$){const Z={...q,...$&&xs(x)?{isValid:x}:{},errors:r.errors,name:S};r={...r,...Z},d.state.next(Z)}_(!1)},O=async S=>n.resolver(o,n.context,bq(S||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),U=async S=>{const{errors:x}=await O(S);if(S)for(const D of S){const q=ie(x,D);q?Ze(r.errors,D,q):Ft(r.errors,D)}else r.errors=x;return x},oe=async(S,x,D={valid:!0})=>{for(const q in S){const W=S[q];if(W){const{_f:$,...Z}=W;if($){const J=l.array.has($.name),ve=await DI(W,o,w,n.shouldUseNativeValidation&&!x,J);if(ve[$.name]&&(D.valid=!1,x))break;!x&&(ie(ve,$.name)?J?Aq(r.errors,ve,$.name):Ze(r.errors,$.name,ve[$.name]):Ft(r.errors,$.name))}Z&&await oe(Z,x,D)}}return D.valid},F=()=>{for(const S of l.unMount){const x=ie(i,S);x&&(x._f.refs?x._f.refs.every(D=>!Km(D)):!Km(x._f.ref))&&R(S)}l.unMount=new Set},K=(S,x)=>(S&&x&&Ze(o,S,x),!ks(le(),s)),Y=(S,x,D)=>Cq(S,l,{...a.mount?o:Et(x)?s:_r(S)?{[S]:x}:x},D,x),ee=S=>fc(ie(a.mount?o:s,S,t.shouldUnregister?ie(s,S,[]):[])),he=(S,x,D={})=>{const q=ie(i,S);let W=x;if(q){const $=q._f;$&&(!$.disabled&&Ze(o,S,aO(x,$)),W=zd($.ref)&&cn(x)?"":x,iO($.ref)?[...$.ref.options].forEach(Z=>Z.selected=W.includes(Z.value)):$.refs?dc($.ref)?$.refs.length>1?$.refs.forEach(Z=>(!Z.defaultChecked||!Z.disabled)&&(Z.checked=Array.isArray(W)?!!W.find(J=>J===Z.value):W===Z.value)):$.refs[0]&&($.refs[0].checked=!!W):$.refs.forEach(Z=>Z.checked=Z.value===W):rw($.ref)?$.ref.value="":($.ref.value=W,$.ref.type||d.values.next({name:S,values:{...o}})))}(D.shouldDirty||D.shouldTouch)&&P(S,W,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&se(S)},fe=(S,x,D)=>{for(const q in x){const W=x[q],$=`${S}.${q}`,Z=ie(i,$);(l.array.has(S)||!qd(W)||Z&&!Z._f)&&!Uo(W)?fe($,W,D):he($,W,D)}},N=(S,x,D={})=>{const q=ie(i,S),W=l.array.has(S),$=Nr(x);Ze(o,S,$),W?(d.array.next({name:S,values:{...o}}),(h.isDirty||h.dirtyFields)&&D.shouldDirty&&d.state.next({name:S,dirtyFields:Gm(s,o),isDirty:K(S,$)})):q&&!q._f&&!cn($)?fe(S,$,D):he(S,$,D),AI(S,l)&&d.state.next({...r}),d.values.next({name:S,values:{...o}}),!a.mount&&e()},X=async S=>{const x=S.target;let D=x.name,q=!0;const W=ie(i,D),$=()=>x.type?Qm(W._f):vq(S);if(W){let Z,J;const ve=$(),an=S.type===CI.BLUR||S.type===CI.FOCUS_OUT,ci=!Dq(W._f)&&!n.resolver&&!ie(r.errors,D)&&!W._f.deps||Oq(an,ie(r.touchedFields,D),r.isSubmitted,v,m),qt=AI(D,l,an);Ze(o,D,ve),an?(W._f.onBlur&&W._f.onBlur(S),u&&u(0)):W._f.onChange&&W._f.onChange(S);const Fa=P(D,ve,an,!1),gc=!$n(Fa)||qt;if(!an&&d.values.next({name:D,type:S.type,values:{...o}}),ci)return h.isValid&&p(),gc&&d.state.next({name:D,...qt?{}:Fa});if(!an&&qt&&d.state.next({...r}),_(!0),n.resolver){const{errors:yc}=await O([D]),vc=OI(r.errors,i,D),_c=OI(yc,i,vc.name||D);Z=_c.error,D=_c.name,J=$n(yc)}else Z=(await DI(W,o,w,n.shouldUseNativeValidation))[D],q=Number.isNaN(ve)||ve===ie(o,D,ve),q&&(Z?J=!1:h.isValid&&(J=await oe(i,!0)));q&&(W._f.deps&&se(W._f.deps),I(D,J,Z,Fa))}},se=async(S,x={})=>{let D,q;const W=qm(S);if(_(!0),n.resolver){const $=await U(Et(S)?S:W);D=$n($),q=S?!W.some(Z=>ie($,Z)):D}else S?(q=(await Promise.all(W.map(async $=>{const Z=ie(i,$);return await oe(Z&&Z._f?{[$]:Z}:Z)}))).every(Boolean),!(!q&&!r.isValid)&&p()):q=D=await oe(i);return d.state.next({...!_r(S)||h.isValid&&D!==r.isValid?{}:{name:S},...n.resolver||!S?{isValid:D}:{},errors:r.errors,isValidating:!1}),x.shouldFocus&&!q&&Yy(i,$=>$&&ie(r.errors,$),S?W:l.mount),q},le=S=>{const x={...s,...a.mount?o:{}};return Et(S)?x:_r(S)?ie(x,S):S.map(D=>ie(x,D))},H=(S,x)=>({invalid:!!ie((x||r).errors,S),isDirty:!!ie((x||r).dirtyFields,S),isTouched:!!ie((x||r).touchedFields,S),error:ie((x||r).errors,S)}),G=S=>{S&&qm(S).forEach(x=>Ft(r.errors,x)),d.state.next({errors:S?r.errors:{}})},B=(S,x,D)=>{const q=(ie(i,S,{_f:{}})._f||{}).ref;Ze(r.errors,S,{...x,ref:q}),d.state.next({name:S,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&q&&q.focus&&q.focus()},ue=(S,x)=>xi(S)?d.values.subscribe({next:D=>S(Y(void 0,x),D)}):Y(S,x,!0),R=(S,x={})=>{for(const D of S?qm(S):l.mount)l.mount.delete(D),l.array.delete(D),x.keepValue||(Ft(i,D),Ft(o,D)),!x.keepError&&Ft(r.errors,D),!x.keepDirty&&Ft(r.dirtyFields,D),!x.keepTouched&&Ft(r.touchedFields,D),!n.shouldUnregister&&!x.keepDefaultValue&&Ft(s,D);d.values.next({values:{...o}}),d.state.next({...r,...x.keepDirty?{isDirty:K()}:{}}),!x.keepIsValid&&p()},Ce=({disabled:S,name:x,field:D,fields:q})=>{if(xs(S)){const W=S?void 0:ie(o,x,Qm(D?D._f:ie(q,x)._f));Ze(o,x,W),P(x,W,!1,!1,!0)}},z=(S,x={})=>{let D=ie(i,S);const q=xs(x.disabled);return Ze(i,S,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:S}},name:S,mount:!0,...x}}),l.mount.add(S),D?Ce({field:D,disabled:x.disabled,name:S}):A(S,!0,x.value),{...q?{disabled:x.disabled}:{},...n.progressive?{required:!!x.required,min:il(x.min),max:il(x.max),minLength:il(x.minLength),maxLength:il(x.maxLength),pattern:il(x.pattern)}:{},name:S,onChange:X,onBlur:X,ref:W=>{if(W){z(S,x),D=ie(i,S);const $=Et(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,Z=kq($),J=D._f.refs||[];if(Z?J.find(ve=>ve===$):$===D._f.ref)return;Ze(i,S,{_f:{...D._f,...Z?{refs:[...J.filter(Km),$,...Array.isArray(ie(s,S))?[{}]:[]],ref:{type:$.type,name:S}}:{ref:$}}}),A(S,!1,void 0,$)}else D=ie(i,S,{}),D._f&&(D._f.mount=!1),(n.shouldUnregister||x.shouldUnregister)&&!(wq(l.array,S)&&a.action)&&l.unMount.add(S)}}},Le=()=>n.shouldFocusError&&Yy(i,S=>S&&ie(r.errors,S),l.mount),xe=(S,x)=>async D=>{D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let q=Nr(o);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:W,values:$}=await O();r.errors=W,q=$}else await oe(i);Ft(r.errors,"root"),$n(r.errors)?(d.state.next({errors:{}}),await S(q,D)):(x&&await x({...r.errors},D),Le(),setTimeout(Le)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ae=(S,x={})=>{ie(i,S)&&(Et(x.defaultValue)?N(S,ie(s,S)):(N(S,x.defaultValue),Ze(s,S,x.defaultValue)),x.keepTouched||Ft(r.touchedFields,S),x.keepDirty||(Ft(r.dirtyFields,S),r.isDirty=x.defaultValue?K(S,ie(s,S)):K()),x.keepError||(Ft(r.errors,S),h.isValid&&p()),d.state.next({...r}))},ge=(S,x={})=>{const D=S?Nr(S):s,q=Nr(D),W=S&&!$n(S)?q:s;if(x.keepDefaultValues||(s=D),!x.keepValues){if(x.keepDirtyValues||f)for(const $ of l.mount)ie(r.dirtyFields,$)?Ze(W,$,ie(o,$)):N($,ie(W,$));else{if(tw&&Et(S))for(const $ of l.mount){const Z=ie(i,$);if(Z&&Z._f){const J=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(zd(J)){const ve=J.closest("form");if(ve){ve.reset();break}}}}i={}}o=t.shouldUnregister?x.keepDefaultValues?Nr(s):{}:Nr(W),d.array.next({values:{...W}}),d.values.next({values:{...W}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!x.keepIsValid,a.watch=!!t.shouldUnregister,d.state.next({submitCount:x.keepSubmitCount?r.submitCount:0,isDirty:x.keepDirty?r.isDirty:!!(x.keepDefaultValues&&!ks(S,s)),isSubmitted:x.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:x.keepDirtyValues?r.dirtyFields:x.keepDefaultValues&&S?Gm(s,S):{},touchedFields:x.keepTouched?r.touchedFields:{},errors:x.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ge=(S,x)=>ge(xi(S)?S(o):S,x);return{control:{register:z,unregister:R,getFieldState:H,handleSubmit:xe,setError:B,_executeSchema:O,_getWatch:Y,_getDirty:K,_updateValid:p,_removeUnmounted:F,_updateFieldArray:y,_updateDisabledField:Ce,_getFieldArray:ee,_reset:ge,_resetDefaultValues:()=>xi(n.defaultValues)&&n.defaultValues().then(S=>{Ge(S,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:S=>{r={...r,...S}},_subjects:d,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return l},set _names(S){l=S},get _formState(){return r},set _formState(S){r=S},get _options(){return n},set _options(S){n={...n,...S}}},trigger:se,register:z,handleSubmit:xe,watch:ue,setValue:N,getValues:le,reset:Ge,resetField:Ae,clearErrors:G,unregister:R,setError:B,setFocus:(S,x={})=>{const D=ie(i,S),q=D&&D._f;if(q){const W=q.refs?q.refs[0]:q.ref;W.focus&&(W.focus(),x.shouldSelect&&W.select())}},getFieldState:H}}function pc(t={}){const e=me.useRef(),n=me.useRef(),[r,i]=me.useState({isDirty:!1,isValidating:!1,isLoading:xi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:xi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Vq(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,Iq({subject:s._subjects.state,next:o=>{Sq(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),me.useEffect(()=>{t.values&&!ks(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),me.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Tq(r,s),e.current}function lO(){const{selectedUpdateId:t,setOpenUpdateModal:e,setSearch:n,openUpdateModal:r}=ui(),i=La(),{register:s,handleSubmit:o,setValue:a}=pc(),l=E.useRef(null),{data:u}=Db(["customerDetails",t],()=>{const d=Ru(ya,"customers",t);return BB(d).then(f=>f.data())}),{mutate:c}=cp(d=>{const f=Ru(ya,"customers",t);return Yk(f,{name:d.name,phone:d.phone})},{onSuccess:()=>{i.invalidateQueries(["customers"]),e(!1),n(""),Fe.success("updated successfully")},onError:()=>{Fe.error("Could not update")}});E.useEffect(()=>{u&&(a("name",u.name),a("phone",u.phone))},[u,a]);const h=d=>{const f=u==null?void 0:u.name,m=u==null?void 0:u.phone;!d.name&&!d.phone?(d.name=f,d.phone=m):d.name?d.phone||(d.phone=m):d.name=f;const v={name:d.name,phone:d.phone};c(v)};return E.useEffect(()=>{function d(f){l.current.contains(f.target)||e(!1)}return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}},[r]),C.jsx(co,{children:C.jsxs(uo.div,{initial:{translateX:-1e3,opacity:0,scale:.5},animate:{translateX:0,opacity:1,scale:1},exit:{translateX:-1e3,opacity:0},transition:{duration:.4},className:"fixed inset-0 flex flex-col items-center justify-center z-50",children:[C.jsx("div",{className:"fixed inset-0 backdrop-filter backdrop-blur-sm bg-opacity-50 bg-gray-900"}),C.jsxs("form",{onClick:d=>d.stopPropagation(),ref:l,onSubmit:o(h),className:"bg-white relative  w-1/2 p-6 rounded shadow-lg flex gap-4 flex-col",children:[C.jsx("h1",{className:"text-xl font-bold mb-4",children:"Update Customer"}),C.jsx("input",{className:"py-2 rounded-lg outline outline-lime-600 px-4 focus:outline-none focus:ring focus:ring-green-500 shadow-xl",placeholder:"name",type:"text",defaultValue:u==null?void 0:u.name,...s("name")}),C.jsx("input",{className:"py-2 rounded-lg outline outline-lime-600 px-4 focus:outline-none focus:ring focus:ring-green-500 shadow-2xl",placeholder:"phone",type:"phone",defaultValue:u==null?void 0:u.phone,required:!0,...s("phone")}),C.jsx("button",{className:"bg-lime-600 rounded-full hover:bg-lime-700 text-white font-bold py-2 px-4 transition-colors mt-4",children:"Update"}),C.jsx("button",{type:"button",onClick:()=>e(!1),className:"absolute text-lg text-red-600 right-4 top-5",children:"✕"})]})]})})}function uO({cus:t}){const{name:e,endDate:n,id:r,startDate:i}=t,{setOpenRenewModal:s,setOpenUpdateModal:o,setSelectedId:a,setSelectedUpdateId:l,openUpdateModal:u,hasSigned:c,setSearch:h}=ui(),d=i==null?void 0:i.toDate(),f=La(),m=n==null?void 0:n.toDate(),v=m<new Date;async function w(T){try{const A=Ru(ya,"customers",T);await HB(A),Fe.info("item was deleted")}catch(A){throw new Error(A)}}const{mutate:g,isLoading:p}=cp(T=>w(T),{onSuccess:()=>{f.invalidateQueries(["customers"]),Fe.info("item was deleted")}});function _(T){T.stopPropagation(),a(r),s(!0)}function y(T){T.stopPropagation(),l(r),o(!0)}return C.jsxs(C.Fragment,{children:[u&&C.jsx(lO,{cus:t}),C.jsx(co,{children:C.jsxs(uo.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.5},className:"   md:w-full    flex items-start md:items-center   md:flex-row  flex-wrap justify-between shadow-lg px-3 py-3",children:[C.jsxs("div",{className:" flex flex-col  w-24 justify-center",children:[C.jsx("h2",{className:"  text-lg ",children:" Name : "}),C.jsxs("h2",{className:"  text-lg ",children:[" ",e]})]}),C.jsxs("div",{className:" flex flex-col w-24 justify-center",children:[C.jsx("h3",{children:"Start Date :"}),C.jsx("h3",{children:d==null?void 0:d.toLocaleDateString()})]}),C.jsxs("div",{className:" flex flex-col w-24 justify-center",children:[C.jsx("h3",{children:"End Date :"}),C.jsx("h3",{children:m==null?void 0:m.toLocaleDateString()})]}),C.jsxs("div",{className:` flex flex-col w-24 justify-center  ${v===!0?"text-red-600":""}`,children:[C.jsx("h3",{children:"expired :"}),C.jsx("h3",{children:v===!0?" out due":" not yet"})]}),C.jsxs("div",{className:" flex gap-2",children:[C.jsx("button",{onClick:T=>_(T),className:" py-2 px-3 bg-white outline outline-lime-600  text-black hover:bg-lime-600 transition-colors rounded-full  disabled:opacity-50 disabled:cursor-not-allowed  hover:text-white",children:"renew"}),C.jsx("button",{onClick:T=>y(T),className:"py-2 px-3 bg-white outline outline-lime-600  text-black hover:bg-lime-600 transition-colors rounded-full disabled:opacity-50 disabled:cursor-not-allowed    hover:text-white",children:"update"}),C.jsx("button",{disabled:p,onClick:()=>g(r),className:"py-2 px-3 bg-white outline outline-lime-600  text-black hover:bg-lime-600 transition-colors rounded-full  disabled:opacity-50 disabled:cursor-not-allowed   hover:text-white",children:C.jsx(c6,{})})]})]})})]})}let Lq={data:""},Fq=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Lq,$q=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jq=/\/\*[^]*?\*\/|  +/g,NI=/\n+/g,Ii=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ii(o,s):s+"{"+Ii(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ii(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ii.p?Ii.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Or={},cO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+cO(t[n]);return e}return t},Uq=(t,e,n,r,i)=>{let s=cO(t),o=Or[s]||(Or[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!Or[o]){let l=s!==t?t:(u=>{let c,h,d=[{}];for(;c=$q.exec(u.replace(jq,""));)c[4]?d.shift():c[3]?(h=c[3].replace(NI," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][c[1]]=c[2].replace(NI," ").trim();return d[0]})(t);Or[o]=Ii(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Or.g?Or.g:null;return n&&(Or.g=Or[o]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Or[o],e,r,a),o},Bq=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ii(a,""):a===!1?"":a}return r+i+(o??"")},"");function _p(t){let e=this||{},n=t.call?t(e.p):t;return Uq(n.unshift?n.raw?Bq(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Fq(e.target),e.g,e.o,e.k)}let hO,Xy,Jy;_p.bind({g:1});let oi=_p.bind({k:1});function zq(t,e,n,r){Ii.p=e,hO=t,Xy=n,Jy=r}function ls(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Xy&&Xy()},a),n.o=/ *go\d+/.test(l),a.className=_p.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),Jy&&u[0]&&Jy(a),hO(u,a)}return e?e(i):i}}var Hq=t=>typeof t=="function",Kd=(t,e)=>Hq(t)?t(e):t,qq=(()=>{let t=0;return()=>(++t).toString()})(),dO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Wq=20,xh=new Map,Kq=1e3,MI=t=>{if(xh.has(t))return;let e=setTimeout(()=>{xh.delete(t),ho({type:4,toastId:t})},Kq);xh.set(t,e)},Gq=t=>{let e=xh.get(t);e&&clearTimeout(e)},Zy=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Wq)};case 1:return e.toast.id&&Gq(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?Zy(t,{type:1,toast:n}):Zy(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?MI(r):t.toasts.forEach(s=>{MI(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},kh=[],bh={toasts:[],pausedAt:void 0},ho=t=>{bh=Zy(bh,t),kh.forEach(e=>{e(bh)})},Qq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Yq=(t={})=>{let[e,n]=E.useState(bh);E.useEffect(()=>(kh.push(n),()=>{let i=kh.indexOf(n);i>-1&&kh.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||Qq[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},Xq=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||qq()}),mc=t=>(e,n)=>{let r=Xq(e,t,n);return ho({type:2,toast:r}),r.id},qn=(t,e)=>mc("blank")(t,e);qn.error=mc("error");qn.success=mc("success");qn.loading=mc("loading");qn.custom=mc("custom");qn.dismiss=t=>{ho({type:3,toastId:t})};qn.remove=t=>ho({type:4,toastId:t});qn.promise=(t,e,n)=>{let r=qn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(qn.success(Kd(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{qn.error(Kd(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var Jq=(t,e)=>{ho({type:1,toast:{id:t,height:e}})},Zq=()=>{ho({type:5,time:Date.now()})},eW=t=>{let{toasts:e,pausedAt:n}=Yq(t);E.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&qn.dismiss(a.id);return}return setTimeout(()=>qn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&ho({type:6,time:Date.now()})},[n]),i=E.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(f=>(f.position||u)===(s.position||u)&&f.height),h=c.findIndex(f=>f.id===s.id),d=c.filter((f,m)=>m<h&&f.visible).length;return c.filter(f=>f.visible).slice(...a?[d+1]:[0,d]).reduce((f,m)=>f+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:Jq,startPause:Zq,endPause:r,calculateOffset:i}}},tW=oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nW=oi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rW=oi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iW=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sW=oi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oW=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${sW} 1s linear infinite;
`,aW=oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lW=oi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uW=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lW} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cW=ls("div")`
  position: absolute;
`,hW=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dW=oi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fW=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pW=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(fW,null,e):e:n==="blank"?null:E.createElement(hW,null,E.createElement(oW,{...r}),n!=="loading"&&E.createElement(cW,null,n==="error"?E.createElement(iW,{...r}):E.createElement(uW,{...r})))},mW=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gW=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,yW="0%{opacity:0;} 100%{opacity:1;}",vW="0%{opacity:1;} 100%{opacity:0;}",_W=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wW=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,EW=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=dO()?[yW,vW]:[mW(n),gW(n)];return{animation:e?`${oi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${oi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TW=E.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?EW(t.position||e||"top-center",t.visible):{opacity:0},s=E.createElement(pW,{toast:t}),o=E.createElement(wW,{...t.ariaProps},Kd(t.message,t));return E.createElement(_W,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):E.createElement(E.Fragment,null,s,o))});zq(E.createElement);var SW=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:s,className:e,style:n},i)},IW=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},CW=_p`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nh=16,PW=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=eW(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:nh,left:nh,right:nh,bottom:nh,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=IW(c,h);return E.createElement(SW,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?CW:"",style:d},u.type==="custom"?Kd(u.message,u):i?i(u):E.createElement(TW,{toast:u,position:c}))}))};function fO(){const{handleSubmit:t,register:e,reset:n}=pc(),{setOpenModal:r,openModal:i,setSearch:s,hasSigned:o}=ui(),a=E.useRef(null),l=La(),[u,c]=E.useState(!0),{mutate:h}=cp(m=>{if(!o)return null;const v=parseInt(m.duration),w=mt.now(),g=new Date(w.toMillis()+v*30*24*60*60*1e3),p={...m,startDate:w,endDate:g};return qB(QB,p)},{onSuccess:()=>{l.invalidateQueries(["customers"]),r(!1),s(""),Fe.success("customer was added successfully")},onError:()=>{Fe.error("couldnt add customer")}});async function d(m){h(m)}E.useEffect(()=>{function m(v){a.current.contains(v.target)||r(!1)}return document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[]);function f(m=null){m&&(m.stopPropagation(),c(!1)),r(!1)}return C.jsx(co,{children:u&&C.jsxs(uo.div,{initial:{translateX:-1e3,opacity:0,scale:.5},animate:{translateX:0,opacity:1,scale:1},exit:{translateX:-1e3,opacity:0},transition:{duration:.4},className:"fixed inset-0 flex flex-col items-center justify-center z-50",children:[C.jsx("div",{className:"fixed inset-0 backdrop-filter backdrop-blur-sm bg-opacity-50 bg-gray-900"}),C.jsxs("form",{ref:a,onSubmit:t(d),className:"bg-white relative  w-1/2 p-6 rounded shadow-lg flex gap-4 flex-col",children:[C.jsx("h1",{className:"text-xl font-bold mb-4",children:"Add Customer"}),C.jsx("input",{className:" py-2  rounded-lg  outline outline-lime-600  px-4  focus:outline-none focus:ring focus:ring-green-500 shadow-xl",placeholder:"name",type:"text",...e("name")}),C.jsx("input",{className:" py-2  rounded-lg  outline outline-lime-600  px-4  focus:outline-none focus:ring focus:ring-green-500  shadow-2xl",placeholder:"phone",type:"phone",required:!0,...e("phone")}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"duration"}),C.jsxs("select",{className:"block appearance-none cursor-pointer w-full bg-white border border-gray-300 hover:border-gray-500  px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",name:"duration",id:"duration",...e("duration"),required:!0,children:[C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"1",children:"1Month"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"2",children:"2Months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"3",children:"3Months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"6",children:"6Months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"9",children:"9months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"12",children:"year"})]})]}),C.jsx("button",{className:"bg-lime-600 rounded-full hover:bg-lime-700 text-white font-bold py-2 px-4  transition-colors mt-4",children:"Add"}),C.jsx("button",{onClick:m=>f(m),className:" absolute  text-lg text-red-600 right-4 top-5 ",children:"✕"})]})]})})}function sw(){const{register:t,handleSubmit:e}=pc(),n=La();function r(){i(!1),o(null)}const{setOpenRenewModal:i,openRenewModal:s,setSelectedId:o,selectedId:a,setSearch:l}=ui(),u=E.useRef(null),{mutate:c}=cp(d=>{const f=parseInt(d.duration),m=mt.now(),v=new Date(m.toMillis()+f*30*24*60*60*1e3),w=Ru(ya,"customers",a);return Yk(w,{startDate:m,endDate:v})},{onSuccess:()=>{n.invalidateQueries(["customers"]),i(!1),l(""),Fe.success("renewed successfully")},onError:()=>{Fe.error("could not renew")}});async function h(d){c(d)}return E.useEffect(()=>{function d(f){u.current.contains(f.target)||(i(!1),o(null))}return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}},[a]),C.jsx(co,{children:C.jsxs(uo.div,{initial:{translateX:-1e3,opacity:0,scale:.5},animate:{translateX:0,opacity:1,scale:1},exit:{translateX:-1e3,opacity:0},transition:{duration:.4},className:"fixed inset-0 flex flex-col items-center justify-center z-50",children:[C.jsx("div",{className:"fixed inset-0 backdrop-filter backdrop-blur-sm bg-opacity-50 bg-gray-900"}),C.jsxs("form",{ref:u,onSubmit:e(h),className:"bg-white relative  w-1/2 p-6 rounded shadow-lg flex gap-4 flex-col",children:[C.jsx("h1",{className:"text-xl font-bold mb-4",children:"Renew"}),C.jsxs("div",{className:" flex flex-col gap-1",children:[C.jsx("label",{htmlFor:"duration",children:"duration from today"}),C.jsxs("select",{className:"block appearance-none cursor-pointer w-full bg-white border border-gray-300 hover:border-gray-500  px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",name:"duration",id:"duration",...t("duration"),required:!0,children:[C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"1",children:"1 Month"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"2",children:"2 Months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"3",children:"3 Months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"6",children:"6 Months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"9",children:"9 months"}),C.jsx("option",{className:"py-2 text-red-500 bg-gray-200 hover:bg-gray-300",value:"12",children:"year"})]})]}),C.jsx("button",{className:"bg-lime-600 rounded-full hover:bg-lime-700 text-white font-bold py-2 px-4  transition-colors mt-4",children:"renew"}),C.jsx("button",{onClick:()=>r(),className:" absolute  text-lg text-red-600 right-4 top-5 ",children:"✕"})]})]})})}function VI(){const[t,e]=E.useState(!1),{openModal:n,setOpenModal:r,openRenewModal:i,search:s,hasSigned:o}=ui(),[a,l]=E.useState([]);function u(v){v.stopPropagation(),r(!0)}console.log(n);async function c(){try{const v=Fk(ya,"customers");return(await zB(v)).docs.map(p=>({...p.data(),id:p.id}))}catch(v){throw console.error(v),e(!0),v}}const{data:h,isLoading:d,isError:f,error:m}=Db(["customers"],c);return E.useEffect(()=>{function v(){if(s==="")l(h);else{const w=h.filter(g=>g.name.toLowerCase().includes(s.toLowerCase()));l(w)}}v()},[s,h]),console.log(f,m),d?C.jsx(co,{children:C.jsx(uo.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.5},className:"flex justify-center items-center mx-auto text-center my-5",children:C.jsx("div",{className:"text-center justify-center items-center",children:C.jsx(x_,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})})}):f?C.jsx("div",{className:"justify-center items-center mx-auto my-5 text-center",children:C.jsx("h2",{className:"text-xl text-red-600",children:"Could not get data"})}):C.jsxs("div",{className:"my-6 flex flex-col",children:[C.jsx("button",{onClick:v=>u(v),className:"py-2 px-3 self-end my-4 bg-white outline outline-lime-600 text-black hover:bg-lime-600 transition-colors  disabled:opacity-50 disabled:cursor-not-allowed   rounded-full hover:text-white",children:"Add customer"}),n&&C.jsxs(C.Fragment,{children:[C.jsx(fO,{})," ",C.jsx(au,{})," "]}),i&&C.jsx(sw,{}),C.jsx("div",{className:"flex gap-2 flex-col",children:a==null?void 0:a.map((v,w)=>C.jsx("div",{children:C.jsx(uO,{cus:v},v.id)},v.id))})]})}function AW(t){return lp({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"}}]})(t)}function RW(){const{register:t,reset:e,handleSubmit:n}=pc(),{signIn:r,email:i,hasSigned:s}=ui(),[o,a]=E.useState(""),l=Jv(),[u,c]=E.useState(!1);vR(Ms,f=>{console.log(f||"No user is signed in.")});async function h(f){try{c(!0);const{email:m,Password:v}=f;console.log(v,m);const w=await E$(Ms,m,v);r(m),a(""),e(),l("/home")}catch(m){a(m.message),c(!1)}finally{c(!1)}}async function d(){try{await q$(Ms,GB),l("/home")}catch(f){console.error(f)}}return C.jsx(co,{children:C.jsx(uo.form,{initial:{translateX:-1e3,opacity:0,scale:.5},animate:{translateX:0,opacity:1,scale:1},exit:{translateX:-1e3,opacity:0},transition:{duration:.4},onSubmit:n(h),className:"     my-16 ",children:C.jsx("div",{className:"  max-w-xl  rounded-lg  mx-auto  shadow-xl",children:C.jsxs("div",{className:" gap-2 max-w-lg mx-auto  flex-wrap flex flex-col",children:[u&&C.jsx("div",{className:" justify-center items-center mx-auto text-center",children:C.jsx(x_,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})}),C.jsx("h2",{className:" text-center text-xl font-bold",children:"Login"}),C.jsxs("div",{className:" flex flex-col gap-1",children:[C.jsx("label",{className:" font-semibold",htmlFor:"email",children:"Email Address"}),C.jsx("input",{className:"  py-2  rounded-lg  px-4  focus:outline-none focus:ring focus:ring-green-500 shadow-xl ",placeholder:"Example@gmail.com",id:"email",type:"email",...t("email")})]}),C.jsxs("div",{className:" flex flex-col gap-1",children:[C.jsx("label",{className:"  font-semibold",htmlFor:"password",children:"password"}),C.jsx("input",{className:" py-2  px-4 rounded-lg   focus:outline-none focus:ring focus:ring-green-500 shadow-xl ",id:"password",placeholder:"your Password",type:"password",...t("Password")})]}),C.jsx("div",{}),C.jsx("button",{disabled:u,type:"submit",className:" bg-green-600 py-2 px-4 disabled:opacity-50 disabled:cursor-not-allowed  my-4 text-center shadow-md rounded-lg text-white  hover:bg-green-500 transition-colors",children:"login"}),C.jsx("h4",{className:" text-center mb-1",children:"or"}),C.jsxs("button",{onClick:d,className:" flex items-center justify-center  my-4 bg-[#d85040] py-2 px-4 hover:bg-[#e85645] transition-colors text-white rounded-lg",children:[C.jsx("span",{className:" pr-8",children:C.jsx(AW,{})})," ","Login with Google"]}),C.jsx("div",{className:" justify-end  self-end",children:C.jsxs("h3",{className:" my-4 ",children:["dont have an account ?",C.jsxs(e0,{className:" cursor-pointer text-blue-500",to:"/createacc",children:[" ","sign up"," "]})," "]})}),o&&C.jsx("div",{className:"  justify-center  items-center ",children:C.jsx("h2",{className:" text-red-600 text-center my-4",children:o})})]})})})})}function xW(){return C.jsx("div",{})}function kW(){const{register:t,reset:e,handleSubmit:n}=pc(),[r,i]=E.useState(""),s=Jv();async function o(a){try{const{email:l,Password:u}=a,c=await w$(Ms,l,u);i("")}catch(l){i(l.message)}e(),s("/sign")}return C.jsx(co,{children:C.jsx(uo.form,{initial:{translateX:-1e3,opacity:0,scale:.5},animate:{translateX:0,opacity:1,scale:1},exit:{translateX:-1e3,opacity:0},transition:{duration:.4},onSubmit:n(o),className:"     my-16 ",children:C.jsx("div",{className:"  max-w-xl  rounded-lg  mx-auto  shadow-xl",children:C.jsxs("div",{className:" gap-2 max-w-lg mx-auto  flex-wrap flex flex-col",children:[C.jsx("h2",{className:" text-center text-xl font-bold",children:"Sign Up"}),C.jsxs("div",{className:" flex flex-col gap-1",children:[C.jsx("label",{className:" font-semibold",htmlFor:"email",children:"Email Address"}),C.jsx("input",{required:!0,className:"  py-2  rounded-lg  px-4  focus:outline-none focus:ring focus:ring-green-500 shadow-xl ",placeholder:"Example@gmail.com",id:"email",type:"email",...t("email")})]}),C.jsxs("div",{className:" flex flex-col gap-1",children:[C.jsx("label",{className:"  font-semibold",htmlFor:"password",children:"password"}),C.jsx("input",{required:!0,minLength:7,maxLength:50,className:" py-2  px-4 rounded-lg   focus:outline-none focus:ring focus:ring-green-500 shadow-xl ",id:"password",placeholder:"your Password",type:"password",...t("Password")})]}),C.jsx("div",{}),C.jsx("button",{type:"submit",className:" bg-green-600 py-2 px-4  my-4 text-center shadow-md rounded-lg text-white  hover:bg-green-500 transition-colors",children:"Sign Up"}),C.jsx("div",{className:" justify-end  self-end",children:C.jsxs("h3",{className:" my-4 ",children:[C.jsxs(e0,{className:" cursor-pointer text-blue-500",to:"/sign",children:[" ","sign in"," "]})," "]})}),r&&C.jsx("div",{className:"  justify-center  items-center ",children:C.jsx("h2",{className:" text-red-600 text-center my-4",children:r})})]})})})})}const bW=hV([{path:"/",element:C.jsx(gb,{}),children:[{path:"home",element:C.jsx(VI,{})},{path:"/",element:C.jsx(VI,{})},{path:"sign",element:C.jsx(RW,{})},{path:"items",element:C.jsx(uO,{})},{path:"items/:id",element:C.jsx(xW,{})},{path:"items/edit/:id",element:C.jsx(sw,{})},{path:"createacc",element:C.jsx(kW,{})}]}]),DW=new x6;Ym.createRoot(document.getElementById("root")).render(C.jsx(me.StrictMode,{children:C.jsx(H6,{client:DW,children:C.jsxs(i6,{children:[C.jsx(au,{transition:GN}),C.jsxs(nV,{router:bW,children:[C.jsx(p6,{}),C.jsx(PW,{position:"top-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}}),C.jsx(fO,{}),C.jsx(sw,{}),C.jsx(lO,{})]})]})})}));
